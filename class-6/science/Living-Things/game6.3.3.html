<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Body Systems Explorer - STEM Learn Odisha</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin:0; padding:0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        body { background-color: #f0f7ff; color:#1e293b; line-height:1.6; overflow-x:hidden; }
        .container { width:100%; max-width:1200px; margin:0 auto; padding:0 20px; }

        /* Language Switcher */
        .language-switcher { position:absolute; top:20px; right:20px; background: rgba(255,255,255,0.15); border-radius:25px; padding:8px; backdrop-filter: blur(6px); z-index:1000; display:flex; gap:6px; }
        .lang-btn { padding:8px 12px; border:none; background:transparent; border-radius:16px; cursor:pointer; font-size:0.9rem; font-weight:600; color:white; }
        .lang-btn.active { background: rgba(255,255,255,0.25); color:white; }
        
        /* header */
        header { background: linear-gradient(135deg,#0e2a47 0%,#1a365d 100%); color:white; padding:15px 0; position:sticky; top:0; z-index:100; box-shadow:0 4px 12px rgba(0,0,0,0.1); }
        .header-content { display:flex; justify-content:space-between; align-items:center; position:relative; }
        .logo { display:flex; gap:12px; align-items:center; }
        .logo-icon { font-size:2.2rem; background:white; color:#2a69ac; width:55px; height:55px; border-radius:50%; display:flex; align-items:center; justify-content:center; box-shadow:0 4px 10px rgba(0,0,0,0.1); }
        .logo-text { font-size:1.6rem; font-weight:700; }
        .logo-text span { color:#38b2ac; font-weight:800; }
        nav ul { display:flex; gap:18px; list-style:none; }
        nav a { color:white; text-decoration:none; font-weight:500; padding:8px 12px; border-radius:8px; }
        
        /* Instructions Modal */
        .instructions-modal { display: flex; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.85); z-index: 2000; align-items: center; justify-content: center; }
        .instructions-content { background: white; border-radius: 20px; width: 90%; max-width: 700px; padding: 30px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3); position: relative; text-align: center; }
        .instructions-title { font-size: 2rem; margin-bottom: 20px; color: #1a365d; font-weight: 700; }
        .instructions-text { color: #64748b; margin-bottom: 25px; line-height: 1.6; text-align: left; font-size: 1.1rem; }
        .instructions-list { margin-left: 20px; margin-bottom: 25px; }
        .instructions-list li { margin-bottom: 10px; }
        .start-game-btn { padding: 15px 40px; background: linear-gradient(135deg, #38b2ac 0%, #2c9a94 100%); color: white; border: none; border-radius: 10px; font-size: 1.2rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; margin-top: 20px; }
        .start-game-btn:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(56, 178, 172, 0.3); }

        /* game header */
        .game-header { background: linear-gradient(rgba(14,42,71,0.85),rgba(26,54,93,0.9)), url('https://images.unsplash.com/photo-1559757148-5c350d0d3c56?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80'); background-size:cover; background-position:center; color:white; padding:50px 0; text-align:center; }
        .game-header h1 { font-size:2.8rem; margin-bottom:12px; font-weight:700; text-shadow:0 2px 4px rgba(0,0,0,0.2); }
        .game-header p { font-size:1.1rem; max-width:800px; margin:0 auto; font-weight:300; opacity:0.95; }

        /* game stats */
        .game-stats { display:flex; justify-content:space-between; align-items:center; background:white; padding:15px 25px; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.08); margin:20px auto; max-width:1000px; gap:12px; flex-wrap:wrap; }
        .timer, .score, .hints { display:flex; align-items:center; gap:10px; font-size:1.1rem; font-weight:600; color:#1a365d; }
        .timer i { color:#e53e3e; }
        .score i { color:#38a169; }
        .hints i { color:#d69e2e; }
        .progress-container { width:200px; height:12px; background:#e2e8f0; border-radius:10px; overflow:hidden; }
        .progress-bar { height:100%; background:#3182ce; border-radius:10px; transition: width 0.5s ease; }

        /* game area */
        .game-area { padding:40px 0 60px; }
        .game-container { display:grid; grid-template-columns:1fr 1fr; gap:30px; max-width:1000px; margin:0 auto 40px auto; }
        
        /* Updated Drop Zones for Anatomy Game */
        .drop-zone { background: rgba(255,255,255,0.95); border-radius:25px; padding:25px; box-shadow:0 10px 30px rgba(0,0,0,0.08); min-height:350px; display:flex; flex-direction:column; border:3px dashed #cbd5e0; transition: all 0.3s ease; position:relative; }
        .drop-zone.highlight { border-color:#4299e1; background: rgba(235,248,255,0.95); transform:scale(1.03); }
        .drop-zone.incorrect { border-color:#e53e3e; background: rgba(254,226,226,0.95); animation: shake 0.5s; }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        
        .zone-header { display:flex; align-items:center; gap:15px; margin-bottom:18px; }
        .zone-icon { width:60px; height:60px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:1.6rem; }
        .structure-icon { background: linear-gradient(45deg,#4299e1,#3182ce); color:white; }
        .function-icon { background: linear-gradient(45deg,#ed8936,#dd6b20); color:white; }
        .zone-title { font-size:1.4rem; font-weight:700; color:#1a365d; }

        .zone-items { display:flex; flex-wrap:wrap; gap:12px; min-height:160px; align-content:flex-start; }
        
        /* Body Parts Items INSIDE THE STRUCTURE ZONE */
        .body-item { width:110px; height:110px; background: linear-gradient(145deg,#ffffff,#f0f4f8); border-radius:16px; display:flex; flex-direction:column; align-items:center; justify-content:center; cursor:grab; box-shadow:0 8px 20px rgba(0,0,0,0.06); transition:all 0.25s ease; user-select:none; border:2px solid rgba(255,255,255,0.3); position: relative; }
        .body-item:hover { transform:translateY(-8px); box-shadow: 0 12px 25px rgba(0,0,0,0.15); }
        .body-item.dragging { opacity:0.85; transform:scale(1.08) rotate(8deg); z-index:1200; box-shadow: 0 15px 30px rgba(0,0,0,0.2); }
        .body-item.correct { border-color: #38a169; background: linear-gradient(145deg,#f0fff4,#dcffe4); cursor: default !important; opacity: 0.7 !important; }
        .body-item.incorrect { border-color: #e53e3e; background: linear-gradient(145deg,#fff5f5,#fed7d7); }
        .body-item.correct:hover { transform: none !important; box-shadow: none !important; }
        .body-icon { font-size:2.6rem; margin-bottom:8px; }
        .body-name { font-size:0.95rem; font-weight:700; color:#2d3748; text-align:center; }
        
        /* Function Cards */
        .function-card { background: linear-gradient(145deg,#ffffff,#f7fafc); border-radius:12px; padding:15px; box-shadow:0 4px 12px rgba(0,0,0,0.05); border:2px solid #e2e8f0; transition: all 0.3s ease; cursor:grab; }
        .function-card:hover { transform:translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.1); }
        .function-card.dragging { opacity:0.85; transform:scale(1.05); z-index:1200; }
        .function-card.correct { border-color: #38a169; background: linear-gradient(145deg,#f0fff4,#dcffe4); cursor: default !important; opacity: 0.7 !important; }
        .function-card.incorrect { border-color: #e53e3e; background: linear-gradient(145deg,#fff5f5,#fed7d7); }
        .function-card.correct:hover { transform: none !important; box-shadow: none !important; }
        .function-text { font-size:0.9rem; font-weight:600; color:#2d3748; line-height:1.4; }
        
        /* Hint Button */
        .hint-btn { position: absolute; bottom: 15px; right: 15px; width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(45deg,#d69e2e,#b7791f); color: white; border: none; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.3s ease; }
        .hint-btn:hover { transform: scale(1.1); box-shadow: 0 4px 12px rgba(214, 158, 46, 0.3); }
        
        /* modal */
        .modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.75); z-index:2000; align-items:center; justify-content:center; }
        .modal-content { background:linear-gradient(145deg,#ffffff,#f0f8ff); border-radius:24px; width:90%; max-width:700px; padding:36px; text-align:center; position:relative; box-shadow: 0 20px 50px rgba(0,0,0,0.3); }
        .modal-close { position:absolute; top:16px; right:16px; background:rgba(0,0,0,0.06); border:none; font-size:1.4rem; width:44px; height:44px; border-radius:50%; cursor:pointer; transition: all 0.3s ease; }
        .modal-close:hover { background:rgba(0,0,0,0.12); transform: rotate(90deg); }
        .modal-body-image { width:96px; height:96px; font-size:3.6rem; margin:0 auto 18px; display:flex; align-items:center; justify-content:center; border-radius:16px; background:rgba(255,255,255,0.9); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .modal-icon { font-size:3.6rem; margin-bottom:12px; }
        .modal-title { font-size:2rem; font-weight:800; color:#1a365d; margin-bottom:8px; }
        .modal-text { color:#4a5568; margin-bottom:18px; font-size:1rem; line-height:1.6; }
        .modal-action { padding:12px 22px; background:linear-gradient(45deg,#4facfe,#00f2fe); color:white; border:none; border-radius:14px; font-weight:800; cursor:pointer; transition: all 0.3s ease; }
        .modal-action:hover { transform: translateY(-3px); box-shadow: 0 6px 15px rgba(79, 172, 254, 0.4); }

        .level-complete { display:none; text-align:center; padding:28px; background:linear-gradient(145deg,#ffffff,#f7fafc); border-radius:20px; box-shadow:0 20px 40px rgba(0,0,0,0.08); max-width:700px; margin:24px auto; }
        .next-level-btn { padding:10px 18px; background:linear-gradient(45deg,#38b2ac,#2c9a94); color:white; border:none; border-radius:12px; font-weight:800; cursor:pointer; transition: all 0.3s ease; }
        .next-level-btn:hover { transform: translateY(-3px); box-shadow: 0 6px 15px rgba(56, 178, 172, 0.4); }
        
        /* Scoreboard */
        .scoreboard { display: none; text-align: center; padding: 40px 0; }
        .scoreboard-container { background: white; border-radius: 20px; padding: 40px; box-shadow: 0 20px 40px rgba(0,0,0,0.08); max-width: 800px; margin: 0 auto; }
        .scoreboard-title { font-size: 2.5rem; color: #1a365d; margin-bottom: 20px; font-weight: 800; }
        .scoreboard-subtitle { color: #64748b; font-size: 1.1rem; margin-bottom: 30px; }
        .scoreboard-stats { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin: 30px 0; }
        .stat-box { background: #f7fafc; border-radius: 15px; padding: 20px; text-align: center; border: 2px solid #e2e8f0; }
        .stat-value { font-size: 2.5rem; font-weight: 800; color: #4299e1; margin: 10px 0; }
        .stat-label { color: #64748b; font-size: 1rem; }
        .scoreboard-table { width: 100%; border-collapse: collapse; margin: 30px 0; }
        .scoreboard-table th { background: #4299e1; color: white; padding: 15px; text-align: left; }
        .scoreboard-table td { padding: 15px; border-bottom: 1px solid #e2e8f0; }
        .scoreboard-table tr:hover { background: #f7fafc; }
        
        /* Level Selection */
        .level-selection { display: none; text-align: center; padding: 30px; }
        .level-buttons { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; margin-top: 30px; }
        .level-btn { padding: 20px 30px; background: linear-gradient(45deg, #4299e1, #3182ce); color: white; border: none; border-radius: 15px; font-size: 1.2rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; min-width: 150px; }
        .level-btn:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(66, 153, 225, 0.3); }
        .level-btn i { font-size: 2rem; margin-bottom: 10px; display: block; }
        .level-btn.completed { background: linear-gradient(45deg, #38a169, #2f855a); }
        .level-btn.completed i { color: #c6f6d5; }

        .particles { position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:-1; }
        .particle { position:absolute; width:4px; height:4px; background:rgba(255,255,255,0.5); border-radius:50%; animation: float-particle 18s infinite linear; }

        @keyframes float-particle { 0% { transform: translateY(100vh) translateX(0px); opacity:0; } 10%{opacity:1;} 90%{opacity:1;} 100%{transform:translateY(-100px) translateX(100px); opacity:0;} }

        /* Streak Counter */
        .streak-counter { position: fixed; top: 50%; right: 20px; transform: translateY(-50%); background: linear-gradient(45deg, #ff6b6b, #ee5a24); color: white; padding: 18px 24px; border-radius: 50px; font-weight: 800; font-size: 1.2rem; box-shadow: 0 6px 20px rgba(255, 107, 107, 0.5); z-index: 500; animation: streak-bounce 2s infinite; display: none; }
        @keyframes streak-bounce {
            0%, 100% { transform: translateY(-50%) scale(1); }
            50% { transform: translateY(-55%) scale(1.1); }
        }
        
        /* Fun Animations */
        @keyframes celebrate {
            0% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-20px) rotate(10deg); }
            50% { transform: translateY(-10px) rotate(-10deg); }
            75% { transform: translateY(-15px) rotate(5deg); }
            100% { transform: translateY(0) rotate(0deg); }
        }
        
        .celebrate { animation: celebrate 0.8s ease-in-out; }

        /* Language-specific text styles */
        .odia-text { font-family: 'Kalinga', 'Nirmala UI', 'Segoe UI', sans-serif; font-weight:600; }
        .hindi-text { font-family: 'Nirmala UI', 'Segoe UI', sans-serif; font-weight:600; }

        /* Confetti animation */
        @keyframes confetti-fall {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }

        @media (max-width:968px) {
            .game-container { grid-template-columns:1fr; gap:20px; }
            .body-item { width:92px; height:92px; }
            .game-stats { flex-direction:column; gap:10px; align-items:flex-start; }
            .language-switcher { right:12px; top:12px; }
            .streak-counter { display: none !important; }
            .level-buttons { flex-direction: column; align-items: center; }
            .scoreboard-stats { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>
    <div class="streak-counter" id="streak-counter">üî• <span id="streak-count">0</span> Streak!</div>

    <div class="language-switcher">
        <button class="lang-btn active" data-lang="en">English</button>
        <button class="lang-btn" data-lang="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü</button>
        <button class="lang-btn" data-lang="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</button>
    </div>

    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon"><i class="fas fa-heartbeat"></i></div>
                    <div class="logo-text">STEM <span>Learn</span> Odisha</div>
                </div>

                <nav>
                    <ul>
                        <li><a href="student-dashboard.html" data-translate="nav-dashboard">Dashboard</a></li>
                        <li><a href="about.html" data-translate="nav-about">About</a></li>
                        <li><a href="contact.html" data-translate="nav-contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- Instructions modal -->
    <div class="instructions-modal" id="instructions-modal">
        <div class="instructions-content">
            <div class="language-switcher" style="position: relative; top: 0; right: 0; margin: 0 auto 20px auto; width: fit-content; background: rgba(26, 54, 93, 0.1);">
                <button class="lang-btn active" data-lang="en">English</button>
                <button class="lang-btn" data-lang="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü</button>
                <button class="lang-btn" data-lang="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</button>
            </div>
            
            <h2 class="instructions-title" id="instructions-title">Body Systems Explorer</h2>
            <div class="instructions-text" id="instructions-text">
                <p id="instructions-intro">Welcome to Body Systems Explorer! Learn about human anatomy by matching body parts with their functions.</p>
                <ul class="instructions-list" id="instructions-list">
                    <li id="instruction-1">Drag body parts to match them with their correct functions</li>
                    <li id="instruction-2">Each correct match earns points and builds your streak</li>
                    <li id="instruction-3">Maintain your streak to earn bonus points</li>
                    <li id="instruction-4">Click on the hint button if you need help</li>
                    <li id="instruction-5">Complete all matches to finish the level</li>
                    <li id="instruction-6">Explore different body systems: Skeletal, Muscular, Circulatory, etc.</li>
                </ul>
                <p id="instructions-outro">Learn how amazing your body is! Good luck!</p>
            </div>
            <button class="start-game-btn" id="start-game-btn">Start Learning</button>
        </div>
    </div>

    <!-- Scoreboard -->
    <div class="scoreboard" id="scoreboard">
        <div class="container">
            <div class="scoreboard-container">
                <h1 class="scoreboard-title" id="scoreboard-title">üéâ Game Complete! üéâ</h1>
                <p class="scoreboard-subtitle" id="scoreboard-subtitle">Congratulations! You've completed all body systems!</p>
                
                <div class="scoreboard-stats">
                    <div class="stat-box">
                        <div class="stat-label">Total Score</div>
                        <div class="stat-value" id="total-score">0</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Systems Completed</div>
                        <div class="stat-value" id="systems-completed">0/6</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Perfect Matches</div>
                        <div class="stat-value" id="total-perfect-matches">0</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Highest Streak</div>
                        <div class="stat-value" id="highest-streak">0</div>
                    </div>
                </div>

                <table class="scoreboard-table">
                    <thead>
                        <tr>
                            <th>Body System</th>
                            <th>Score</th>
                            <th>Matches</th>
                            <th>Time</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="scoreboard-table-body">
                        <!-- Scores will be populated here -->
                    </tbody>
                </table>

                <div style="margin-top: 30px;">
                    <button class="next-level-btn" id="play-all-again-btn" style="background: linear-gradient(45deg,#38b2ac,#2c9a94); margin-right: 10px;">Play All Again</button>
                    <button class="next-level-btn" id="back-to-menu-btn" style="background: linear-gradient(45deg,#4299e1,#3182ce);">Back to Menu</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Level Selection -->
    <div class="level-selection" id="level-selection">
        <div class="container">
            <h1 style="color: #1a365d; margin-bottom: 10px;" data-translate="choose-system">Choose a Body System</h1>
            <p style="color: #64748b; margin-bottom: 30px;" data-translate="select-system-desc">Select a system to start learning about its structure and function</p>
            
            <div class="level-buttons">
                <button class="level-btn" data-level="skeletal" id="skeletal-btn">
                    <i class="fas fa-bone"></i>
                    <span>Skeletal System</span>
                </button>
                <button class="level-btn" data-level="muscular" id="muscular-btn">
                    <i class="fas fa-dumbbell"></i>
                    <span>Muscular System</span>
                </button>
                <button class="level-btn" data-level="circulatory" id="circulatory-btn">
                    <i class="fas fa-heart"></i>
                    <span>Circulatory System</span>
                </button>
                <button class="level-btn" data-level="respiratory" id="respiratory-btn">
                    <i class="fas fa-lungs"></i>
                    <span>Respiratory System</span>
                </button>
                <button class="level-btn" data-level="digestive" id="digestive-btn">
                    <i class="fas fa-stomach"></i>
                    <span>Digestive System</span>
                </button>
                <button class="level-btn" data-level="nervous" id="nervous-btn">
                    <i class="fas fa-brain"></i>
                    <span>Nervous System</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Game header -->
    <section class="game-header" style="display:none;" id="game-header">
        <div class="container">
            <h1 id="system-title" data-translate="game-title">Body Systems Explorer</h1>
            <p id="system-description" data-translate="game-desc">Match body parts with their functions to learn about human anatomy!</p>
        </div>
</section>

    <!-- Game stats -->
    <div class="container" style="display:none;" id="game-stats-container">
        <div class="game-stats">
            <div class="timer">
                <i class="fas fa-clock"></i>
                <span id="time">05:00</span>
                <span id="time-label" style="display: none;">Time:</span>
            </div>

            <div class="score">
                <i class="fas fa-star"></i>
                <span id="score">Score: 0</span>
            </div>

            <div class="hints">
                <i class="fas fa-fire"></i>
                <span id="streak">Streak: 0</span>
            </div>

            <div class="progress-container">
                <div class="progress-bar" id="progress" style="width:0%"></div>
            </div>
        </div>
    </div>

    <!-- Game area -->
    <section class="game-area" style="display:none;" id="game-area">
        <div class="container">
            <!-- REMOVED ANATOMY DIAGRAM FROM HERE -->
            
            <div class="game-container">
                <div class="drop-zone" id="structure-zone">
                    <div class="zone-header">
                        <div class="zone-icon structure-icon"><i class="fas fa-shapes"></i></div>
                        <h2 class="zone-title" id="structure-title">Body Structures</h2>
                    </div>
                    <div class="zone-items" id="structure-items">
                        <!-- Body parts will be dynamically added here INSIDE this zone -->
                    </div>
                    <button class="hint-btn" id="structure-hint" title="Show hint">
                        <i class="fas fa-lightbulb"></i>
                    </button>
                </div>

                <div class="drop-zone" id="function-zone">
                    <div class="zone-header">
                        <div class="zone-icon function-icon"><i class="fas fa-cogs"></i></div>
                        <h2 class="zone-title" id="function-title">Body Functions</h2>
                    </div>
                    <div class="zone-items" id="function-items">
                        <!-- Function cards will be dynamically added here -->
                    </div>
                    <button class="hint-btn" id="function-hint" title="Show hint">
                        <i class="fas fa-lightbulb"></i>
                    </button>
                </div>
            </div>

            <div class="level-complete" id="level-complete">
                <div class="badge"><i class="fas fa-medal"></i></div>
                <h2 class="level-title" id="level-title">Level Complete!</h2>
                <p class="level-text" id="level-text">Congratulations! You've correctly matched all body parts with their functions!</p>
                <div style="margin: 20px 0;">
                    <p style="color: #3182ce; font-weight: 600;">Final Score: <span id="final-score">0</span></p>
                    <p style="color: #38a169; font-weight: 600;">Perfect Matches: <span id="perfect-matches">0</span></p>
                </div>
                <div id="level-complete-buttons">
                    <!-- Buttons will be dynamically added here based on the system -->
                </div>
            </div>
        </div>
    </section>

    <!-- Feedback modal -->
    <div class="modal" id="feedback-modal">
        <div class="modal-content" id="modal-content">
            <button class="modal-close" id="modal-close"><i class="fas fa-times"></i></button>

            <div class="modal-body-image" id="modal-body-image">‚ù§Ô∏è</div>
            <div class="modal-icon correct-icon" id="modal-icon"><i class="fas fa-check-circle"></i></div>
            <h2 class="modal-title" id="modal-title">Correct!</h2>
            <p class="modal-text" id="modal-text">Great! The heart pumps blood throughout the body.</p>
            <div id="extra-info" style="background: #f7fafc; padding: 15px; border-radius: 10px; margin: 15px 0; border-left: 4px solid #38b2ac;">
                <p style="color: #4a5568; font-size: 0.9rem;"><strong>Did you know?</strong> <span id="fun-fact">The human heart beats about 100,000 times a day!</span></p>
            </div>
            <button class="modal-action" id="modal-action">Continue</button>
        </div>
    </div>

    <script>
        /* ---- DATA ---- */
        const bodySystems = {
            skeletal: {
                title: { en: "Skeletal System", or: "‡¨ï‡¨æ‡¨†‡¨ø‡¨®‡≠ç‡≠ü ‡¨§‡¨®‡≠ç‡¨§‡≠ç‡¨∞", hi: "‡§ï‡§Ç‡§ï‡§æ‡§≤ ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä" },
                description: { 
                    en: "The framework of bones that supports and protects the body", 
                    or: "‡¨∂‡¨∞‡≠Ä‡¨∞‡¨ï‡≠Å ‡¨∏‡¨Æ‡¨∞‡≠ç‡¨•‡¨® ‡¨è‡¨¨‡¨Ç ‡¨∏‡≠Å‡¨∞‡¨ï‡≠ç‡¨∑‡¨æ ‡¨¶‡≠á‡¨â‡¨•‡¨ø‡¨¨‡¨æ ‡¨π‡¨æ‡¨°‡¨º‡¨∞ ‡¨´‡≠ç‡¨∞‡≠á‡¨Æ‡≠±‡¨æ‡¨∞‡≠ç‡¨ï", 
                    hi: "‡§π‡§°‡•ç‡§°‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡§æ ‡§¢‡§æ‡§Å‡§ö‡§æ ‡§ú‡•ã ‡§∂‡§∞‡•Ä‡§∞ ‡§ï‡•ã ‡§∏‡§π‡§æ‡§∞‡§æ ‡§î‡§∞ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à" 
                },
                icon: "ü¶¥",
                color: "#4299e1",
                items: [
                    { 
                        id: 1, 
                        name: { en: "Skull", or: "‡¨ñ‡¨™‡≠Å‡¨∞‡≠Ä", hi: "‡§ñ‡•ã‡§™‡§°‡§º‡•Ä" }, 
                        icon: "üíÄ", 
                        function: { 
                            en: "Protects the brain and supports facial structures", 
                            or: "‡¨Æ‡¨∏‡≠ç‡¨§‡¨ø‡¨∑‡≠ç‡¨ï‡¨ï‡≠Å ‡¨∏‡≠Å‡¨∞‡¨ï‡≠ç‡¨∑‡¨æ ‡¨¶‡≠á‡¨á‡¨•‡¨æ‡¨è ‡¨è‡¨¨‡¨Ç ‡¨Æ‡≠Å‡¨π‡¨Å‡¨∞ ‡¨ó‡¨†‡¨®‡¨ï‡≠Å ‡¨∏‡¨Æ‡¨∞‡≠ç‡¨•‡¨® ‡¨ï‡¨∞‡≠á", 
                            hi: "‡§Æ‡§∏‡•ç‡§§‡§ø‡§∑‡•ç‡§ï ‡§ï‡•Ä ‡§∞‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§ö‡•á‡§π‡§∞‡•á ‡§ï‡•Ä ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§∏‡§π‡§æ‡§∞‡§æ ‡§¶‡•á‡§§‡§æ ‡§π‡•à" 
                        },
                        matchId: 1,
                        funFact: {
                            en: "The human skull is made up of 22 bones!",
                            or: "‡¨Æ‡¨æ‡¨®‡¨¨ ‡¨ñ‡¨™‡≠Å‡¨∞‡≠Ä 22 ‡¨ü‡¨ø ‡¨π‡¨æ‡¨°‡¨º‡¨∞‡≠á ‡¨ó‡¨†‡¨ø‡¨§!",
                            hi: "‡§Æ‡§æ‡§®‡§µ ‡§ñ‡•ã‡§™‡§°‡§º‡•Ä 22 ‡§π‡§°‡•ç‡§°‡§ø‡§Ø‡•ã‡§Ç ‡§∏‡•á ‡§¨‡§®‡•Ä ‡§π‡•ã‡§§‡•Ä ‡§π‡•à!"
                        }
                    },
                    { 
                        id: 2, 
                        name: { en: "Spine", or: "‡¨Æ‡≠á‡¨∞‡≠Å‡¨¶‡¨£‡≠ç‡¨°", hi: "‡§∞‡•Ä‡§¢‡§º" }, 
                        icon: "ü¶¥", 
                        function: { 
                            en: "Supports body weight and protects the spinal cord", 
                            or: "‡¨∂‡¨∞‡≠Ä‡¨∞‡¨∞ ‡¨ì‡¨ú‡¨®‡¨ï‡≠Å ‡¨∏‡¨Æ‡¨∞‡≠ç‡¨•‡¨® ‡¨ï‡¨∞‡≠á ‡¨è‡¨¨‡¨Ç ‡¨∏‡≠ç‡¨™‡¨æ‡¨á‡¨®‡¨æ‡¨≤‡≠ç ‡¨ï‡¨∞‡≠ç‡¨°‡¨ï‡≠Å ‡¨∏‡≠Å‡¨∞‡¨ï‡≠ç‡¨∑‡¨æ ‡¨¶‡≠á‡¨á‡¨•‡¨æ‡¨è", 
                            hi: "‡§∂‡§∞‡•Ä‡§∞ ‡§ï‡§æ ‡§µ‡§ú‡§® ‡§∏‡§Ç‡§≠‡§æ‡§≤‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§∞‡•Ä‡§¢‡§º ‡§ï‡•Ä ‡§π‡§°‡•ç‡§°‡•Ä ‡§ï‡•Ä ‡§∞‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à" 
                        },
                        matchId: 2,
                        funFact: {
                            en: "The spine has 33 vertebrae when you're born, but some fuse together as you grow!",
                            or: "‡¨ú‡¨®‡≠ç‡¨Æ ‡¨∏‡¨Æ‡≠ü‡¨∞‡≠á ‡¨Æ‡≠á‡¨∞‡≠Å‡¨¶‡¨£‡≠ç‡¨°‡¨∞‡≠á 33 ‡¨ï‡¨∂‡≠á‡¨∞‡≠Å‡¨ï‡¨æ ‡¨•‡¨æ‡¨è, ‡¨ï‡¨ø‡¨®‡≠ç‡¨§‡≠Å ‡¨¨‡¨¢‡¨º‡¨ø‡¨¨‡¨æ ‡¨∏‡¨π‡¨ø‡¨§ ‡¨ï‡≠á‡¨§‡≠á‡¨ï ‡¨è‡¨ï‡¨§‡≠ç‡¨∞ ‡¨Æ‡¨ø‡¨∂‡¨ø‡¨Ø‡¨æ‡¨è!",
                            hi: "‡§ú‡§®‡•ç‡§Æ ‡§ï‡•á ‡§∏‡§Æ‡§Ø ‡§∞‡•Ä‡§¢‡§º ‡§Æ‡•á‡§Ç 33 ‡§ï‡§∂‡•á‡§∞‡•Å‡§ï‡§æ‡§è‡§Å ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡§Ç, ‡§≤‡•á‡§ï‡§ø‡§® ‡§¨‡§¢‡§º‡§®‡•á ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ï‡•Å‡§õ ‡§Ü‡§™‡§∏ ‡§Æ‡•á‡§Ç ‡§ú‡•Å‡§°‡§º ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à‡§Ç!"
                        }
                    },
                    { 
                        id: 3, 
                        name: { en: "Ribs", or: "‡¨™‡¨û‡≠ç‡¨ú‡¨∞‡¨æ", hi: "‡§™‡§∏‡§≤‡•Ä" }, 
                        icon: "ü¶¥ü¶¥", 
                        function: { 
                            en: "Protects the heart and lungs", 
                            or: "‡¨π‡≠É‡¨¶‡≠ü ‡¨è‡¨¨‡¨Ç ‡¨´‡≠Å‡¨∏‡≠ç‡¨´‡≠Å‡¨∏‡≠ç‡¨ï‡≠Å ‡¨∏‡≠Å‡¨∞‡¨ï‡≠ç‡¨∑‡¨æ ‡¨¶‡≠á‡¨á‡¨•‡¨æ‡¨è", 
                            hi: "‡§¶‡§ø‡§≤ ‡§î‡§∞ ‡§´‡•á‡§´‡§°‡§º‡•ã‡§Ç ‡§ï‡•Ä ‡§∞‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡§§‡•Ä ‡§π‡•à" 
                        },
                        matchId: 3,
                        funFact: {
                            en: "Most people have 12 pairs of ribs, but some have 11 or 13 pairs!",
                            or: "‡¨Ö‡¨ß‡¨ø‡¨ï‡¨æ‡¨Ç‡¨∂ ‡¨≤‡≠ã‡¨ï‡¨ô‡≠ç‡¨ï‡¨∞ 12 ‡¨Ø‡≠ã‡¨°‡¨º‡¨ø ‡¨™‡¨û‡≠ç‡¨ú‡¨∞‡¨æ ‡¨•‡¨æ‡¨è, ‡¨ï‡¨ø‡¨®‡≠ç‡¨§‡≠Å ‡¨ï‡≠á‡¨§‡≠á‡¨ï‡¨ô‡≠ç‡¨ï‡¨∞ 11 ‡¨¨‡¨æ 13 ‡¨Ø‡≠ã‡¨°‡¨º‡¨ø ‡¨•‡¨æ‡¨è!",
                            hi: "‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ‡§§‡§∞ ‡§≤‡•ã‡§ó‡•ã‡§Ç ‡§ï‡•Ä 12 ‡§ú‡•ã‡§°‡§º‡•Ä ‡§™‡§∏‡§≤‡§ø‡§Ø‡§æ‡§Å ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡§Ç, ‡§≤‡•á‡§ï‡§ø‡§® ‡§ï‡•Å‡§õ ‡§ï‡•Ä 11 ‡§Ø‡§æ 13 ‡§ú‡•ã‡§°‡§º‡•Ä ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡§Ç!"
                        }
                    },
                    { 
                        id: 4, 
                        name: { en: "Femur", or: "‡¨´‡¨ø‡¨Æ‡¨∞‡≠ç", hi: "‡§ú‡§æ‡§Ç‡§ò ‡§ï‡•Ä ‡§π‡§°‡•ç‡§°‡•Ä" }, 
                        icon: "ü¶µ", 
                        function: { 
                            en: "Longest and strongest bone, supports body weight", 
                            or: "‡¨¶‡≠Ä‡¨∞‡≠ç‡¨ò‡¨§‡¨Æ ‡¨è‡¨¨‡¨Ç ‡¨∂‡¨ï‡≠ç‡¨§‡¨ø‡¨∂‡¨æ‡¨≥‡≠Ä ‡¨π‡¨æ‡¨°‡¨º, ‡¨∂‡¨∞‡≠Ä‡¨∞‡¨∞ ‡¨ì‡¨ú‡¨®‡¨ï‡≠Å ‡¨∏‡¨Æ‡¨∞‡≠ç‡¨•‡¨® ‡¨ï‡¨∞‡≠á", 
                            hi: "‡§∏‡§¨‡§∏‡•á ‡§≤‡§Ç‡§¨‡•Ä ‡§î‡§∞ ‡§Æ‡§ú‡§¨‡•Ç‡§§ ‡§π‡§°‡•ç‡§°‡•Ä, ‡§∂‡§∞‡•Ä‡§∞ ‡§ï‡§æ ‡§µ‡§ú‡§® ‡§∏‡§Ç‡§≠‡§æ‡§≤‡§§‡•Ä ‡§π‡•à" 
                        },
                        matchId: 4,
                        funFact: {
                            en: "The femur is so strong it can support up to 30 times your body weight!",
                            or: "‡¨´‡¨ø‡¨Æ‡¨∞‡≠ç ‡¨è‡¨§‡≠á ‡¨∂‡¨ï‡≠ç‡¨§‡¨ø‡¨∂‡¨æ‡¨≥‡≠Ä ‡¨Ø‡≠á ‡¨è‡¨π‡¨æ ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨∂‡¨∞‡≠Ä‡¨∞ ‡¨ì‡¨ú‡¨®‡¨∞ 30 ‡¨ó‡≠Å‡¨£ ‡¨™‡¨∞‡≠ç‡¨Ø‡≠ç‡≠ü‡¨®‡≠ç‡¨§ ‡¨∏‡¨Æ‡¨∞‡≠ç‡¨•‡¨® ‡¨ï‡¨∞‡¨ø‡¨™‡¨æ‡¨∞‡≠á!",
                            hi: "‡§ú‡§æ‡§Ç‡§ò ‡§ï‡•Ä ‡§π‡§°‡•ç‡§°‡•Ä ‡§á‡§§‡§®‡•Ä ‡§Æ‡§ú‡§¨‡•Ç‡§§ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à ‡§ï‡§ø ‡§Ø‡§π ‡§Ü‡§™‡§ï‡•á ‡§∂‡§∞‡•Ä‡§∞ ‡§ï‡•á ‡§µ‡§ú‡§® ‡§ï‡§æ 30 ‡§ó‡•Å‡§®‡§æ ‡§§‡§ï ‡§∏‡§Ç‡§≠‡§æ‡§≤ ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à!"
                        }
                    }
                ]
            },
            muscular: {
                title: { en: "Muscular System", or: "‡¨Æ‡¨æ‡¨Ç‡¨∏‡¨™‡≠á‡¨∂‡≠Ä ‡¨§‡¨®‡≠ç‡¨§‡≠ç‡¨∞", hi: "‡§Æ‡§æ‡§Ç‡§∏‡§™‡•á‡§∂‡•Ä ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä" },
                description: { 
                    en: "Muscles that enable movement and maintain posture", 
                    or: "‡¨ö‡¨≥‡¨® ‡¨∏‡¨ï‡≠ç‡¨∑‡¨Æ ‡¨ï‡¨∞‡≠Å‡¨•‡¨ø‡¨¨‡¨æ ‡¨è‡¨¨‡¨Ç ‡¨≠‡¨ô‡≠ç‡¨ó‡≠Ä ‡¨¨‡¨ú‡¨æ‡≠ü ‡¨∞‡¨ñ‡≠Å‡¨•‡¨ø‡¨¨‡¨æ ‡¨Æ‡¨æ‡¨Ç‡¨∏‡¨™‡≠á‡¨∂‡≠Ä", 
                    hi: "‡§Æ‡§æ‡§Ç‡§∏‡§™‡•á‡§∂‡§ø‡§Ø‡§æ‡§Å ‡§ú‡•ã ‡§ó‡§§‡§ø ‡§ï‡•ã ‡§∏‡§Ç‡§≠‡§µ ‡§¨‡§®‡§æ‡§§‡•Ä ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§Æ‡•Å‡§¶‡•ç‡§∞‡§æ ‡§¨‡§®‡§æ‡§è ‡§∞‡§ñ‡§§‡•Ä ‡§π‡•à‡§Ç" 
                },
                icon: "üí™",
                color: "#ed8936",
                items: [
                    { 
                        id: 1, 
                        name: { en: "Biceps", or: "‡¨¨‡¨æ‡¨á‡¨∏‡≠á‡¨™‡≠ç‡¨∏", hi: "‡§¨‡§æ‡§á‡§∏‡•á‡§™‡•ç‡§∏" }, 
                        icon: "üí™", 
                        function: { 
                            en: "Bends the elbow and rotates the forearm", 
                            or: "‡¨ï‡≠ã‡¨£‡¨ø‡¨ï‡¨æ‡¨ï‡≠Å ‡¨¨‡¨ô‡≠ç‡¨ï‡¨æ ‡¨ï‡¨∞‡≠á ‡¨è‡¨¨‡¨Ç ‡¨Ö‡¨ó‡≠ç‡¨∞‡¨¨‡¨æ‡¨π‡≠Å‡¨ï‡≠Å ‡¨ò‡≠Å‡¨∞‡¨æ‡¨è", 
                            hi: "‡§ï‡•ã‡§π‡§®‡•Ä ‡§ï‡•ã ‡§Æ‡•ã‡§°‡§º‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§Ö‡§ó‡•ç‡§∞‡§≠‡§æ‡§ó ‡§ï‡•ã ‡§ò‡•Å‡§Æ‡§æ‡§§‡§æ ‡§π‡•à" 
                        },
                        matchId: 1,
                        funFact: {
                            en: "Biceps means 'two-headed muscle' in Latin!",
                            or: "‡¨≤‡¨æ‡¨ü‡¨ø‡¨®‡≠ç‡¨∞‡≠á ‡¨¨‡¨æ‡¨á‡¨∏‡≠á‡¨™‡≠ç‡¨∏‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• '‡¨¶‡≠Å‡¨á‡¨ü‡¨ø ‡¨Æ‡≠Å‡¨£‡≠ç‡¨° ‡¨¨‡¨ø‡¨∂‡¨ø‡¨∑‡≠ç‡¨ü ‡¨Æ‡¨æ‡¨Ç‡¨∏‡¨™‡≠á‡¨∂‡≠Ä'!",
                            hi: "‡§≤‡•à‡§ü‡§ø‡§® ‡§Æ‡•á‡§Ç ‡§¨‡§æ‡§á‡§∏‡•á‡§™‡•ç‡§∏ ‡§ï‡§æ ‡§Ö‡§∞‡•ç‡§• '‡§¶‡•ã ‡§∏‡§ø‡§∞ ‡§µ‡§æ‡§≤‡•Ä ‡§Æ‡§æ‡§Ç‡§∏‡§™‡•á‡§∂‡•Ä' ‡§π‡•à!"
                        }
                    },
                    { 
                        id: 2, 
                        name: { en: "Heart Muscle", or: "‡¨π‡≠É‡¨¶‡≠ü ‡¨Æ‡¨æ‡¨Ç‡¨∏‡¨™‡≠á‡¨∂‡≠Ä", hi: "‡§π‡•É‡§¶‡§Ø ‡§ï‡•Ä ‡§Æ‡§æ‡§Ç‡§∏‡§™‡•á‡§∂‡•Ä" }, 
                        icon: "‚ù§Ô∏è", 
                        function: { 
                            en: "Pumps blood throughout the body", 
                            or: "‡¨∏‡¨æ‡¨∞‡¨æ ‡¨∂‡¨∞‡≠Ä‡¨∞‡¨∞‡≠á ‡¨∞‡¨ï‡≠ç‡¨§ ‡¨∏‡¨û‡≠ç‡¨ö‡¨æ‡¨≥‡¨® ‡¨ï‡¨∞‡≠á", 
                            hi: "‡§™‡•Ç‡§∞‡•á ‡§∂‡§∞‡•Ä‡§∞ ‡§Æ‡•á‡§Ç ‡§∞‡§ï‡•ç‡§§ ‡§™‡§Ç‡§™ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à" 
                        },
                        matchId: 2,
                        funFact: {
                            en: "The heart muscle never gets tired and beats about 100,000 times a day!",
                            or: "‡¨π‡≠É‡¨¶‡≠ü ‡¨Æ‡¨æ‡¨Ç‡¨∏‡¨™‡≠á‡¨∂‡≠Ä ‡¨ï‡¨¶‡¨æ‡¨™‡¨ø ‡¨•‡¨ï‡≠á ‡¨®‡¨æ‡¨π‡¨ø‡¨Å ‡¨è‡¨¨‡¨Ç ‡¨¶‡¨ø‡¨®‡¨ï‡≠Å ‡¨™‡≠ç‡¨∞‡¨æ‡≠ü 100,000 ‡¨•‡¨∞ ‡¨ß‡¨°‡¨º‡¨ï‡≠á!",
                            hi: "‡§π‡•É‡§¶‡§Ø ‡§ï‡•Ä ‡§Æ‡§æ‡§Ç‡§∏‡§™‡•á‡§∂‡•Ä ‡§ï‡§≠‡•Ä ‡§•‡§ï‡§§‡•Ä ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à ‡§î‡§∞ ‡§¶‡§ø‡§® ‡§Æ‡•á‡§Ç ‡§≤‡§ó‡§≠‡§ó 100,000 ‡§¨‡§æ‡§∞ ‡§ß‡§°‡§º‡§ï‡§§‡•Ä ‡§π‡•à!"
                        }
                    },
                    { 
                        id: 3, 
                        name: { en: "Diaphragm", or: "‡¨°‡¨æ‡¨è‡¨´‡≠ç‡¨∞‡¨æ‡¨Æ‡≠ç", hi: "‡§°‡§æ‡§Ø‡§æ‡§´‡•ç‡§∞‡§æ‡§Æ" }, 
                        icon: "üéà", 
                        function: { 
                            en: "Helps in breathing by expanding and contracting", 
                            or: "‡¨™‡≠ç‡¨∞‡¨∏‡¨æ‡¨∞‡¨ø‡¨§ ‡¨è‡¨¨‡¨Ç ‡¨∏‡¨ô‡≠ç‡¨ï‡≠Å‡¨ö‡¨ø‡¨§ ‡¨π‡≠ã‡¨á‡¨•‡¨ø‡¨¨‡¨æ ‡¨¶‡≠ç‡≠±‡¨æ‡¨∞‡¨æ ‡¨∂‡≠ç‡≠±‡¨æ‡¨∏‡¨ï‡≠ç‡¨∞‡¨ø‡≠ü‡¨æ‡¨∞‡≠á ‡¨∏‡¨æ‡¨π‡¨æ‡¨Ø‡≠ç‡≠ü ‡¨ï‡¨∞‡≠á", 
                            hi: "‡§´‡•à‡§≤‡§ï‡§∞ ‡§î‡§∞ ‡§∏‡§ø‡§ï‡•Å‡§°‡§º‡§ï‡§∞ ‡§∏‡§æ‡§Å‡§∏ ‡§≤‡•á‡§®‡•á ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à" 
                        },
                        matchId: 3,
                        funFact: {
                            en: "The diaphragm is the primary muscle used in breathing and is shaped like a dome!",
                            or: "‡¨°‡¨æ‡¨è‡¨´‡≠ç‡¨∞‡¨æ‡¨Æ‡≠ç ‡¨∂‡≠ç‡≠±‡¨æ‡¨∏‡¨ï‡≠ç‡¨∞‡¨ø‡≠ü‡¨æ‡¨∞‡≠á ‡¨¨‡≠ç‡≠ü‡¨¨‡¨π‡≠É‡¨§ ‡¨™‡≠ç‡¨∞‡¨æ‡¨•‡¨Æ‡¨ø‡¨ï ‡¨Æ‡¨æ‡¨Ç‡¨∏‡¨™‡≠á‡¨∂‡≠Ä ‡¨è‡¨¨‡¨Ç ‡¨è‡¨π‡¨æ ‡¨è‡¨ï ‡¨ó‡≠Å‡¨Æ‡≠ç‡¨¨‡¨ú ‡¨™‡¨∞‡¨ø ‡¨Ü‡¨ï‡≠É‡¨§‡¨ø‡¨∞!",
                            hi: "‡§°‡§æ‡§Ø‡§æ‡§´‡•ç‡§∞‡§æ‡§Æ ‡§∏‡§æ‡§Å‡§∏ ‡§≤‡•á‡§®‡•á ‡§Æ‡•á‡§Ç ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡•Ä ‡§ú‡§æ‡§®‡•á ‡§µ‡§æ‡§≤‡•Ä ‡§™‡•ç‡§∞‡§æ‡§•‡§Æ‡§ø‡§ï ‡§Æ‡§æ‡§Ç‡§∏‡§™‡•á‡§∂‡•Ä ‡§π‡•à ‡§î‡§∞ ‡§Ø‡§π ‡§ó‡•Å‡§Ç‡§¨‡§¶ ‡§ï‡•á ‡§Ü‡§ï‡§æ‡§∞ ‡§ï‡•Ä ‡§π‡•ã‡§§‡•Ä ‡§π‡•à!"
                        }
                    }
                ]
            },
            circulatory: {
                title: { en: "Circulatory System", or: "‡¨∞‡¨ï‡≠ç‡¨§‡¨ö‡¨ï‡≠ç‡¨∞ ‡¨§‡¨®‡≠ç‡¨§‡≠ç‡¨∞", hi: "‡§∏‡§Ç‡§ö‡§æ‡§∞ ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä" },
                description: { 
                    en: "Transports blood, oxygen, and nutrients throughout the body", 
                    or: "‡¨∏‡¨æ‡¨∞‡¨æ ‡¨∂‡¨∞‡≠Ä‡¨∞‡¨∞‡≠á ‡¨∞‡¨ï‡≠ç‡¨§, ‡¨Ö‡¨Æ‡≠ç‡¨≥‡¨ú‡¨æ‡¨®, ‡¨è‡¨¨‡¨Ç ‡¨™‡≠ã‡¨∑‡¨ï ‡¨™‡¨¶‡¨æ‡¨∞‡≠ç‡¨• ‡¨™‡¨∞‡¨ø‡¨¨‡¨π‡¨® ‡¨ï‡¨∞‡≠á", 
                    hi: "‡§™‡•Ç‡§∞‡•á ‡§∂‡§∞‡•Ä‡§∞ ‡§Æ‡•á‡§Ç ‡§∞‡§ï‡•ç‡§§, ‡§ë‡§ï‡•ç‡§∏‡•Ä‡§ú‡§® ‡§î‡§∞ ‡§™‡•ã‡§∑‡§ï ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§ï‡§æ ‡§™‡§∞‡§ø‡§µ‡§π‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à" 
                },
                icon: "‚ù§Ô∏è",
                color: "#e53e3e",
                items: [
                    { 
                        id: 1, 
                        name: { en: "Heart", or: "‡¨π‡≠É‡¨¶‡≠ü", hi: "‡§π‡•É‡§¶‡§Ø" }, 
                        icon: "‚ù§Ô∏è", 
                        function: { 
                            en: "Pumps blood throughout the body", 
                            or: "‡¨∏‡¨æ‡¨∞‡¨æ ‡¨∂‡¨∞‡≠Ä‡¨∞‡¨∞‡≠á ‡¨∞‡¨ï‡≠ç‡¨§ ‡¨∏‡¨û‡≠ç‡¨ö‡¨æ‡¨≥‡¨® ‡¨ï‡¨∞‡≠á", 
                            hi: "‡§™‡•Ç‡§∞‡•á ‡§∂‡§∞‡•Ä‡§∞ ‡§Æ‡•á‡§Ç ‡§∞‡§ï‡•ç‡§§ ‡§™‡§Ç‡§™ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à" 
                        },
                        matchId: 1,
                        funFact: {
                            en: "Your heart beats about 100,000 times a day, pumping about 2,000 gallons of blood!",
                            or: "‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨π‡≠É‡¨¶‡≠ü ‡¨¶‡¨ø‡¨®‡¨ï‡≠Å ‡¨™‡≠ç‡¨∞‡¨æ‡≠ü 100,000 ‡¨•‡¨∞ ‡¨ß‡¨°‡¨º‡¨ï‡≠á, ‡¨™‡≠ç‡¨∞‡¨æ‡≠ü 2,000 ‡¨ó‡≠ç‡≠ü‡¨æ‡¨≤‡¨®‡≠ç ‡¨∞‡¨ï‡≠ç‡¨§ ‡¨™‡¨Æ‡≠ç‡¨™ ‡¨ï‡¨∞‡≠á!",
                            hi: "‡§Ü‡§™‡§ï‡§æ ‡§π‡•É‡§¶‡§Ø ‡§¶‡§ø‡§® ‡§Æ‡•á‡§Ç ‡§≤‡§ó‡§≠‡§ó 100,000 ‡§¨‡§æ‡§∞ ‡§ß‡§°‡§º‡§ï‡§§‡§æ ‡§π‡•à, ‡§≤‡§ó‡§≠‡§ó 2,000 ‡§ó‡•à‡§≤‡§® ‡§∞‡§ï‡•ç‡§§ ‡§™‡§Ç‡§™ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à!"
                        }
                    },
                    { 
                        id: 2, 
                        name: { en: "Arteries", or: "‡¨ß‡¨Æ‡¨®‡≠Ä", hi: "‡§ß‡§Æ‡§®‡§ø‡§Ø‡§æ‡§Å" }, 
                        icon: "ü©∏", 
                        function: { 
                            en: "Carry oxygen-rich blood away from the heart", 
                            or: "‡¨π‡≠É‡¨¶‡≠ü‡¨∞‡≠Å ‡¨Ö‡¨Æ‡≠ç‡¨≥‡¨ú‡¨æ‡¨®-‡¨∏‡¨Æ‡≠É‡¨¶‡≠ç‡¨ß ‡¨∞‡¨ï‡≠ç‡¨§ ‡¨¨‡¨π‡¨® ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡¨ø", 
                            hi: "‡§π‡•É‡§¶‡§Ø ‡§∏‡•á ‡§ë‡§ï‡•ç‡§∏‡•Ä‡§ú‡§® ‡§Ø‡•Å‡§ï‡•ç‡§§ ‡§∞‡§ï‡•ç‡§§ ‡§≤‡•á ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à‡§Ç" 
                        },
                        matchId: 2,
                        funFact: {
                            en: "The largest artery is the aorta, which is about the diameter of a garden hose!",
                            or: "‡¨¨‡≠É‡¨π‡¨§‡≠ç‡¨§‡¨Æ ‡¨ß‡¨Æ‡¨®‡≠Ä ‡¨π‡≠á‡¨â‡¨õ‡¨ø ‡¨è‡≠ü‡≠ã‡¨∞‡≠ç‡¨ü‡¨æ, ‡¨Ø‡¨æ‡¨π‡¨æ ‡¨è‡¨ï ‡¨ó‡¨æ‡¨∞‡≠ç‡¨°‡≠á‡¨®‡≠ç ‡¨π‡≠ã‡¨ú‡≠ç‡¨∞ ‡¨¨‡≠ç‡≠ü‡¨æ‡¨∏ ‡¨™‡¨∞‡¨ø!",
                            hi: "‡§∏‡§¨‡§∏‡•á ‡§¨‡§°‡§º‡•Ä ‡§ß‡§Æ‡§®‡•Ä ‡§Æ‡§π‡§æ‡§ß‡§Æ‡§®‡•Ä ‡§π‡•à, ‡§ú‡•ã ‡§è‡§ï ‡§ó‡§æ‡§∞‡•ç‡§°‡§® ‡§π‡•ã‡§ú‡§º ‡§ï‡•á ‡§µ‡•ç‡§Ø‡§æ‡§∏ ‡§ú‡§ø‡§§‡§®‡•Ä ‡§π‡•ã‡§§‡•Ä ‡§π‡•à!"
                        }
                    },
                    { 
                        id: 3, 
                        name: { en: "Veins", or: "‡¨∂‡¨ø‡¨∞‡¨æ", hi: "‡§∂‡§ø‡§∞‡§æ‡§è‡§Å" }, 
                        icon: "üíâ", 
                        function: { 
                            en: "Return oxygen-poor blood back to the heart", 
                            or: "‡¨Ö‡¨Æ‡≠ç‡¨≥‡¨ú‡¨æ‡¨®-‡¨¶‡¨∞‡¨ø‡¨¶‡≠ç‡¨∞ ‡¨∞‡¨ï‡≠ç‡¨§‡¨ï‡≠Å ‡¨π‡≠É‡¨¶‡≠ü‡¨ï‡≠Å ‡¨´‡≠á‡¨∞‡¨æ‡¨á ‡¨Ü‡¨£‡¨®‡≠ç‡¨§‡¨ø", 
                            hi: "‡§ë‡§ï‡•ç‡§∏‡•Ä‡§ú‡§® ‡§∞‡§π‡§ø‡§§ ‡§∞‡§ï‡•ç‡§§ ‡§ï‡•ã ‡§π‡•É‡§¶‡§Ø ‡§Æ‡•á‡§Ç ‡§µ‡§æ‡§™‡§∏ ‡§≤‡§æ‡§§‡•Ä ‡§π‡•à‡§Ç" 
                        },
                        matchId: 3,
                        funFact: {
                            en: "Veins have valves that prevent blood from flowing backward!",
                            or: "‡¨∂‡¨ø‡¨∞‡¨æ‡¨∞‡≠á ‡¨ï‡¨™‡¨æ‡¨ü‡¨ø‡¨ï‡¨æ ‡¨•‡¨æ‡¨è ‡¨Ø‡¨æ‡¨π‡¨æ ‡¨∞‡¨ï‡≠ç‡¨§‡¨ï‡≠Å ‡¨™‡¨õ‡¨ï‡≠Å ‡¨™‡≠ç‡¨∞‡¨¨‡¨æ‡¨π‡¨ø‡¨§ ‡¨π‡≠á‡¨¨‡¨æ‡¨ï‡≠Å ‡¨™‡≠ç‡¨∞‡¨§‡¨ø‡¨∞‡≠ã‡¨ß ‡¨ï‡¨∞‡≠á!",
                            hi: "‡§∂‡§ø‡§∞‡§æ‡§ì‡§Ç ‡§Æ‡•á‡§Ç ‡§µ‡§æ‡§≤‡•ç‡§µ ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç ‡§ú‡•ã ‡§∞‡§ï‡•ç‡§§ ‡§ï‡•ã ‡§™‡•Ä‡§õ‡•á ‡§ï‡•Ä ‡§ì‡§∞ ‡§¨‡§π‡§®‡•á ‡§∏‡•á ‡§∞‡•ã‡§ï‡§§‡•á ‡§π‡•à‡§Ç!"
                        }
                    }
                ]
            },
            respiratory: {
                title: { en: "Respiratory System", or: "‡¨∂‡≠ç‡≠±‡¨æ‡¨∏‡¨ï‡≠ç‡¨∞‡¨ø‡≠ü‡¨æ ‡¨§‡¨®‡≠ç‡¨§‡≠ç‡¨∞", hi: "‡§∂‡•ç‡§µ‡§∏‡§® ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä" },
                description: { 
                    en: "Brings oxygen into the body and removes carbon dioxide", 
                    or: "‡¨∂‡¨∞‡≠Ä‡¨∞‡¨∞‡≠á ‡¨Ö‡¨Æ‡≠ç‡¨≥‡¨ú‡¨æ‡¨® ‡¨Ü‡¨£‡≠á ‡¨è‡¨¨‡¨Ç ‡¨ï‡¨æ‡¨∞‡≠ç‡¨¨‡¨® ‡¨°‡¨æ‡¨á‡¨Ö‡¨ï‡≠ç‡¨∏‡¨æ‡¨á‡¨°‡≠ç ‡¨¨‡¨æ‡¨π‡¨æ‡¨∞ ‡¨ï‡¨∞‡≠á", 
                    hi: "‡§∂‡§∞‡•Ä‡§∞ ‡§Æ‡•á‡§Ç ‡§ë‡§ï‡•ç‡§∏‡•Ä‡§ú‡§® ‡§≤‡§æ‡§§‡•Ä ‡§π‡•à ‡§î‡§∞ ‡§ï‡§æ‡§∞‡•ç‡§¨‡§® ‡§°‡§æ‡§á‡§ë‡§ï‡•ç‡§∏‡§æ‡§á‡§° ‡§®‡§ø‡§ï‡§æ‡§≤‡§§‡•Ä ‡§π‡•à" 
                },
                icon: "ü´Å",
                color: "#38b2ac",
                items: [
                    { 
                        id: 1, 
                        name: { en: "Lungs", or: "‡¨´‡≠Å‡¨∏‡≠ç‡¨´‡≠Å‡¨∏‡≠ç", hi: "‡§´‡•á‡§´‡§°‡§º‡•á" }, 
                        icon: "ü´Å", 
                        function: { 
                            en: "Exchange oxygen and carbon dioxide with blood", 
                            or: "‡¨∞‡¨ï‡≠ç‡¨§ ‡¨∏‡¨π‡¨ø‡¨§ ‡¨Ö‡¨Æ‡≠ç‡¨≥‡¨ú‡¨æ‡¨® ‡¨è‡¨¨‡¨Ç ‡¨ï‡¨æ‡¨∞‡≠ç‡¨¨‡¨® ‡¨°‡¨æ‡¨á‡¨Ö‡¨ï‡≠ç‡¨∏‡¨æ‡¨á‡¨°‡≠ç ‡¨¨‡¨ø‡¨®‡¨ø‡¨Æ‡≠ü ‡¨ï‡¨∞‡≠á", 
                            hi: "‡§∞‡§ï‡•ç‡§§ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ë‡§ï‡•ç‡§∏‡•Ä‡§ú‡§® ‡§î‡§∞ ‡§ï‡§æ‡§∞‡•ç‡§¨‡§® ‡§°‡§æ‡§á‡§ë‡§ï‡•ç‡§∏‡§æ‡§á‡§° ‡§ï‡§æ ‡§Ü‡§¶‡§æ‡§®-‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç" 
                        },
                        matchId: 1,
                        funFact: {
                            en: "Your left lung is smaller than your right lung to make room for your heart!",
                            or: "‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨¨‡¨æ‡¨Æ ‡¨´‡≠Å‡¨∏‡≠ç‡¨´‡≠Å‡¨∏‡≠ç ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨°‡¨æ‡¨π‡¨æ‡¨£ ‡¨´‡≠Å‡¨∏‡≠ç‡¨´‡≠Å‡¨∏‡≠ç ‡¨†‡¨æ‡¨∞‡≠Å ‡¨õ‡≠ã‡¨ü ‡¨Ö‡¨ü‡≠á, ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨π‡≠É‡¨¶‡≠ü ‡¨™‡¨æ‡¨á‡¨Å ‡¨ú‡¨æ‡¨ó‡¨æ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å!",
                            hi: "‡§Ü‡§™‡§ï‡§æ ‡§¨‡§æ‡§Ø‡§æ‡§Å ‡§´‡•á‡§´‡§°‡§º‡§æ ‡§¶‡§æ‡§è‡§Å ‡§´‡•á‡§´‡§°‡§º‡•á ‡§∏‡•á ‡§õ‡•ã‡§ü‡§æ ‡§π‡•ã‡§§‡§æ ‡§π‡•à ‡§§‡§æ‡§ï‡§ø ‡§Ü‡§™‡§ï‡•á ‡§¶‡§ø‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ú‡§ó‡§π ‡§¨‡§® ‡§∏‡§ï‡•á!"
                        }
                    },
                    { 
                        id: 2, 
                        name: { en: "Trachea", or: "‡¨∂‡≠ç‡≠±‡¨æ‡¨∏‡¨®‡¨≥‡≠Ä", hi: "‡§∂‡•ç‡§µ‡§æ‡§∏‡§®‡§≤‡•Ä" }, 
                        icon: "üé∫", 
                        function: { 
                            en: "Carries air to and from the lungs", 
                            or: "‡¨´‡≠Å‡¨∏‡≠ç‡¨´‡≠Å‡¨∏‡≠ç ‡¨™‡¨∞‡≠ç‡¨Ø‡≠ç‡≠ü‡¨®‡≠ç‡¨§ ‡¨è‡¨¨‡¨Ç ‡¨´‡≠Å‡¨∏‡≠ç‡¨´‡≠Å‡¨∏‡≠ç‡¨∞‡≠Å ‡¨¨‡¨æ‡≠ü‡≠Å ‡¨¨‡¨π‡¨® ‡¨ï‡¨∞‡≠á", 
                            hi: "‡§´‡•á‡§´‡§°‡§º‡•ã‡§Ç ‡§∏‡•á ‡§î‡§∞ ‡§´‡•á‡§´‡§°‡§º‡•ã‡§Ç ‡§§‡§ï ‡§π‡§µ‡§æ ‡§≤‡•á ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à" 
                        },
                        matchId: 2,
                        funFact: {
                            en: "The trachea is also called the windpipe and has C-shaped cartilage rings!",
                            or: "‡¨∂‡≠ç‡≠±‡¨æ‡¨∏‡¨®‡¨≥‡≠Ä‡¨ï‡≠Å ‡≠±‡¨æ‡¨á‡¨£‡≠ç‡¨°‡¨™‡¨æ‡¨á‡¨™‡≠ç ‡¨Æ‡¨ß‡≠ç‡≠ü ‡¨ï‡≠Å‡¨π‡¨æ‡¨Ø‡¨æ‡¨è ‡¨è‡¨¨‡¨Ç ‡¨è‡¨•‡¨ø‡¨∞‡≠á C-‡¨Ü‡¨ï‡≠É‡¨§‡¨ø‡¨∞ ‡¨ï‡¨æ‡¨∞‡≠ç‡¨ü‡¨ø‡¨≤‡≠á‡¨ú‡≠ç ‡¨∞‡¨ø‡¨ô‡≠ç‡¨ó‡≠ç ‡¨•‡¨æ‡¨è!",
                            hi: "‡§∂‡•ç‡§µ‡§æ‡§∏‡§®‡§≤‡•Ä ‡§ï‡•ã ‡§µ‡§ø‡§Ç‡§°‡§™‡§æ‡§á‡§™ ‡§≠‡•Ä ‡§ï‡§π‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§á‡§∏‡§Æ‡•á‡§Ç C-‡§Ü‡§ï‡§æ‡§∞ ‡§ï‡•á ‡§â‡§™‡§æ‡§∏‡•ç‡§•‡§ø ‡§ï‡•á ‡§õ‡§≤‡•ç‡§≤‡•á ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç!"
                        }
                    },
                    { 
                        id: 3, 
                        name: { en: "Diaphragm", or: "‡¨°‡¨æ‡¨è‡¨´‡≠ç‡¨∞‡¨æ‡¨Æ‡≠ç", hi: "‡§°‡§æ‡§Ø‡§æ‡§´‡•ç‡§∞‡§æ‡§Æ" }, 
                        icon: "üéà", 
                        function: { 
                            en: "Main muscle for breathing, expands and contracts", 
                            or: "‡¨∂‡≠ç‡≠±‡¨æ‡¨∏‡¨ï‡≠ç‡¨∞‡¨ø‡≠ü‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨Æ‡≠Å‡¨ñ‡≠ç‡≠ü ‡¨Æ‡¨æ‡¨Ç‡¨∏‡¨™‡≠á‡¨∂‡≠Ä, ‡¨™‡≠ç‡¨∞‡¨∏‡¨æ‡¨∞‡¨ø‡¨§ ‡¨è‡¨¨‡¨Ç ‡¨∏‡¨ô‡≠ç‡¨ï‡≠Å‡¨ö‡¨ø‡¨§ ‡¨π‡≠Å‡¨è", 
                            hi: "‡§∏‡§æ‡§Å‡§∏ ‡§≤‡•á‡§®‡•á ‡§ï‡•Ä ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§Æ‡§æ‡§Ç‡§∏‡§™‡•á‡§∂‡•Ä, ‡§´‡•à‡§≤‡§§‡•Ä ‡§î‡§∞ ‡§∏‡§ø‡§ï‡•Å‡§°‡§º‡§§‡•Ä ‡§π‡•à" 
                        },
                        matchId: 3,
                        funFact: {
                            en: "When you hiccup, it's actually your diaphragm having sudden spasms!",
                            or: "‡¨Ø‡≠á‡¨§‡≠á‡¨¨‡≠á‡¨≥‡≠á ‡¨Ü‡¨™‡¨£ ‡¨π‡¨ø‡¨ö‡¨ï‡¨ø ‡¨Ü‡¨∏‡≠á, ‡¨∏‡≠á ‡¨™‡≠ç‡¨∞‡¨ï‡≠É‡¨§‡¨∞‡≠á ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨°‡¨æ‡¨è‡¨´‡≠ç‡¨∞‡¨æ‡¨Æ‡≠ç ‡¨π‡¨†‡¨æ‡¨§‡≠ç ‡¨∏‡≠ç‡¨™‡¨æ‡¨ú‡¨Æ‡≠ç ‡¨π‡≠á‡¨â‡¨•‡¨æ‡¨è!",
                            hi: "‡§ú‡§¨ ‡§Ü‡§™‡§ï‡•ã ‡§π‡§ø‡§ö‡§ï‡•Ä ‡§Ü‡§§‡•Ä ‡§π‡•à, ‡§§‡•ã ‡§Ø‡§π ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡•á ‡§°‡§æ‡§Ø‡§æ‡§´‡•ç‡§∞‡§æ‡§Æ ‡§Æ‡•á‡§Ç ‡§Ö‡§ö‡§æ‡§®‡§ï ‡§ê‡§Ç‡§†‡§® ‡§π‡•ã‡§§‡•Ä ‡§π‡•à!"
                        }
                    }
                ]
            },
            digestive: {
                title: { en: "Digestive System", or: "‡¨™‡¨æ‡¨ö‡¨® ‡¨§‡¨®‡≠ç‡¨§‡≠ç‡¨∞", hi: "‡§™‡§æ‡§ö‡§® ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä" },
                description: { 
                    en: "Breaks down food and absorbs nutrients", 
                    or: "‡¨ñ‡¨æ‡¨¶‡≠ç‡≠ü‡¨ï‡≠Å ‡¨≠‡¨æ‡¨ô‡≠ç‡¨ó‡≠á ‡¨è‡¨¨‡¨Ç ‡¨™‡≠ã‡¨∑‡¨ï ‡¨™‡¨¶‡¨æ‡¨∞‡≠ç‡¨• ‡¨∂‡≠ã‡¨∑‡¨£ ‡¨ï‡¨∞‡≠á", 
                    hi: "‡§≠‡•ã‡§ú‡§® ‡§ï‡•ã ‡§§‡•ã‡§°‡§º‡§§‡•Ä ‡§π‡•à ‡§î‡§∞ ‡§™‡•ã‡§∑‡§ï ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§ï‡•ã ‡§Ö‡§µ‡§∂‡•ã‡§∑‡§ø‡§§ ‡§ï‡§∞‡§§‡•Ä ‡§π‡•à" 
                },
                icon: "üçé",
                color: "#9f7aea",
                items: [
                    { 
                        id: 1, 
                        name: { en: "Stomach", or: "‡¨™‡¨æ‡¨ï‡¨∏‡≠ç‡¨•‡¨≥‡≠Ä", hi: "‡§™‡•á‡§ü" }, 
                        icon: "ü§¢", 
                        function: { 
                            en: "Breaks down food using acids and enzymes", 
                            or: "‡¨Ö‡¨Æ‡≠ç‡¨≥ ‡¨è‡¨¨‡¨Ç ‡¨è‡¨®‡¨ú‡¨æ‡¨á‡¨Æ‡≠ç ‡¨¨‡≠ç‡≠ü‡¨¨‡¨π‡¨æ‡¨∞ ‡¨ï‡¨∞‡¨ø ‡¨ñ‡¨æ‡¨¶‡≠ç‡≠ü‡¨ï‡≠Å ‡¨≠‡¨æ‡¨ô‡≠ç‡¨ó‡≠á", 
                            hi: "‡§è‡§∏‡§ø‡§° ‡§î‡§∞ ‡§è‡§Ç‡§ú‡§æ‡§á‡§Æ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§ï‡•á ‡§≠‡•ã‡§ú‡§® ‡§ï‡•ã ‡§§‡•ã‡§°‡§º‡§§‡§æ ‡§π‡•à" 
                        },
                        matchId: 1,
                        funFact: {
                            en: "Your stomach produces a new lining every 3 days to prevent it from digesting itself!",
                            or: "‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨™‡¨æ‡¨ï‡¨∏‡≠ç‡¨•‡¨≥‡≠Ä ‡¨™‡≠ç‡¨∞‡¨§‡≠ç‡≠ü‡≠á‡¨ï 3 ‡¨¶‡¨ø‡¨®‡¨∞‡≠á ‡¨è‡¨ï ‡¨®‡≠Ç‡¨§‡¨® ‡¨Ö‡¨∏‡≠ç‡¨§‡¨∞ ‡¨â‡¨§‡≠ç‡¨™‡¨æ‡¨¶‡¨® ‡¨ï‡¨∞‡≠á ‡¨Ø‡¨æ‡¨π‡¨æ ‡¨è‡¨π‡¨æ‡¨ï‡≠Å ‡¨®‡¨ø‡¨ú‡≠á ‡¨™‡¨æ‡¨ö‡¨® ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ‡¨ï‡≠Å ‡¨™‡≠ç‡¨∞‡¨§‡¨ø‡¨∞‡≠ã‡¨ß ‡¨ï‡¨∞‡≠á!",
                            hi: "‡§Ü‡§™‡§ï‡§æ ‡§™‡•á‡§ü ‡§π‡§∞ 3 ‡§¶‡§ø‡§® ‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§®‡§à ‡§™‡§∞‡§§ ‡§¨‡§®‡§æ‡§§‡§æ ‡§π‡•à ‡§§‡§æ‡§ï‡§ø ‡§µ‡§π ‡§ñ‡•Å‡§¶ ‡§ï‡•ã ‡§™‡§ö‡§æ ‡§® ‡§∏‡§ï‡•á!"
                        }
                    },
                    { 
                        id: 2, 
                        name: { en: "Intestines", or: "‡¨Ü‡¨®‡≠ç‡¨§‡≠ç‡¨∞", hi: "‡§Ü‡§Ç‡§§‡•á‡§Ç" }, 
                        icon: "üåÄ", 
                        function: { 
                            en: "Absorbs nutrients and water from digested food", 
                            or: "‡¨™‡¨ö‡¨æ‡¨á‡¨•‡¨ø‡¨¨‡¨æ ‡¨ñ‡¨æ‡¨¶‡≠ç‡≠ü‡¨∞‡≠Å ‡¨™‡≠ã‡¨∑‡¨ï ‡¨™‡¨¶‡¨æ‡¨∞‡≠ç‡¨• ‡¨è‡¨¨‡¨Ç ‡¨™‡¨æ‡¨£‡¨ø ‡¨∂‡≠ã‡¨∑‡¨£ ‡¨ï‡¨∞‡≠á", 
                            hi: "‡§™‡§ö‡•á ‡§π‡•Å‡§è ‡§≠‡•ã‡§ú‡§® ‡§∏‡•á ‡§™‡•ã‡§∑‡§ï ‡§§‡§§‡•ç‡§µ ‡§î‡§∞ ‡§™‡§æ‡§®‡•Ä ‡§Ö‡§µ‡§∂‡•ã‡§∑‡§ø‡§§ ‡§ï‡§∞‡§§‡•Ä ‡§π‡•à‡§Ç" 
                        },
                        matchId: 2,
                        funFact: {
                            en: "Your small intestine is about 22 feet long - that's longer than a giraffe is tall!",
                            or: "‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï‡¨∞ ‡¨õ‡≠ã‡¨ü ‡¨Ü‡¨®‡≠ç‡¨§‡≠ç‡¨∞ ‡¨™‡≠ç‡¨∞‡¨æ‡≠ü 22 ‡¨´‡≠Å‡¨ü‡≠ç ‡¨≤‡¨Æ‡≠ç‡¨¨‡¨æ - ‡¨è‡¨π‡¨æ ‡¨è‡¨ï ‡¨ú‡¨ø‡¨∞‡¨æ‡¨´‡≠ç ‡¨†‡¨æ‡¨∞‡≠Å ‡¨â‡¨ö‡≠ç‡¨ö!",
                            hi: "‡§Ü‡§™‡§ï‡•Ä ‡§õ‡•ã‡§ü‡•Ä ‡§Ü‡§Ç‡§§ ‡§≤‡§ó‡§≠‡§ó 22 ‡§´‡•Ä‡§ü ‡§≤‡§Ç‡§¨‡•Ä ‡§π‡•ã‡§§‡•Ä ‡§π‡•à - ‡§Ø‡§π ‡§è‡§ï ‡§ú‡§ø‡§∞‡§æ‡§´‡§º ‡§ï‡•Ä ‡§ä‡§Ç‡§ö‡§æ‡§à ‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï ‡§≤‡§Ç‡§¨‡•Ä ‡§π‡•à!"
                        }
                    },
                    { 
                        id: 3, 
                        name: { en: "Liver", or: "‡¨Ø‡¨ï‡≠É‡¨§", hi: "‡§Ø‡§ï‡•É‡§§" }, 
                        icon: "üß¨", 
                        function: { 
                            en: "Filters blood and produces bile for digestion", 
                            or: "‡¨∞‡¨ï‡≠ç‡¨§‡¨ï‡≠Å ‡¨´‡¨ø‡¨≤‡≠ç‡¨ü‡¨∞‡≠ç ‡¨ï‡¨∞‡≠á ‡¨è‡¨¨‡¨Ç ‡¨™‡¨æ‡¨ö‡¨® ‡¨™‡¨æ‡¨á‡¨Å ‡¨™‡¨ø‡¨§‡≠ç‡¨§ ‡¨â‡¨§‡≠ç‡¨™‡¨æ‡¨¶‡¨® ‡¨ï‡¨∞‡≠á", 
                            hi: "‡§∞‡§ï‡•ç‡§§ ‡§ï‡•ã ‡§´‡§ø‡§≤‡•ç‡§ü‡§∞ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§™‡§æ‡§ö‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡§ø‡§§‡•ç‡§§ ‡§ï‡§æ ‡§â‡§§‡•ç‡§™‡§æ‡§¶‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à" 
                        },
                        matchId: 3,
                        funFact: {
                            en: "The liver is the only organ that can regenerate itself - it can regrow even if 75% is removed!",
                            or: "‡¨Ø‡¨ï‡≠É‡¨§ ‡¨π‡≠á‡¨â‡¨õ‡¨ø ‡¨è‡¨ï‡¨Æ‡¨æ‡¨§‡≠ç‡¨∞ ‡¨Ö‡¨ô‡≠ç‡¨ó ‡¨Ø‡¨æ‡¨π‡¨æ ‡¨®‡¨ø‡¨ú‡≠á ‡¨®‡¨ø‡¨ú‡≠á ‡¨™‡≠Å‡¨®‡¨∞‡≠Å‡¨§‡≠ç‡¨™‡¨æ‡¨¶‡¨® ‡¨ï‡¨∞‡¨ø‡¨™‡¨æ‡¨∞‡≠á - 75% ‡¨ï‡¨æ‡¨¢‡¨º‡¨ø ‡¨¶‡≠á‡¨≤‡≠á ‡¨Æ‡¨ß‡≠ç‡≠ü ‡¨è‡¨π‡¨æ ‡¨™‡≠Å‡¨£‡¨ø ‡¨¨‡¨¢‡¨º‡¨ø‡¨™‡¨æ‡¨∞‡≠á!",
                            hi: "‡§Ø‡§ï‡•É‡§§ ‡§è‡§ï‡§Æ‡§æ‡§§‡•ç‡§∞ ‡§Ö‡§Ç‡§ó ‡§π‡•à ‡§ú‡•ã ‡§ñ‡•Å‡§¶ ‡§ï‡•ã ‡§™‡•Å‡§®‡§∞‡•ç‡§ú‡•Ä‡§µ‡§ø‡§§ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à - 75% ‡§π‡§ü‡§æ ‡§¶‡§ø‡§è ‡§ú‡§æ‡§®‡•á ‡§™‡§∞ ‡§≠‡•Ä ‡§Ø‡§π ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§¨‡§¢‡§º ‡§∏‡§ï‡§§‡§æ ‡§π‡•à!"
                        }
                    }
                ]
            },
            nervous: {
                title: { en: "Nervous System", or: "‡¨∏‡≠ç‡¨®‡¨æ‡≠ü‡≠Å ‡¨§‡¨®‡≠ç‡¨§‡≠ç‡¨∞", hi: "‡§§‡§Ç‡§§‡•ç‡§∞‡§ø‡§ï‡§æ ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä" },
                description: { 
                    en: "Controls and coordinates body functions through electrical signals", 
                    or: "‡¨¨‡¨ø‡¨¶‡≠ç‡≠ü‡≠Å‡¨§ ‡¨∏‡¨ô‡≠ç‡¨ï‡≠á‡¨§ ‡¨Æ‡¨æ‡¨ß‡≠ç‡≠ü‡¨Æ‡¨∞‡≠á ‡¨∂‡¨∞‡≠Ä‡¨∞ ‡¨ï‡¨æ‡¨∞‡≠ç‡¨Ø‡≠ç‡≠ü‡¨ï‡≠Å ‡¨®‡¨ø‡≠ü‡¨®‡≠ç‡¨§‡≠ç‡¨∞‡¨£ ‡¨è‡¨¨‡¨Ç ‡¨∏‡¨Æ‡¨®‡≠ç‡≠±‡≠ü ‡¨ï‡¨∞‡≠á", 
                    hi: "‡§µ‡§ø‡§¶‡•ç‡§Ø‡•Å‡§§ ‡§∏‡§Ç‡§ï‡•á‡§§‡•ã‡§Ç ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§∂‡§∞‡•Ä‡§∞ ‡§ï‡•á ‡§ï‡§æ‡§∞‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§ø‡§§ ‡§î‡§∞ ‡§∏‡§Æ‡§®‡•ç‡§µ‡§Ø‡§ø‡§§ ‡§ï‡§∞‡§§‡•Ä ‡§π‡•à" 
                },
                icon: "üß†",
                color: "#d69e2e",
                items: [
                    { 
                        id: 1, 
                        name: { en: "Brain", or: "‡¨Æ‡¨∏‡≠ç‡¨§‡¨ø‡¨∑‡≠ç‡¨ï", hi: "‡§Æ‡§∏‡•ç‡§§‡§ø‡§∑‡•ç‡§ï" }, 
                        icon: "üß†", 
                        function: { 
                            en: "Controls thoughts, memory, and body functions", 
                            or: "‡¨ö‡¨ø‡¨®‡≠ç‡¨§‡¨æ, ‡¨∏‡≠ç‡¨Æ‡≠É‡¨§‡¨ø, ‡¨è‡¨¨‡¨Ç ‡¨∂‡¨∞‡≠Ä‡¨∞ ‡¨ï‡¨æ‡¨∞‡≠ç‡¨Ø‡≠ç‡≠ü‡¨ï‡≠Å ‡¨®‡¨ø‡≠ü‡¨®‡≠ç‡¨§‡≠ç‡¨∞‡¨£ ‡¨ï‡¨∞‡≠á", 
                            hi: "‡§µ‡§ø‡§ö‡§æ‡§∞‡•ã‡§Ç, ‡§∏‡•ç‡§Æ‡•É‡§§‡§ø ‡§î‡§∞ ‡§∂‡§∞‡•Ä‡§∞ ‡§ï‡•á ‡§ï‡§æ‡§∞‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§ø‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à" 
                        },
                        matchId: 1,
                        funFact: {
                            en: "Your brain generates about 12-25 watts of electricity - enough to power a low-wattage LED light!",
                            or: "‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨Æ‡¨∏‡≠ç‡¨§‡¨ø‡¨∑‡≠ç‡¨ï ‡¨™‡≠ç‡¨∞‡¨æ‡≠ü 12-25 ‡≠±‡¨æ‡¨ü‡≠ç ‡¨¨‡¨ø‡¨¶‡≠ç‡≠ü‡≠Å‡¨§‡≠ç ‡¨∏‡≠É‡¨∑‡≠ç‡¨ü‡¨ø ‡¨ï‡¨∞‡≠á - ‡¨è‡¨ï ‡¨®‡¨ø‡¨Æ‡≠ç‡¨®-‡≠±‡¨æ‡¨ü‡≠ç LED ‡¨Ü‡¨≤‡≠ã‡¨ï‡¨ï‡≠Å ‡¨∂‡¨ï‡≠ç‡¨§‡¨ø ‡¨¶‡≠á‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨Ø‡¨•‡≠á‡¨∑‡≠ç‡¨ü!",
                            hi: "‡§Ü‡§™‡§ï‡§æ ‡§Æ‡§∏‡•ç‡§§‡§ø‡§∑‡•ç‡§ï ‡§≤‡§ó‡§≠‡§ó 12-25 ‡§µ‡§æ‡§ü ‡§¨‡§ø‡§ú‡§≤‡•Ä ‡§â‡§§‡•ç‡§™‡§®‡•ç‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à - ‡§ú‡•ã ‡§ï‡§Æ ‡§µ‡§æ‡§ü ‡§µ‡§æ‡§≤‡•á ‡§è‡§≤‡§à‡§°‡•Ä ‡§≤‡§æ‡§á‡§ü ‡§ï‡•ã ‡§ö‡§≤‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡§∞‡•ç‡§Ø‡§æ‡§™‡•ç‡§§ ‡§π‡•à!"
                        }
                    },
                    { 
                        id: 2, 
                        name: { en: "Spinal Cord", or: "‡¨∏‡≠ç‡¨™‡¨æ‡¨á‡¨®‡¨æ‡¨≤‡≠ç ‡¨ï‡¨∞‡≠ç‡¨°", hi: "‡§Æ‡•á‡§∞‡•Å‡§∞‡§ú‡•ç‡§ú‡•Å" }, 
                        icon: "‚ö°", 
                        function: { 
                            en: "Transmits signals between brain and body", 
                            or: "‡¨Æ‡¨∏‡≠ç‡¨§‡¨ø‡¨∑‡≠ç‡¨ï ‡¨è‡¨¨‡¨Ç ‡¨∂‡¨∞‡≠Ä‡¨∞ ‡¨Æ‡¨ß‡≠ç‡≠ü‡¨∞‡≠á ‡¨∏‡¨ô‡≠ç‡¨ï‡≠á‡¨§ ‡¨™‡≠ç‡¨∞‡≠á‡¨∞‡¨£ ‡¨ï‡¨∞‡≠á", 
                            hi: "‡§Æ‡§∏‡•ç‡§§‡§ø‡§∑‡•ç‡§ï ‡§î‡§∞ ‡§∂‡§∞‡•Ä‡§∞ ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§∏‡§Ç‡§ï‡•á‡§§ ‡§∏‡§Ç‡§ö‡§æ‡§∞‡§ø‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à" 
                        },
                        matchId: 2,
                        funFact: {
                            en: "The spinal cord is about 18 inches long and contains about 13.5 million neurons!",
                            or: "‡¨∏‡≠ç‡¨™‡¨æ‡¨á‡¨®‡¨æ‡¨≤‡≠ç ‡¨ï‡¨∞‡≠ç‡¨°‡≠ç ‡¨™‡≠ç‡¨∞‡¨æ‡≠ü 18 ‡¨á‡¨û‡≠ç‡¨ö ‡¨≤‡¨Æ‡≠ç‡¨¨‡¨æ ‡¨è‡¨¨‡¨Ç ‡¨™‡≠ç‡¨∞‡¨æ‡≠ü 13.5 ‡¨®‡¨ø‡≠ü‡≠Å‡¨ü‡¨®‡≠ç ‡¨®‡≠ç‡≠ü‡≠Å‡¨∞‡≠ã‡¨®‡≠ç ‡¨ß‡¨æ‡¨∞‡¨£ ‡¨ï‡¨∞‡¨ø‡¨•‡¨æ‡¨è!",
                            hi: "‡§Æ‡•á‡§∞‡•Å‡§∞‡§ú‡•ç‡§ú‡•Å ‡§≤‡§ó‡§≠‡§ó 18 ‡§á‡§Ç‡§ö ‡§≤‡§Ç‡§¨‡•Ä ‡§π‡•ã‡§§‡•Ä ‡§π‡•à ‡§î‡§∞ ‡§á‡§∏‡§Æ‡•á‡§Ç ‡§≤‡§ó‡§≠‡§ó 13.5 ‡§Æ‡§ø‡§≤‡§ø‡§Ø‡§® ‡§®‡•ç‡§Ø‡•Ç‡§∞‡•â‡§® ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç!"
                        }
                    },
                    { 
                        id: 3, 
                        name: { en: "Nerves", or: "‡¨∏‡≠ç‡¨®‡¨æ‡≠ü‡≠Å", hi: "‡§®‡§∏‡•á‡§Ç" }, 
                        icon: "üï∏Ô∏è", 
                        function: { 
                            en: "Carry electrical signals throughout the body", 
                            or: "‡¨∏‡¨æ‡¨∞‡¨æ ‡¨∂‡¨∞‡≠Ä‡¨∞‡¨∞‡≠á ‡¨¨‡¨ø‡¨¶‡≠ç‡≠ü‡≠Å‡¨§ ‡¨∏‡¨ô‡≠ç‡¨ï‡≠á‡¨§ ‡¨¨‡¨π‡¨® ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡¨ø", 
                            hi: "‡§™‡•Ç‡§∞‡•á ‡§∂‡§∞‡•Ä‡§∞ ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§¶‡•ç‡§Ø‡•Å‡§§ ‡§∏‡§Ç‡§ï‡•á‡§§ ‡§≤‡•á ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à‡§Ç" 
                        },
                        matchId: 3,
                        funFact: {
                            en: "If you laid out all the nerves in your body end to end, they would stretch about 45 miles!",
                            or: "‡¨Ø‡¨¶‡¨ø ‡¨Ü‡¨™‡¨£ ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨∂‡¨∞‡≠Ä‡¨∞‡¨∞ ‡¨∏‡¨Æ‡¨∏‡≠ç‡¨§ ‡¨∏‡≠ç‡¨®‡¨æ‡≠ü‡≠Å‡¨ï‡≠Å ‡¨∂‡≠á‡¨∑‡¨∞‡≠Å ‡¨∂‡≠á‡¨∑ ‡¨™‡¨∞‡≠ç‡¨Ø‡≠ç‡≠ü‡¨®‡≠ç‡¨§ ‡¨¨‡¨ø‡¨õ‡¨æ‡¨á‡¨¨‡≠á, ‡¨∏‡≠á‡¨ó‡≠Å‡¨°‡¨ø‡¨ï ‡¨™‡≠ç‡¨∞‡¨æ‡≠ü 45 ‡¨Æ‡¨æ‡¨á‡¨≤‡≠ç ‡¨¨‡¨ø‡¨∏‡≠ç‡¨§‡≠É‡¨§ ‡¨π‡≠á‡¨¨!",
                            hi: "‡§Ø‡§¶‡§ø ‡§Ü‡§™ ‡§Ö‡§™‡§®‡•á ‡§∂‡§∞‡•Ä‡§∞ ‡§ï‡•Ä ‡§∏‡§≠‡•Ä ‡§®‡§∏‡•ã‡§Ç ‡§ï‡•ã ‡§Ö‡§Ç‡§§ ‡§∏‡•á ‡§Ö‡§Ç‡§§ ‡§§‡§ï ‡§¨‡§ø‡§õ‡§æ‡§è‡§Ç‡§ó‡•á, ‡§§‡•ã ‡§µ‡•á ‡§≤‡§ó‡§≠‡§ó 45 ‡§Æ‡•Ä‡§≤ ‡§§‡§ï ‡§´‡•à‡§≤ ‡§ú‡§æ‡§è‡§Ç‡§ó‡•Ä!"
                        }
                    }
                ]
            }
        };

        /* ---- STATE ---- */
        let currentLanguage = 'en';
        let score = 0;
        let correctAnswers = 0;
        let streak = 0;
        let timeLeft = 300; // 5 minutes
        let timerInterval = null;
        let draggedItem = null;
        let completedItems = [];
        let isGameStarted = false;
        let currentSystem = null;
        let currentItems = [];
        let usedHints = 0;
        let gameScores = {}; // Store scores for each system
        let completedSystems = new Set(); // Track completed systems
        let currentSystemType = null; // Store current system type

        /* ---- ELEMENTS ---- */
        const langButtons = document.querySelectorAll('.lang-btn');
        const structureZone = document.getElementById('structure-zone');
        const functionZone = document.getElementById('function-zone');
        const structureItems = document.getElementById('structure-items');
        const functionItems = document.getElementById('function-items');
        const structureHintBtn = document.getElementById('structure-hint');
        const functionHintBtn = document.getElementById('function-hint');
        const scoreElement = document.getElementById('score');
        const timeElement = document.getElementById('time');
        const streakElement = document.getElementById('streak');
        const progressElement = document.getElementById('progress');
        const feedbackModal = document.getElementById('feedback-modal');
        const modalContent = document.getElementById('modal-content');
        const modalBodyImage = document.getElementById('modal-body-image');
        const modalIcon = document.getElementById('modal-icon');
        const modalTitle = document.getElementById('modal-title');
        const modalText = document.getElementById('modal-text');
        const funFactElement = document.getElementById('fun-fact');
        const modalAction = document.getElementById('modal-action');
        const modalClose = document.getElementById('modal-close');
        const levelComplete = document.getElementById('level-complete');
        const finalScoreElement = document.getElementById('final-score');
        const perfectMatchesElement = document.getElementById('perfect-matches');
        const instructionsModal = document.getElementById('instructions-modal');
        const startGameBtn = document.getElementById('start-game-btn');
        const levelSelection = document.getElementById('level-selection');
        const gameHeader = document.getElementById('game-header');
        const gameStatsContainer = document.getElementById('game-stats-container');
        const gameArea = document.getElementById('game-area');
        const streakCounter = document.getElementById('streak-counter');
        const streakCountDisplay = document.getElementById('streak-count');
        const systemTitle = document.getElementById('system-title');
        const systemDescription = document.getElementById('system-description');
        const structureTitle = document.getElementById('structure-title');
        const functionTitle = document.getElementById('function-title');
        const levelTitle = document.getElementById('level-title');
        const levelText = document.getElementById('level-text');
        const scoreboard = document.getElementById('scoreboard');
        const totalScoreElement = document.getElementById('total-score');
        const systemsCompletedElement = document.getElementById('systems-completed');
        const totalPerfectMatchesElement = document.getElementById('total-perfect-matches');
        const highestStreakElement = document.getElementById('highest-streak');
        const scoreboardTableBody = document.getElementById('scoreboard-table-body');
        const playAllAgainBtn = document.getElementById('play-all-again-btn');
        const backToMenuBtn = document.getElementById('back-to-menu-btn');
        const scoreboardTitle = document.getElementById('scoreboard-title');
        const scoreboardSubtitle = document.getElementById('scoreboard-subtitle');
        const levelCompleteButtons = document.getElementById('level-complete-buttons');

        const translations = {
            en: {
                'nav-dashboard': 'Dashboard','nav-about':'About','nav-contact':'Contact',
                'game-title':'Body Systems Explorer','game-desc':'Match body parts with their functions to learn about human anatomy!',
                'correct-title':'Correct!','incorrect-title':'Try Again!',
                'continue-btn':'Continue Learning','level-title':'Level Complete!','level-text':"Congratulations! You've correctly matched all body parts with their functions!",
                'play-again':'Play Again','choose-another':'Choose Another System','view-scoreboard':'View Scoreboard',
                'instructions-title':'Body Systems Explorer','instructions-intro':"Welcome to Body Systems Explorer! Learn about human anatomy by matching body parts with their functions.",
                'instruction-1':'Drag body parts to match them with their correct functions',
                'instruction-2':'Each correct match earns points and builds your streak',
                'instruction-3':'Maintain your streak to earn bonus points',
                'instruction-4':'Click on the hint button if you need help',
                'instruction-5':'Complete all matches to finish the level',
                'instruction-6':'Explore different body systems: Skeletal, Muscular, Circulatory, etc.',
                'instructions-outro':'Learn how amazing your body is! Good luck!','start-game-btn':'Start Learning',
                'structure-title':'Body Structures','function-title':'Body Functions',
                'scoreboard-title':'üéâ Game Complete! üéâ','scoreboard-subtitle':'Congratulations! You\'ve completed all body systems!',
                'play-all-again':'Play All Again','back-to-menu':'Back to Menu','total-score':'Total Score','systems-completed':'Systems Completed',
                'perfect-matches':'Perfect Matches','highest-streak':'Highest Streak',
                'choose-system':'Choose a Body System','select-system-desc':'Select a system to start learning about its structure and function',
                'time-label':'Time:','score-label':'Score:','streak-label':'Streak:',
                'completed': 'Completed',
                'not-played': 'Not Played'
            },
            or: {
                'nav-dashboard':'‡¨°‡≠ç‡≠ü‡¨æ‡¨∏‡¨¨‡≠ã‡¨∞‡≠ç‡¨°','nav-about':'‡¨¨‡¨ø‡¨∑‡≠ü‡¨∞‡≠á','nav-contact':'‡¨Ø‡≠ã‡¨ó‡¨æ‡¨Ø‡≠ã‡¨ó',
                'game-title':'‡¨∂‡¨∞‡≠Ä‡¨∞ ‡¨§‡¨®‡≠ç‡¨§‡≠ç‡¨∞ ‡¨Ö‡¨®‡≠ç‡¨µ‡≠á‡¨∑‡¨ï','game-desc':'‡¨Æ‡¨æ‡¨®‡¨¨ ‡¨∂‡¨∞‡≠Ä‡¨∞‡¨∞ ‡¨¨‡¨ø‡¨∑‡≠ü‡¨∞‡≠á ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨∂‡¨∞‡≠Ä‡¨∞‡¨∞ ‡¨Ö‡¨Ç‡¨∂‡¨ó‡≠Å‡¨°‡¨ø‡¨ï‡≠Å ‡¨∏‡≠á‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï ‡¨ï‡¨æ‡¨∞‡≠ç‡¨Ø‡≠ç‡≠ü ‡¨∏‡¨π‡¨ø‡¨§ ‡¨Æ‡≠á‡¨≥ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å!',
                'correct-title':'‡¨∏‡¨†‡¨ø‡¨ï‡≠ç!','incorrect-title':'‡¨™‡≠Å‡¨£‡¨ø ‡¨ö‡≠á‡¨∑‡≠ç‡¨ü‡¨æ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å!',
                'continue-btn':'‡¨∂‡¨ø‡¨ñ‡¨ø‡¨¨‡¨æ ‡¨ú‡¨æ‡¨∞‡¨ø ‡¨∞‡¨ñ‡¨®‡≠ç‡¨§‡≠Å','level-title':'‡¨∏‡≠ç‡¨§‡¨∞ ‡¨∏‡¨Æ‡≠ç‡¨™‡≠Ç‡¨∞‡≠ç‡¨£‡≠ç‡¨£!','level-text':'‡¨Ö‡¨≠‡¨ø‡¨®‡¨®‡≠ç‡¨¶‡¨®! ‡¨Ü‡¨™‡¨£ ‡¨∏‡¨Æ‡¨∏‡≠ç‡¨§ ‡¨∂‡¨∞‡≠Ä‡¨∞ ‡¨Ö‡¨Ç‡¨∂‡¨ó‡≠Å‡¨°‡¨ø‡¨ï‡≠Å ‡¨∏‡≠á‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï ‡¨ï‡¨æ‡¨∞‡≠ç‡¨Ø‡≠ç‡≠ü ‡¨∏‡¨π‡¨ø‡¨§ ‡¨∏‡¨†‡¨ø‡¨ï‡≠ç ‡¨≠‡¨æ‡¨¨‡¨∞‡≠á ‡¨Æ‡≠á‡¨≥ ‡¨ï‡¨∞‡¨ø‡¨õ‡¨®‡≠ç‡¨§‡¨ø!',
                'play-again':'‡¨™‡≠Å‡¨£‡¨ø ‡¨ñ‡≠á‡¨≥‡¨®‡≠ç‡¨§‡≠Å','choose-another':'‡¨Ö‡¨®‡≠ç‡≠ü ‡¨è‡¨ï ‡¨§‡¨®‡≠ç‡¨§‡≠ç‡¨∞ ‡¨¨‡¨æ‡¨õ‡¨®‡≠ç‡¨§‡≠Å','view-scoreboard':'‡¨∏‡≠ç‡¨ï‡≠ã‡¨∞‡¨¨‡≠ã‡¨∞‡≠ç‡¨° ‡¨¶‡≠á‡¨ñ‡¨®‡≠ç‡¨§‡≠Å',
                'instructions-title':'‡¨∂‡¨∞‡≠Ä‡¨∞ ‡¨§‡¨®‡≠ç‡¨§‡≠ç‡¨∞ ‡¨Ö‡¨®‡≠ç‡¨µ‡≠á‡¨∑‡¨ï','instructions-intro':'‡¨∂‡¨∞‡≠Ä‡¨∞ ‡¨§‡¨®‡≠ç‡¨§‡≠ç‡¨∞ ‡¨Ö‡¨®‡≠ç‡¨µ‡≠á‡¨∑‡¨ï‡¨ï‡≠Å ‡¨∏‡≠ç‡≠±‡¨æ‡¨ó‡¨§! ‡¨∂‡¨∞‡≠Ä‡¨∞‡¨∞ ‡¨Ö‡¨Ç‡¨∂‡¨ó‡≠Å‡¨°‡¨ø‡¨ï‡≠Å ‡¨∏‡≠á‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï ‡¨ï‡¨æ‡¨∞‡≠ç‡¨Ø‡≠ç‡≠ü ‡¨∏‡¨π‡¨ø‡¨§ ‡¨Æ‡≠á‡¨≥ ‡¨ï‡¨∞‡¨ø ‡¨Æ‡¨æ‡¨®‡¨¨ ‡¨∂‡¨∞‡≠Ä‡¨∞ ‡¨¨‡¨ø‡¨∑‡≠ü‡¨∞‡≠á ‡¨∂‡¨ø‡¨ñ‡¨®‡≠ç‡¨§‡≠Å‡•§',
                'instruction-1':'‡¨∂‡¨∞‡≠Ä‡¨∞‡¨∞ ‡¨Ö‡¨Ç‡¨∂‡¨ó‡≠Å‡¨°‡¨ø‡¨ï‡≠Å ‡¨∏‡≠á‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï ‡¨∏‡¨†‡¨ø‡¨ï‡≠ç ‡¨ï‡¨æ‡¨∞‡≠ç‡¨Ø‡≠ç‡≠ü ‡¨∏‡¨π‡¨ø‡¨§ ‡¨Æ‡≠á‡¨≥ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨ü‡¨æ‡¨£‡¨®‡≠ç‡¨§‡≠Å',
                'instruction-2':'‡¨™‡≠ç‡¨∞‡¨§‡≠ç‡≠ü‡≠á‡¨ï ‡¨∏‡¨†‡¨ø‡¨ï‡≠ç ‡¨Æ‡≠á‡¨≥ ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï‡≠Å ‡¨™‡¨è‡¨£‡≠ç‡¨ü ‡¨¶‡≠á‡¨¨ ‡¨è‡¨¨‡¨Ç ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï‡¨∞ ‡¨ß‡¨æ‡¨∞‡¨æ ‡¨ó‡¨†‡¨® ‡¨ï‡¨∞‡¨ø‡¨¨',
                'instruction-3':'‡¨¨‡¨®‡≠Å‡¨∏‡≠ç ‡¨™‡¨è‡¨£‡≠ç‡¨ü ‡¨™‡¨æ‡¨á‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï‡¨∞ ‡¨ß‡¨æ‡¨∞‡¨æ ‡¨¨‡¨ú‡¨æ‡≠ü ‡¨∞‡¨ñ‡¨®‡≠ç‡¨§‡≠Å',
                'instruction-4':'‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï‡≠Å ‡¨∏‡¨æ‡¨π‡¨æ‡¨Ø‡≠ç‡≠ü ‡¨¶‡¨∞‡¨ï‡¨æ‡¨∞ ‡¨π‡≠á‡¨≤‡≠á ‡¨∏‡≠Ç‡¨ö‡¨®‡¨æ ‡¨¨‡¨ü‡¨®‡≠ç ‡¨â‡¨™‡¨∞‡≠á ‡¨ï‡≠ç‡¨≤‡¨ø‡¨ï‡≠ç ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å',
                'instruction-5':'‡¨∏‡≠ç‡¨§‡¨∞ ‡¨∏‡¨Æ‡¨æ‡¨™‡≠ç‡¨§ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨∏‡¨Æ‡¨∏‡≠ç‡¨§ ‡¨Æ‡≠á‡¨≥ ‡¨∏‡¨Æ‡¨æ‡¨™‡≠ç‡¨§ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å',
                'instruction-6':'‡¨¨‡¨ø‡¨≠‡¨ø‡¨®‡≠ç‡¨® ‡¨∂‡¨∞‡≠Ä‡¨∞ ‡¨§‡¨®‡≠ç‡¨§‡≠ç‡¨∞ ‡¨Ö‡¨®‡≠ç‡¨µ‡≠á‡¨∑‡¨£ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å: ‡¨ï‡¨æ‡¨†‡¨ø‡¨®‡≠ç‡≠ü, ‡¨Æ‡¨æ‡¨Ç‡¨∏‡¨™‡≠á‡¨∂‡≠Ä, ‡¨∞‡¨ï‡≠ç‡¨§‡¨ö‡¨ï‡≠ç‡¨∞, ‡¨á‡¨§‡≠ç‡≠ü‡¨æ‡¨¶‡¨ø‡•§',
                'instructions-outro':'‡¨∂‡¨ø‡¨ñ‡¨®‡≠ç‡¨§‡≠Å ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨∂‡¨∞‡≠Ä‡¨∞ ‡¨ï‡≠á‡¨§‡≠á ‡¨Ü‡¨∂‡≠ç‡¨ö‡¨∞‡≠ç‡¨Ø‡≠ç‡≠ü‡¨ú‡¨®‡¨ï! ‡¨∂‡≠Å‡¨≠‡¨ï‡¨æ‡¨Æ‡¨®‡¨æ!','start-game-btn':'‡¨∂‡¨ø‡¨ñ‡¨ø‡¨¨‡¨æ ‡¨Ü‡¨∞‡¨Æ‡≠ç‡¨≠ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å',
                'structure-title':'‡¨∂‡¨∞‡≠Ä‡¨∞ ‡¨ó‡¨†‡¨®','function-title':'‡¨∂‡¨∞‡≠Ä‡¨∞ ‡¨ï‡¨æ‡¨∞‡≠ç‡¨Ø‡≠ç‡≠ü',
                'scoreboard-title':'üéâ ‡¨ñ‡≠á‡¨≥ ‡¨∏‡¨Æ‡≠ç‡¨™‡≠Ç‡¨∞‡≠ç‡¨£‡≠ç‡¨£! üéâ','scoreboard-subtitle':'‡¨Ö‡¨≠‡¨ø‡¨®‡¨®‡≠ç‡¨¶‡¨®! ‡¨Ü‡¨™‡¨£ ‡¨∏‡¨Æ‡¨∏‡≠ç‡¨§ ‡¨∂‡¨∞‡≠Ä‡¨∞ ‡¨§‡¨®‡≠ç‡¨§‡≠ç‡¨∞ ‡¨∏‡¨Æ‡¨æ‡¨™‡≠ç‡¨§ ‡¨ï‡¨∞‡¨ø‡¨õ‡¨®‡≠ç‡¨§‡¨ø!',
                'play-all-again':'‡¨∏‡¨Æ‡¨∏‡≠ç‡¨§ ‡¨™‡≠Å‡¨£‡¨ø ‡¨ñ‡≠á‡¨≥‡¨®‡≠ç‡¨§‡≠Å','back-to-menu':'‡¨Æ‡≠á‡¨®‡≠Å‡¨ï‡≠Å ‡¨´‡≠á‡¨∞‡¨®‡≠ç‡¨§‡≠Å','total-score':'‡¨Æ‡≠ã‡¨ü ‡¨∏‡≠ç‡¨ï‡≠ã‡¨∞','systems-completed':'‡¨§‡¨®‡≠ç‡¨§‡≠ç‡¨∞ ‡¨∏‡¨Æ‡≠ç‡¨™‡≠Ç‡¨∞‡≠ç‡¨£‡≠ç‡¨£',
                'perfect-matches':'‡¨∏‡¨†‡¨ø‡¨ï‡≠ç ‡¨Æ‡≠á‡¨≥','highest-streak':'‡¨â‡¨ö‡≠ç‡¨ö‡¨§‡¨Æ ‡¨ß‡¨æ‡¨∞‡¨æ',
                'choose-system':'‡¨è‡¨ï ‡¨∂‡¨∞‡≠Ä‡¨∞ ‡¨§‡¨®‡≠ç‡¨§‡≠ç‡¨∞ ‡¨¨‡¨æ‡¨õ‡¨®‡≠ç‡¨§‡≠Å','select-system-desc':'‡¨è‡¨π‡¨æ‡¨∞ ‡¨∏‡≠ç‡¨•‡¨æ‡¨™‡¨§‡≠ç‡≠ü ‡¨è‡¨¨‡¨Ç ‡¨ï‡¨æ‡¨∞‡≠ç‡¨Ø‡≠ç‡≠ü ‡¨¨‡¨ø‡¨∑‡≠ü‡¨∞‡≠á ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨¨‡¨æ ‡¨Ü‡¨∞‡¨Æ‡≠ç‡¨≠ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨è‡¨ï ‡¨§‡¨®‡≠ç‡¨§‡≠ç‡¨∞ ‡¨¨‡¨æ‡¨õ‡¨®‡≠ç‡¨§‡≠Å',
                'time-label':'‡¨∏‡¨Æ‡≠ü:','score-label':'‡¨∏‡≠ç‡¨ï‡≠ã‡¨∞:','streak-label':'‡¨ß‡¨æ‡¨∞‡¨æ:',
                'completed': '‡¨∏‡¨Æ‡≠ç‡¨™‡≠Ç‡¨∞‡≠ç‡¨£‡≠ç‡¨£',
                'not-played': '‡¨ñ‡≠á‡¨≥‡¨æ‡¨Ø‡¨æ‡¨á‡¨®‡¨æ‡¨π‡¨ø‡¨Å'
            },
            hi: {
                'nav-dashboard':'‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°','nav-about':'‡§π‡§Æ‡§æ‡§∞‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç','nav-contact':'‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç',
                'game-title':'‡§∂‡§∞‡•Ä‡§∞ ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä ‡§Ö‡§®‡•ç‡§µ‡•á‡§∑‡§ï','game-desc':'‡§Æ‡§æ‡§®‡§µ ‡§∂‡§∞‡•Ä‡§∞ ‡§∞‡§ö‡§®‡§æ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§ú‡§æ‡§®‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∂‡§∞‡•Ä‡§∞ ‡§ï‡•á ‡§Ö‡§Ç‡§ó‡•ã‡§Ç ‡§ï‡•ã ‡§â‡§®‡§ï‡•á ‡§ï‡§æ‡§∞‡•ç‡§Ø‡•ã‡§Ç ‡§∏‡•á ‡§Æ‡§ø‡§≤‡§æ‡§è‡§Å!',
                'correct-title':'‡§∏‡§π‡•Ä!','incorrect-title':'‡§´‡§ø‡§∞ ‡§∏‡•á ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞‡•á‡§Ç!',
                'continue-btn':'‡§∏‡•Ä‡§ñ‡§®‡§æ ‡§ú‡§æ‡§∞‡•Ä ‡§∞‡§ñ‡•á‡§Ç','level-title':'‡§∏‡•ç‡§§‡§∞ ‡§™‡•Ç‡§∞‡§æ!','level-text':'‡§¨‡§ß‡§æ‡§à ‡§π‡•ã! ‡§Ü‡§™‡§®‡•á ‡§∏‡§≠‡•Ä ‡§∂‡§∞‡•Ä‡§∞ ‡§Ö‡§Ç‡§ó‡•ã‡§Ç ‡§ï‡•ã ‡§â‡§®‡§ï‡•á ‡§ï‡§æ‡§∞‡•ç‡§Ø‡•ã‡§Ç ‡§∏‡•á ‡§∏‡§π‡•Ä ‡§¢‡§Ç‡§ó ‡§∏‡•á ‡§Æ‡§ø‡§≤‡§æ ‡§≤‡§ø‡§Ø‡§æ ‡§π‡•à!',
                'play-again':'‡§´‡§ø‡§∞ ‡§∏‡•á ‡§ñ‡•á‡§≤‡•á‡§Ç','choose-another':'‡§¶‡•Ç‡§∏‡§∞‡•Ä ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä ‡§ö‡•Å‡§®‡•á‡§Ç','view-scoreboard':'‡§∏‡•ç‡§ï‡•ã‡§∞‡§¨‡•ã‡§∞‡•ç‡§° ‡§¶‡•á‡§ñ‡•á‡§Ç',
                'instructions-title':'‡§∂‡§∞‡•Ä‡§∞ ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä ‡§Ö‡§®‡•ç‡§µ‡•á‡§∑‡§ï','instructions-intro':'‡§∂‡§∞‡•Ä‡§∞ ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä ‡§Ö‡§®‡•ç‡§µ‡•á‡§∑‡§ï ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à! ‡§∂‡§∞‡•Ä‡§∞ ‡§ï‡•á ‡§Ö‡§Ç‡§ó‡•ã‡§Ç ‡§ï‡•ã ‡§â‡§®‡§ï‡•á ‡§ï‡§æ‡§∞‡•ç‡§Ø‡•ã‡§Ç ‡§∏‡•á ‡§Æ‡§ø‡§≤‡§æ‡§ï‡§∞ ‡§Æ‡§æ‡§®‡§µ ‡§∂‡§∞‡•Ä‡§∞ ‡§∞‡§ö‡§®‡§æ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§ú‡§æ‡§®‡•á‡§Ç‡•§',
                'instruction-1':'‡§∂‡§∞‡•Ä‡§∞ ‡§ï‡•á ‡§Ö‡§Ç‡§ó‡•ã‡§Ç ‡§ï‡•ã ‡§â‡§®‡§ï‡•á ‡§∏‡§π‡•Ä ‡§ï‡§æ‡§∞‡•ç‡§Ø‡•ã‡§Ç ‡§∏‡•á ‡§Æ‡§ø‡§≤‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ñ‡•Ä‡§Ç‡§ö‡•á‡§Ç',
                'instruction-2':'‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§∏‡§π‡•Ä ‡§Æ‡§ø‡§≤‡§æ‡§® ‡§Ö‡§Ç‡§ï ‡§Ö‡§∞‡•ç‡§ú‡§ø‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§Ü‡§™‡§ï‡•Ä ‡§≤‡§ó‡§æ‡§§‡§æ‡§∞ ‡§∏‡§´‡§≤‡§§‡§æ ‡§¨‡§®‡§æ‡§§‡§æ ‡§π‡•à',
                'instruction-3':'‡§¨‡•ã‡§®‡§∏ ‡§Ö‡§Ç‡§ï ‡§™‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§™‡§®‡•Ä ‡§≤‡§ó‡§æ‡§§‡§æ‡§∞ ‡§∏‡§´‡§≤‡§§‡§æ ‡§¨‡§®‡§æ‡§è ‡§∞‡§ñ‡•á‡§Ç',
                'instruction-4':'‡§Ø‡§¶‡§ø ‡§Ü‡§™‡§ï‡•ã ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§ö‡§æ‡§π‡§ø‡§è ‡§§‡•ã ‡§∏‡§Ç‡§ï‡•á‡§§ ‡§¨‡§ü‡§® ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç',
                'instruction-5':'‡§∏‡•ç‡§§‡§∞ ‡§ï‡•ã ‡§™‡•Ç‡§∞‡§æ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§≠‡•Ä ‡§Æ‡§ø‡§≤‡§æ‡§® ‡§™‡•Ç‡§∞‡•á ‡§ï‡§∞‡•á‡§Ç',
                'instruction-6':'‡§µ‡§ø‡§≠‡§ø‡§®‡•ç‡§® ‡§∂‡§∞‡•Ä‡§∞ ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡§æ ‡§Ö‡§®‡•ç‡§µ‡•á‡§∑‡§£ ‡§ï‡§∞‡•á‡§Ç: ‡§ï‡§Ç‡§ï‡§æ‡§≤, ‡§Æ‡§æ‡§Ç‡§∏‡§™‡•á‡§∂‡•Ä, ‡§∏‡§Ç‡§ö‡§æ‡§∞, ‡§Ü‡§¶‡§ø‡•§',
                'instructions-outro':'‡§ú‡§æ‡§®‡•á‡§Ç ‡§ï‡§ø ‡§Ü‡§™‡§ï‡§æ ‡§∂‡§∞‡•Ä‡§∞ ‡§ï‡§ø‡§§‡§®‡§æ ‡§Ö‡§¶‡•ç‡§≠‡•Å‡§§ ‡§π‡•à! ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å!','start-game-btn':'‡§∏‡•Ä‡§ñ‡§®‡§æ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç',
                'structure-title':'‡§∂‡§∞‡•Ä‡§∞ ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ‡§è‡§Å','function-title':'‡§∂‡§∞‡•Ä‡§∞ ‡§ï‡§æ‡§∞‡•ç‡§Ø',
                'scoreboard-title':'üéâ ‡§ñ‡•á‡§≤ ‡§™‡•Ç‡§∞‡§æ! üéâ','scoreboard-subtitle':'‡§¨‡§ß‡§æ‡§à ‡§π‡•ã! ‡§Ü‡§™‡§®‡•á ‡§∏‡§≠‡•Ä ‡§∂‡§∞‡•Ä‡§∞ ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§™‡•Ç‡§∞‡§æ ‡§ï‡§∞ ‡§≤‡§ø‡§Ø‡§æ ‡§π‡•à!',
                'play-all-again':'‡§∏‡§≠‡•Ä ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§ñ‡•á‡§≤‡•á‡§Ç','back-to-menu':'‡§Æ‡•á‡§®‡•Ç ‡§™‡§∞ ‡§µ‡§æ‡§™‡§∏ ‡§ú‡§æ‡§è‡§Ç','total-score':'‡§ï‡•Å‡§≤ ‡§∏‡•ç‡§ï‡•ã‡§∞','systems-completed':'‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡§ø‡§Ø‡§æ‡§Å ‡§™‡•Ç‡§∞‡•Ä ‡§π‡•Å‡§à‡§Ç',
                'perfect-matches':'‡§∏‡§π‡•Ä ‡§Æ‡§ø‡§≤‡§æ‡§®','highest-streak':'‡§â‡§ö‡•ç‡§ö‡§§‡§Æ ‡§≤‡§ó‡§æ‡§§‡§æ‡§∞ ‡§∏‡§´‡§≤‡§§‡§æ',
                'choose-system':'‡§è‡§ï ‡§∂‡§∞‡•Ä‡§∞ ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä ‡§ö‡•Å‡§®‡•á‡§Ç','select-system-desc':'‡§á‡§∏‡§ï‡•Ä ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ ‡§î‡§∞ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§∏‡•Ä‡§ñ‡§®‡§æ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä ‡§ö‡•Å‡§®‡•á‡§Ç',
                'time-label':'‡§∏‡§Æ‡§Ø:','score-label':'‡§∏‡•ç‡§ï‡•ã‡§∞:','streak-label':'‡§≤‡§ó‡§æ‡§§‡§æ‡§∞ ‡§∏‡§´‡§≤‡§§‡§æ:',
                'completed': '‡§™‡•Ç‡§∞‡•ç‡§£',
                'not-played': '‡§®‡§π‡•Ä‡§Ç ‡§ñ‡•á‡§≤‡§æ ‡§ó‡§Ø‡§æ'
            }
        };

        /* ---- INIT ---- */
        function init() {
            createParticles();

            // Initialize game scores
            for (const system in bodySystems) {
                gameScores[system] = {
                    score: 0,
                    completed: false,
                    time: 0,
                    matches: 0,
                    totalMatches: bodySystems[system].items.length
                };
            }

            // Add event listeners to all language buttons
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.addEventListener('click', function() { 
                    const lang = this.getAttribute('data-lang'); 
                    switchLanguage(lang); 
                });
            });

            startGameBtn.addEventListener('click', showLevelSelection);
            modalAction.addEventListener('click', closeModal);
            modalClose.addEventListener('click', closeModal);
            playAllAgainBtn.addEventListener('click', resetAllGames);
            backToMenuBtn.addEventListener('click', showLevelSelection);
            
            // Level selection buttons
            document.querySelectorAll('.level-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    startGame(this.dataset.level);
                });
            });
            
            // Hint buttons
            structureHintBtn.addEventListener('click', () => showHint('structure'));
            functionHintBtn.addEventListener('click', () => showHint('function'));

            switchLanguage('en');
        }

        function createParticles() {
            const container = document.getElementById('particles');
            container.innerHTML = '';
            for (let i=0;i<18;i++){
                const p = document.createElement('div'); p.className='particle';
                p.style.left = Math.random() * 100 + '%';
                p.style.top = Math.random() * 100 + '%';
                p.style.animationDelay = `${Math.random()*10}s`;
                container.appendChild(p);
            }
        }

        function showLevelSelection() {
            instructionsModal.style.display = 'none';
            gameHeader.style.display = 'none';
            gameStatsContainer.style.display = 'none';
            gameArea.style.display = 'none';
            levelComplete.style.display = 'none';
            scoreboard.style.display = 'none';
            levelSelection.style.display = 'block';
            
            // Update level buttons to show completion status
            for (const system in bodySystems) {
                const btn = document.getElementById(`${system}-btn`);
                if (btn) {
                    if (gameScores[system].completed) {
                        btn.classList.add('completed');
                        btn.innerHTML = `<i class="fas fa-check-circle"></i><span>${bodySystems[system].title[currentLanguage]}</span>`;
                    } else {
                        btn.classList.remove('completed');
                        btn.innerHTML = `<i class="${btn.dataset.icon || getIconForSystem(system)}"></i><span>${bodySystems[system].title[currentLanguage]}</span>`;
                    }
                }
            }
        }

        function getIconForSystem(system) {
            switch(system) {
                case 'skeletal': return 'fas fa-bone';
                case 'muscular': return 'fas fa-dumbbell';
                case 'circulatory': return 'fas fa-heart';
                case 'respiratory': return 'fas fa-lungs';
                case 'digestive': return 'fas fa-stomach';
                case 'nervous': return 'fas fa-brain';
                default: return 'fas fa-question';
            }
        }

        /* ---- GAME SETUP ---- */
        function startGame(systemType) {
            levelSelection.style.display = 'none';
            gameHeader.style.display = 'block';
            gameStatsContainer.style.display = 'block';
            gameArea.style.display = 'block';
            levelComplete.style.display = 'none';
            scoreboard.style.display = 'none';
            
            // Set current system
            currentSystem = bodySystems[systemType];
            currentSystemType = systemType; // Store the system type
            currentItems = [...currentSystem.items];
            
            // Reset stats for this game
            score = 0; 
            correctAnswers = 0; 
            streak = 0; 
            timeLeft = 300; 
            completedItems = [];
            usedHints = 0;
            
            // Clear zones
            structureItems.innerHTML = '';
            functionItems.innerHTML = '';
            
            // Update UI with system info
            systemTitle.textContent = currentSystem.title[currentLanguage];
            systemDescription.textContent = currentSystem.description[currentLanguage];
            
            // Update zone titles
            structureTitle.textContent = translations[currentLanguage]['structure-title'];
            functionTitle.textContent = translations[currentLanguage]['function-title'];
            
            // Create items - body parts go directly into structure zone
            createBodyItems();
            
            // Create function cards (shuffled)
            createFunctionCards();
            
            // Setup drag and drop
            setupDragAndDrop();
            
            // Start timer
            startTimer();
            
            // Update UI
            updateScore(); 
            updateStreak();
        }

        function createBodyItems() {
            // Shuffle items
            const shuffledItems = [...currentItems].sort(() => Math.random() - 0.5);
            
            shuffledItems.forEach((item, idx) => {
                const el = document.createElement('div');
                el.className = 'body-item';
                el.draggable = true;
                el.dataset.id = item.id;
                el.dataset.matchId = item.matchId;
                el.style.transitionDelay = `${idx * 100}ms`;
                el.style.borderColor = currentSystem.color + '80';
                el.innerHTML = `
                    <div class="body-icon">${item.icon}</div>
                    <div class="body-name">${item.name[currentLanguage]}</div>
                `;
                structureItems.appendChild(el); // Add to structure zone
            });
        }

        function createFunctionCards() {
            // Shuffle functions
            const shuffledFunctions = [...currentItems]
                .map(item => ({ id: item.matchId, text: item.function[currentLanguage] }))
                .sort(() => Math.random() - 0.5);
            
            shuffledFunctions.forEach((func, idx) => {
                const card = document.createElement('div');
                card.className = 'function-card';
                card.draggable = true;
                card.dataset.id = func.id;
                card.style.transitionDelay = `${idx * 100}ms`;
                card.innerHTML = `
                    <div class="function-text">${func.text}</div>
                `;
                functionItems.appendChild(card); // Add to function zone
            });
        }

        function setupDragAndDrop() {
            const bodyItems = document.querySelectorAll('.body-item');
            const functionCards = document.querySelectorAll('.function-card');
            const dropZones = document.querySelectorAll('.drop-zone');

            // Make body items draggable to function zone
            bodyItems.forEach(item => {
                item.addEventListener('dragstart', dragStart);
                item.addEventListener('dragend', dragEnd);
            });

            // Make function cards draggable to structure zone  
            functionCards.forEach(card => {
                card.addEventListener('dragstart', dragStart);
                card.addEventListener('dragend', dragEnd);
            });

            dropZones.forEach(zone => {
                zone.addEventListener('dragover', dragOver);
                zone.addEventListener('dragenter', dragEnter);
                zone.addEventListener('dragleave', dragLeave);
                zone.addEventListener('drop', drop);
            });
        }

        function dragStart(e) {
            if (this.classList.contains('correct')) {
                e.preventDefault();
                return;
            }
            
            draggedItem = this;
            e.dataTransfer.setData('text/plain', this.dataset.id);
            this.classList.add('dragging');
            setTimeout(()=> this.style.opacity = '0.5', 10);
        }
        
        function dragEnd() { 
            this.classList.remove('dragging'); 
            this.style.opacity='1'; 
        }

        function dragOver(e) { 
            e.preventDefault(); 
        }
        
        function dragEnter(e) { 
            e.preventDefault(); 
            this.classList.add('highlight'); 
        }
        
        function dragLeave() { 
            this.classList.remove('highlight'); 
        }

        function drop(e) {
            e.preventDefault();
            this.classList.remove('highlight');
            
            // Don't allow dropping if the item is already matched/correct
            if (draggedItem.classList.contains('correct')) {
                draggedItem = null;
                return;
            }
            
            // Determine what was dropped and where
            if (draggedItem.classList.contains('body-item')) {
                // Body item dropped - only allow in function zone
                if (this.id === 'function-zone') {
                    // Check if there's already a function card here that matches this body item
                    const matchingFunctionCard = Array.from(this.querySelectorAll('.function-card')).find(card => 
                        card.dataset.id === draggedItem.dataset.matchId && !card.classList.contains('correct')
                    );
                    
                    if (matchingFunctionCard) {
                        handleBodyToFunctionDrop(draggedItem, matchingFunctionCard, this);
                    } else {
                        // Find any unmatched function card
                        const anyFunctionCard = Array.from(this.querySelectorAll('.function-card:not(.correct)'))[0];
                        if (anyFunctionCard) {
                            handleBodyToFunctionDrop(draggedItem, anyFunctionCard, this);
                        } else {
                            handleIncorrectDrop(draggedItem, this);
                        }
                    }
                } else {
                    // Wrong zone - return item to original position
                    handleIncorrectDrop(draggedItem, this);
                }
            } else if (draggedItem.classList.contains('function-card')) {
                // Function card dropped - only allow in structure zone
                if (this.id === 'structure-zone') {
                    // Check if there's already a body item here that matches this function
                    const matchingBodyItem = Array.from(this.querySelectorAll('.body-item')).find(item => 
                        item.dataset.matchId === draggedItem.dataset.id && !item.classList.contains('correct')
                    );
                    
                    if (matchingBodyItem) {
                        handleFunctionToStructureDrop(draggedItem, matchingBodyItem, this);
                    } else {
                        // Find any unmatched body item
                        const anyBodyItem = Array.from(this.querySelectorAll('.body-item:not(.correct)'))[0];
                        if (anyBodyItem) {
                            handleFunctionToStructureDrop(draggedItem, anyBodyItem, this);
                        } else {
                            handleIncorrectDrop(draggedItem, this);
                        }
                    }
                } else {
                    // Wrong zone - return item to original position
                    handleIncorrectDrop(draggedItem, this);
                }
            }
            
            draggedItem = null;
        }

        /* ---- GAME LOGIC ---- */
        function handleBodyToFunctionDrop(bodyItem, functionCard, zone) {
            const bodyData = currentItems.find(item => item.id == bodyItem.dataset.id);
            
            if (!bodyData) {
                handleIncorrectDrop(bodyItem, zone);
                return;
            }
            
            // Check if it's a match (body's matchId should match function's id)
            if (functionCard.dataset.id == bodyData.matchId) {
                handleCorrectMatch(bodyData, bodyItem, functionCard, zone);
            } else {
                handleIncorrectDrop(bodyItem, zone);
            }
        }

        function handleFunctionToStructureDrop(functionCard, bodyItem, zone) {
            const functionData = currentItems.find(item => item.matchId == functionCard.dataset.id);
            
            if (!functionData) {
                handleIncorrectDrop(functionCard, zone);
                return;
            }
            
            // Check if it's a match (function's id should match body's matchId)
            if (bodyItem.dataset.matchId == functionData.matchId) {
                handleCorrectMatch(functionData, bodyItem, functionCard, zone);
            } else {
                handleIncorrectDrop(functionCard, zone);
            }
        }

        function handleCorrectMatch(item, bodyElement, functionElement, zone) {
            if (completedItems.includes(item.id)) return;
            
            completedItems.push(item.id);
            
            // Calculate points
            const basePoints = 20;
            const streakBonus = Math.min(streak * 5, 30);
            const timeBonus = Math.max(0, Math.floor(timeLeft / 60) * 5);
            const pointsEarned = basePoints + streakBonus + timeBonus;
            
            score += pointsEarned;
            correctAnswers++;
            streak++;
            
            updateScore();
            updateStreak();
            
            // Visual feedback
            bodyElement.classList.add('correct');
            functionElement.classList.add('correct');
            
            // Show feedback modal
            showFeedback(true, item);
            
            // Check if level is complete
            if (correctAnswers >= currentItems.length) {
                setTimeout(() => completeLevel(), 1000);
            }
        }

        function handleIncorrectDrop(item, zone) {
            streak = 0;
            updateStreak();
            
            zone.classList.add('incorrect');
            item.classList.add('incorrect');
            
            // Visual feedback
            item.style.animation = 'shake 0.5s';
            
            setTimeout(() => {
                zone.classList.remove('incorrect');
                item.classList.remove('incorrect');
                item.style.animation = '';
            }, 1000);
            
            showFeedback(false, null);
        }

        function createConnection(element1, element2) {
            // Empty function - no more connecting lines
            // This function intentionally does nothing to remove the lines
        }

        /* ---- HINTS ---- */
        function showHint(type) {
            if (usedHints >= 3) {
                alert(translations[currentLanguage]['instruction-4']);
                return;
            }
            
            usedHints++;
            
            if (type === 'structure') {
                // Highlight all unmatched body items
                document.querySelectorAll('.body-item:not(.correct)').forEach(item => {
                    item.classList.add('celebrate');
                    item.style.boxShadow = `0 0 20px ${currentSystem.color}`;
                    
                    setTimeout(() => {
                        item.classList.remove('celebrate');
                        item.style.boxShadow = '';
                    }, 1000);
                });
            } else {
                // Highlight all unmatched function cards
                document.querySelectorAll('.function-card:not(.correct)').forEach(card => {
                    card.classList.add('celebrate');
                    card.style.boxShadow = `0 0 20px ${currentSystem.color}`;
                    
                    setTimeout(() => {
                        card.classList.remove('celebrate');
                        card.style.boxShadow = '';
                    }, 1000);
                });
            }
        }

        /* ---- MODAL & FEEDBACK ---- */
        function showFeedback(isCorrect, item) {
            if (isCorrect && item) {
                modalBodyImage.textContent = item.icon;
                modalIcon.innerHTML = '<i class="fas fa-check-circle" style="color:#38a169;"></i>';
                modalTitle.textContent = translations[currentLanguage]['correct-title'];
                modalText.textContent = `${item.name[currentLanguage]}: ${item.function[currentLanguage]}`;
                funFactElement.textContent = item.funFact[currentLanguage];
                document.getElementById('extra-info').style.display = 'block';
                modalAction.textContent = translations[currentLanguage]['continue-btn'];
            } else {
                modalBodyImage.textContent = '‚ùå';
                modalIcon.innerHTML = '<i class="fas fa-times-circle" style="color:#e53e3e;"></i>';
                modalTitle.textContent = translations[currentLanguage]['incorrect-title'];
                modalText.textContent = currentLanguage === 'en' 
                    ? "That's not quite right. Try again!" 
                    : currentLanguage === 'or' 
                        ? "‡¨∏‡≠á‡¨§‡≠á ‡¨†‡¨ø‡¨ï‡≠ç ‡¨®‡≠Å‡¨π‡≠á‡¨Å‡•§ ‡¨™‡≠Å‡¨£‡¨ø ‡¨ö‡≠á‡¨∑‡≠ç‡¨ü‡¨æ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å!" 
                        : "‡§Ø‡§π ‡§¨‡§ø‡§≤‡•ç‡§ï‡•Å‡§≤ ‡§∏‡§π‡•Ä ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§ ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞‡•á‡§Ç!";
                document.getElementById('extra-info').style.display = 'none';
                modalAction.textContent = translations[currentLanguage]['continue-btn'];
            }

            feedbackModal.style.display = 'flex';
        }

        function closeModal() {
            feedbackModal.style.display = 'none';
        }

        /* ---- UI Updates ---- */
        function updateScore() {
            const scoreLabel = translations[currentLanguage]['score-label'] || 'Score:';
            scoreElement.textContent = `${scoreLabel} ${score}`;
            const maxPossible = currentItems.length * 50; // Approximate max score
            const pct = Math.min(100, Math.round((score / (maxPossible || 1)) * 100));
            progressElement.style.width = `${pct}%`;
        }

        function updateStreak() {
            const streakLabel = translations[currentLanguage]['streak-label'] || 'Streak:';
            streakElement.textContent = `${streakLabel} ${streak}`;
            streakCountDisplay.textContent = streak;
            
            // Show streak counter when streak is 3 or more
            if (streak >= 3) {
                streakCounter.style.display = 'block';
            } else {
                streakCounter.style.display = 'none';
            }
        }

        /* ---- TIMER ---- */
        function startTimer() {
            clearInterval(timerInterval);
            updateTimerDisplay();
            timerInterval = setInterval(()=> {
                timeLeft--;
                updateTimerDisplay();
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    showTimeUpModal();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const m = Math.floor(timeLeft/60);
            const s = timeLeft % 60;
            timeElement.textContent = `${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
        }

        function showTimeUpModal() {
            modalIcon.innerHTML = '<i class="fas fa-clock" style="color:#e53e3e;"></i>';
            modalTitle.textContent = currentLanguage === 'en' ? "Time's Up!" : 
                                   (currentLanguage === 'or' ? '‡¨∏‡¨Æ‡≠ü ‡¨∏‡¨∞‡¨ø‡¨ó‡¨≤‡¨æ!' : '‡§∏‡§Æ‡§Ø ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§!');
            modalText.textContent = currentLanguage === 'en' 
                ? `Time finished. You scored ${score} points and matched ${correctAnswers} out of ${currentItems.length} items.` 
                : currentLanguage === 'or' 
                    ? `‡¨∏‡¨Æ‡≠ü ‡¨∏‡¨Æ‡¨æ‡¨™‡≠ç‡¨§! ‡¨Ü‡¨™‡¨£ ${score} ‡¨™‡¨è‡¨£‡≠ç‡¨ü ‡¨™‡¨æ‡¨á‡¨õ‡¨®‡≠ç‡¨§‡¨ø ‡¨è‡¨¨‡¨Ç ${currentItems.length} ‡¨ü‡¨ø ‡¨Æ‡¨ß‡≠ç‡≠ü‡¨∞‡≠Å ${correctAnswers} ‡¨ü‡¨ø ‡¨Ü‡¨á‡¨ü‡¨Æ‡≠ç ‡¨Æ‡≠á‡¨≥ ‡¨ï‡¨∞‡¨ø‡¨õ‡¨®‡≠ç‡¨§‡¨ø‡•§` 
                    : `‡§∏‡§Æ‡§Ø ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§! ‡§Ü‡§™‡§®‡•á ${score} ‡§Ö‡§Ç‡§ï ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§ø‡§è ‡§î‡§∞ ${currentItems.length} ‡§Æ‡•á‡§Ç ‡§∏‡•á ${correctAnswers} ‡§Ü‡§á‡§ü‡§Æ ‡§Æ‡§ø‡§≤‡§æ‡§è‡•§`;
            modalAction.textContent = currentLanguage === 'en' ? 'Try Again' : 
                                    (currentLanguage === 'or' ? '‡¨™‡≠Å‡¨£‡¨ø ‡¨ö‡≠á‡¨∑‡≠ç‡¨ü‡¨æ' : '‡§´‡§ø‡§∞ ‡§∏‡•á ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞‡•á‡§Ç');
            modalAction.onclick = function() {
                if (currentSystem) {
                    startGame(currentSystemType);
                    closeModal();
                }
            };
            feedbackModal.style.display = 'flex';
        }

        /* ---- LEVEL COMPLETION ---- */
        function completeLevel() {
            clearInterval(timerInterval);
            
            // Calculate final score with time bonus
            const timeBonus = Math.max(0, Math.floor(timeLeft/10) * 10);
            score += timeBonus;
            
            // Update final score display
            finalScoreElement.textContent = score;
            perfectMatchesElement.textContent = `${correctAnswers}/${currentItems.length}`;
            
            // Update level completion text
            levelTitle.textContent = translations[currentLanguage]['level-title'];
            levelText.textContent = translations[currentLanguage]['level-text'];
            
            // Save score for this system
            if (currentSystemType) {
                gameScores[currentSystemType] = {
                    score: score,
                    completed: true,
                    time: 300 - timeLeft, // Time taken in seconds
                    matches: correctAnswers,
                    totalMatches: currentItems.length
                };
                completedSystems.add(currentSystemType);
            }
            
            // Add language switcher to level complete dialog
            if (!document.querySelector('#level-complete .language-switcher')) {
                const langSwitcherHTML = `
                    <div class="language-switcher" style="position: relative; top: 0; right: 0; margin: 0 auto 20px auto; width: fit-content; background: rgba(26, 54, 93, 0.1);">
                        <button class="lang-btn ${currentLanguage === 'en' ? 'active' : ''}" data-lang="en">English</button>
                        <button class="lang-btn ${currentLanguage === 'or' ? 'active' : ''}" data-lang="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü</button>
                        <button class="lang-btn ${currentLanguage === 'hi' ? 'active' : ''}" data-lang="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</button>
                    </div>
                `;
                levelComplete.insertAdjacentHTML('afterbegin', langSwitcherHTML);
                
                // Add event listeners to the new language buttons
                levelComplete.querySelectorAll('.lang-btn').forEach(btn => {
                    btn.addEventListener('click', function() { 
                        const lang = this.getAttribute('data-lang'); 
                        switchLanguage(lang); 
                    });
                });
            }
            
            // Create buttons based on whether this is the last system
            createLevelCompleteButtons();
            
            // Show level complete screen
            levelComplete.style.display = 'block';
            
            // Create confetti celebration
            createConfetti();
            
            // Check if all systems are completed
            if (completedSystems.size === Object.keys(bodySystems).length) {
                setTimeout(() => {
                    showScoreboard();
                }, 2000);
            }
        }

        function createLevelCompleteButtons() {
            levelCompleteButtons.innerHTML = '';
            
            if (currentSystemType === 'nervous') {
                // For Nervous System (last system), only show "View Scoreboard" button
                const viewScoreboardBtn = document.createElement('button');
                viewScoreboardBtn.className = 'next-level-btn';
                viewScoreboardBtn.style.background = 'linear-gradient(45deg,#9f7aea,#805ad5)';
                viewScoreboardBtn.textContent = translations[currentLanguage]['view-scoreboard'] || 'View Scoreboard';
                viewScoreboardBtn.onclick = showScoreboard;
                levelCompleteButtons.appendChild(viewScoreboardBtn);
            } else {
                // For other systems, show all three buttons
                const playAgainBtn = document.createElement('button');
                playAgainBtn.className = 'next-level-btn';
                playAgainBtn.style.background = 'linear-gradient(45deg,#38b2ac,#2c9a94)';
                playAgainBtn.textContent = translations[currentLanguage]['play-again'] || 'Play Again';
                playAgainBtn.onclick = () => startGame(currentSystemType);
                
                const chooseAnotherBtn = document.createElement('button');
                chooseAnotherBtn.className = 'next-level-btn';
                chooseAnotherBtn.style.background = 'linear-gradient(45deg,#4299e1,#3182ce)';
                chooseAnotherBtn.style.marginLeft = '10px';
                chooseAnotherBtn.textContent = translations[currentLanguage]['choose-another'] || 'Choose Another System';
                chooseAnotherBtn.onclick = showLevelSelection;
                
                const viewScoreboardBtn = document.createElement('button');
                viewScoreboardBtn.className = 'next-level-btn';
                viewScoreboardBtn.style.background = 'linear-gradient(45deg,#9f7aea,#805ad5)';
                viewScoreboardBtn.style.marginLeft = '10px';
                viewScoreboardBtn.textContent = translations[currentLanguage]['view-scoreboard'] || 'View Scoreboard';
                viewScoreboardBtn.onclick = showScoreboard;
                
                levelCompleteButtons.appendChild(playAgainBtn);
                levelCompleteButtons.appendChild(chooseAnotherBtn);
                levelCompleteButtons.appendChild(viewScoreboardBtn);
            }
        }

        /* ---- SCOREBOARD ---- */
        function showScoreboard() {
            levelSelection.style.display = 'none';
            gameHeader.style.display = 'none';
            gameStatsContainer.style.display = 'none';
            gameArea.style.display = 'none';
            levelComplete.style.display = 'none';
            scoreboard.style.display = 'block';
            
            // Update scoreboard text
            scoreboardTitle.textContent = translations[currentLanguage]['scoreboard-title'];
            scoreboardSubtitle.textContent = translations[currentLanguage]['scoreboard-subtitle'];
            playAllAgainBtn.textContent = translations[currentLanguage]['play-all-again'];
            backToMenuBtn.textContent = translations[currentLanguage]['back-to-menu'];
            
            // Add language switcher to scoreboard if not already present
            if (!document.querySelector('#scoreboard .language-switcher')) {
                const scoreboardContainer = document.querySelector('.scoreboard-container');
                const langSwitcherHTML = `
                    <div class="language-switcher" style="position: absolute; top: 20px; right: 20px; margin: 0 auto 20px auto; width: fit-content; background: rgba(26, 54, 93, 0.1);">
                        <button class="lang-btn ${currentLanguage === 'en' ? 'active' : ''}" data-lang="en">English</button>
                        <button class="lang-btn ${currentLanguage === 'or' ? 'active' : ''}" data-lang="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü</button>
                        <button class="lang-btn ${currentLanguage === 'hi' ? 'active' : ''}" data-lang="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</button>
                    </div>
                `;
                scoreboardContainer.insertAdjacentHTML('afterbegin', langSwitcherHTML);
                
                // Add event listeners to the new language buttons
                scoreboardContainer.querySelectorAll('.lang-btn').forEach(btn => {
                    btn.addEventListener('click', function() { 
                        const lang = this.getAttribute('data-lang'); 
                        switchLanguage(lang); 
                    });
                });
            }
            
            // Calculate total stats
            let totalScore = 0;
            let completedCount = 0;
            let totalPerfectMatches = 0;
            let highestStreak = 0;
            
            scoreboardTableBody.innerHTML = '';
            
            for (const system in bodySystems) {
                const scoreData = gameScores[system];
                totalScore += scoreData.score;
                if (scoreData.completed) {
                    completedCount++;
                    totalPerfectMatches += scoreData.matches;
                    // For highest streak, we'll use score as proxy since we don't track per-system streaks
                    if (scoreData.score > highestStreak) {
                        highestStreak = scoreData.score;
                    }
                }
                
                // Add row to table
                const row = document.createElement('tr');
                const status = scoreData.completed ? 
                    `<span style="color: #38a169;">‚úì ${translations[currentLanguage]['completed'] || 'Completed'}</span>` : 
                    `<span style="color: #e53e3e;">‚úó ${translations[currentLanguage]['not-played'] || 'Not Played'}</span>`;
                
                row.innerHTML = `
                    <td>${bodySystems[system].title[currentLanguage]}</td>
                    <td>${scoreData.score}</td>
                    <td>${scoreData.matches}/${scoreData.totalMatches}</td>
                    <td>${formatTime(scoreData.time)}</td>
                    <td>${status}</td>
                `;
                scoreboardTableBody.appendChild(row);
            }
            
            // Update summary stats
            totalScoreElement.textContent = totalScore;
            systemsCompletedElement.textContent = `${completedCount}/${Object.keys(bodySystems).length}`;
            totalPerfectMatchesElement.textContent = totalPerfectMatches;
            highestStreakElement.textContent = Math.floor(highestStreak / 100); // Convert to approximate streak
            
            // Update stat labels
            document.querySelectorAll('.stat-box .stat-label').forEach((el, index) => {
                if (index === 0) el.textContent = translations[currentLanguage]['total-score'] || 'Total Score';
                if (index === 1) el.textContent = translations[currentLanguage]['systems-completed'] || 'Systems Completed';
                if (index === 2) el.textContent = translations[currentLanguage]['perfect-matches'] || 'Perfect Matches';
                if (index === 3) el.textContent = translations[currentLanguage]['highest-streak'] || 'Highest Streak';
            });
        }

        function formatTime(seconds) {
            if (!seconds) return "00:00";
            const m = Math.floor(seconds / 60);
            const s = seconds % 60;
            return `${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
        }

        function resetAllGames() {
            // Reset all scores
            for (const system in bodySystems) {
                gameScores[system] = {
                    score: 0,
                    completed: false,
                    time: 0,
                    matches: 0,
                    totalMatches: bodySystems[system].items.length
                };
            }
            completedSystems.clear();
            showLevelSelection();
        }

        /* ---- LANGUAGE SWITCHING ---- */
        function switchLanguage(lang) {
            currentLanguage = lang;
            
            // Update all language buttons on the page
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.toggle('active', btn.getAttribute('data-lang')===lang);
            });
            
            // Translate elements
            const map = translations[lang] || translations.en;
            Object.keys(map).forEach(key => {
                document.querySelectorAll(`[data-translate="${key}"]`).forEach(el => {
                    el.textContent = map[key];
                });
            });
            
            // Update instructions text
            document.getElementById('instructions-title').textContent = map['instructions-title'];
            document.getElementById('instructions-intro').textContent = map['instructions-intro'];
            for (let i = 1; i <= 6; i++) {
                const el = document.getElementById(`instruction-${i}`);
                if (el) el.textContent = map[`instruction-${i}`];
            }
            document.getElementById('instructions-outro').textContent = map['instructions-outro'];
            document.getElementById('start-game-btn').textContent = map['start-game-btn'];
            
            // Update game stats labels
            updateScore();
            updateStreak();
            
            // Update time label (if it exists)
            const timeLabelElement = document.getElementById('time-label');
            if (timeLabelElement) {
                timeLabelElement.textContent = map['time-label'] || 'Time:';
            }
            
            // Update game UI if game is active
            if (currentSystem) {
                // Update system title and description
                systemTitle.textContent = currentSystem.title[lang];
                systemDescription.textContent = currentSystem.description[lang];
                structureTitle.textContent = map['structure-title'];
                functionTitle.textContent = map['function-title'];
                
                // Update body item names
                document.querySelectorAll('.body-item').forEach((el) => {
                    const itemId = parseInt(el.dataset.id);
                    const itemData = currentItems.find(item => item.id === itemId);
                    if (itemData) {
                        const nameElement = el.querySelector('.body-name');
                        if (nameElement) {
                            nameElement.textContent = itemData.name[lang];
                        }
                    }
                });
                
                // Update function card text
                document.querySelectorAll('.function-card').forEach((el) => {
                    const matchId = parseInt(el.dataset.id);
                    const itemData = currentItems.find(item => item.matchId === matchId);
                    if (itemData) {
                        const textElement = el.querySelector('.function-text');
                        if (textElement) {
                            textElement.textContent = itemData.function[lang];
                        }
                    }
                });
                
                // Update level complete dialog if visible
                if (levelComplete.style.display === 'block') {
                    levelTitle.textContent = map['level-title'];
                    levelText.textContent = map['level-text'];
                    
                    // Recreate buttons with new translations
                    createLevelCompleteButtons();
                }
            }
            
            // Update scoreboard if visible
            if (scoreboard.style.display === 'block') {
                showScoreboard(); // This will reload the scoreboard with new language
            }
            
            // Update level selection buttons
            for (const system in bodySystems) {
                const btn = document.getElementById(`${system}-btn`);
                if (btn) {
                    if (gameScores[system].completed) {
                        btn.innerHTML = `<i class="fas fa-check-circle"></i><span>${bodySystems[system].title[lang]}</span>`;
                    } else {
                        btn.innerHTML = `<i class="${getIconForSystem(system)}"></i><span>${bodySystems[system].title[lang]}</span>`;
                    }
                }
            }
            
            // Apply language-specific font classes
            if (lang === 'or') {
                document.body.classList.add('odia-text');
                document.body.classList.remove('hindi-text');
            } else if (lang === 'hi') {
                document.body.classList.add('hindi-text');
                document.body.classList.remove('odia-text');
            } else {
                document.body.classList.remove('odia-text');
                document.body.classList.remove('hindi-text');
            }
        }

        /* ---- FUN STUFF ---- */
        function createConfetti() {
            for (let i=0;i<15;i++){
                const c = document.createElement('div');
                c.style.position='fixed';
                c.style.left = Math.random()*100 + 'vw';
                c.style.top = '-10px';
                c.style.width='12px'; c.style.height='12px';
                const colors = ['#4299e1', '#ed8936', '#e53e3e', '#38b2ac', '#d69e2e', '#9f7aea'];
                c.style.backgroundColor = colors[Math.floor(Math.random()*colors.length)];
                c.style.zIndex = 1500;
                c.style.borderRadius = '2px';
                c.style.animation = `confetti-fall 2.8s ease-out forwards`;
                document.body.appendChild(c);
                setTimeout(()=> { if (document.body.contains(c)) document.body.removeChild(c); }, 3000);
            }
        }

        /* ---- EVENTS & BOOT ---- */
        document.addEventListener('DOMContentLoaded', ()=> {
            init();
        });

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') closeModal();
            if ((e.key === 'r' || e.key === 'R') && e.ctrlKey) { 
                e.preventDefault(); 
                if (currentSystem) {
                    startGame(currentSystemType);
                }
            }
            if (e.key === '1') switchLanguage('en'); 
            if (e.key === '2') switchLanguage('or'); 
            if (e.key === '3') switchLanguage('hi');
            if (e.key === 'h') showHint('structure');
        });

        // Hide modal when clicking outside content
        feedbackModal.addEventListener('click', (ev)=> { 
            if (ev.target === feedbackModal) closeModal(); 
        });

        // Initialize the game on load
        window.onload = function() {
            // Show instructions modal on first load
            instructionsModal.style.display = 'flex';
        };
    </script>
</body>
</html>