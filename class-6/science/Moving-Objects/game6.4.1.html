<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Speed Masters - STEM Learn Odisha</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin:0; padding:0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        body { background-color: #f0f7ff; color:#1e293b; line-height:1.6; overflow-x:hidden; }
        .container { width:100%; max-width:1200px; margin:0 auto; padding:0 20px; }

        /* Language Switcher */
        .language-switcher { position:absolute; top:20px; right:20px; background: rgba(255,255,255,0.15); border-radius:25px; padding:8px; backdrop-filter: blur(6px); z-index:1000; display:flex; gap:6px; }
        .lang-btn { padding:8px 12px; border:none; background:transparent; border-radius:16px; cursor:pointer; font-size:0.9rem; font-weight:600; color:white; }
        .lang-btn.active { background: rgba(255,255,255,0.25); color:white; }
        
        /* header */
        header { background: linear-gradient(135deg,#0e2a47 0%,#1a365d 100%); color:white; padding:15px 0; position:sticky; top:0; z-index:100; box-shadow:0 4px 12px rgba(0,0,0,0.1); }
        .header-content { display:flex; justify-content:space-between; align-items:center; position:relative; }
        .logo { display:flex; gap:12px; align-items:center; }
        .logo-icon { font-size:2.2rem; background:white; color:#2a69ac; width:55px; height:55px; border-radius:50%; display:flex; align-items:center; justify-content:center; box-shadow:0 4px 10px rgba(0,0,0,0.1); }
        .logo-text { font-size:1.6rem; font-weight:700; }
        .logo-text span { color:#38b2ac; font-weight:800; }
        nav ul { display:flex; gap:18px; list-style:none; }
        nav a { color:white; text-decoration:none; font-weight:500; padding:8px 12px; border-radius:8px; }
        
        /* Instructions Modal */
        .instructions-modal { display: flex; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.85); z-index: 2000; align-items: center; justify-content: center; }
        .instructions-content { background: white; border-radius: 20px; width: 90%; max-width: 700px; padding: 30px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3); position: relative; text-align: center; }
        .instructions-title { font-size: 2rem; margin-bottom: 20px; color: #1a365d; font-weight: 700; }
        .instructions-text { color: #64748b; margin-bottom: 25px; line-height: 1.6; text-align: left; font-size: 1.1rem; }
        .instructions-list { margin-left: 20px; margin-bottom: 25px; }
        .instructions-list li { margin-bottom: 10px; }
        .start-game-btn { padding: 15px 40px; background: linear-gradient(135deg, #38b2ac 0%, #2c9a94 100%); color: white; border: none; border-radius: 10px; font-size: 1.2rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; margin-top: 20px; }
        .start-game-btn:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(56, 178, 172, 0.3); }

        /* game header */
        .game-header { background: linear-gradient(rgba(14,42,71,0.85),rgba(26,54,93,0.9)), url('https://images.unsplash.com/photo-1542751371-adc38448a05e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80'); background-size:cover; background-position:center; color:white; padding:50px 0; text-align:center; }
        .game-header h1 { font-size:2.8rem; margin-bottom:12px; font-weight:700; text-shadow:0 2px 4px rgba(0,0,0,0.2); }
        .game-header p { font-size:1.1rem; max-width:800px; margin:0 auto; font-weight:300; opacity:0.95; }

        /* game stats (second UI) */
        .game-stats { display:flex; justify-content:space-between; align-items:center; background:white; padding:15px 25px; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.08); margin:20px auto; max-width:1000px; gap:12px; flex-wrap:wrap; }
        .timer, .score, .lives { display:flex; align-items:center; gap:10px; font-size:1.1rem; font-weight:600; color:#1a365d; }
        .timer i { color:#e53e3e; }
        .score i { color:#38a169; }
        .lives i { color:#d69e2e; }
        .progress-container { width:200px; height:12px; background:#e2e8f0; border-radius:10px; overflow:hidden; }
        .progress-bar { height:100%; background:#3182ce; border-radius:10px; transition: width 0.5s ease; }

        /* game area - SPEED SPECIFIC */
        .game-area { padding:40px 0 60px; }
        .game-container { max-width:900px; margin:0 auto 40px auto; }
        
        /* Level Selection */
        .level-selection { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin: 30px 0; }
        .level-card { background: white; border-radius: 16px; padding: 25px; text-align: center; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 8px 20px rgba(0,0,0,0.08); border: 3px solid transparent; }
        .level-card:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0,0,0,0.15); border-color: #4299e1; }
        .level-icon { font-size: 3rem; margin-bottom: 15px; height: 80px; display: flex; align-items: center; justify-content: center; }
        .level-title { font-size: 1.4rem; font-weight: 700; color: #1a365d; margin-bottom: 10px; }
        .level-desc { color: #64748b; font-size: 0.95rem; }
        .level-card.locked { opacity: 0.6; cursor: not-allowed; }
        .level-card.locked:hover { transform: none; box-shadow: 0 8px 20px rgba(0,0,0,0.08); border-color: transparent; }
        
        /* Challenge Area */
        .challenge-area { background: rgba(255,255,255,0.95); border-radius:25px; padding:30px; box-shadow:0 10px 30px rgba(0,0,0,0.08); margin-bottom:30px; display:none; }
        .challenge-header { display:flex; align-items:center; gap:15px; margin-bottom:25px; }
        .challenge-icon { width:70px; height:70px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:1.8rem; background: linear-gradient(45deg,#4299e1,#3182ce); color:white; }
        .challenge-title { font-size:1.6rem; font-weight:700; color:#1a365d; }
        .challenge-desc { color:#4a5568; margin-bottom:25px; font-size:1.1rem; line-height:1.6; }
        
        /* Formula Display */
        .formula-display { background: linear-gradient(135deg, #f0f9ff, #e6f7ff); border-radius:15px; padding:20px; margin:25px 0; border-left:5px solid #4299e1; }
        .formula-title { font-weight:700; color:#1a365d; margin-bottom:10px; font-size:1.2rem; }
        .formula-container { display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; margin: 20px 0; }
        .formula-box { background: white; border-radius: 12px; padding: 20px; text-align: center; min-width: 200px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        .formula { font-size:1.8rem; color:#2d3748; margin:10px 0; font-weight:600; }
        .formula-hint { color:#718096; font-size:0.95rem; margin-top: 10px; }
        
        /* Triangle Formula Visual */
        .formula-triangle { text-align: center; margin: 25px 0; }
        .triangle { font-family: monospace; font-size: 2.5rem; line-height: 1.2; color: #1a365d; margin: 20px 0; }
        .triangle-label { display: inline-block; margin: 0 15px; font-weight: 600; }
        
        /* Question Types */
        .question-area { background:#f8fafc; border-radius:15px; padding:25px; margin:25px 0; }
        .question-text { font-size:1.3rem; font-weight:600; color:#2d3748; margin-bottom:20px; }
        .answer-options { display:grid; grid-template-columns: repeat(2, 1fr); gap:15px; margin-top:20px; }
        .option-btn { padding:15px; background:white; border:2px solid #cbd5e0; border-radius:12px; font-size:1.1rem; cursor:pointer; transition:all 0.2s ease; text-align:center; }
        .option-btn:hover { border-color:#4299e1; background:#ebf8ff; }
        .option-btn.correct { background:#c6f6d5; border-color:#48bb78; color:#22543d; }
        .option-btn.incorrect { background:#fed7d7; border-color:#f56565; color:#742a2a; }
        
        /* Input Area */
        .input-area { display:flex; flex-direction:column; gap:20px; }
        .input-row { display:flex; align-items:center; gap:15px; flex-wrap:wrap; }
        .input-label { min-width:100px; font-weight:600; color:#4a5568; }
        .speed-input { padding:12px 15px; border:2px solid #cbd5e0; border-radius:10px; font-size:1.1rem; width:150px; }
        .unit-select { padding:12px 15px; border:2px solid #cbd5e0; border-radius:10px; font-size:1.1rem; background:white; }
        .submit-btn { padding:15px 30px; background:linear-gradient(45deg,#4299e1,#3182ce); color:white; border:none; border-radius:12px; font-size:1.1rem; font-weight:600; cursor:pointer; transition:all 0.3s ease; align-self:flex-start; }
        .submit-btn:hover { transform:translateY(-3px); box-shadow:0 8px 20px rgba(66,153,225,0.3); }
        
        /* Vehicle Comparison */
        .vehicle-comparison { display:flex; justify-content:center; gap:30px; flex-wrap:wrap; margin:30px 0; }
        .vehicle-card { background:white; border-radius:16px; padding:20px; width:180px; text-align:center; box-shadow:0 8px 20px rgba(0,0,0,0.08); }
        .vehicle-icon { font-size:3.5rem; margin-bottom:15px; }
        .vehicle-name { font-weight:700; color:#1a365d; margin-bottom:10px; }
        .vehicle-speed { font-size:1.2rem; color:#4299e1; font-weight:600; }
        
        /* modal */
        .modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.75); z-index:2000; align-items:center; justify-content:center; }
        .modal-content { background:linear-gradient(145deg,#ffffff,#f0f8ff); border-radius:24px; width:90%; max-width:700px; padding:36px; text-align:center; position:relative; box-shadow: 0 20px 50px rgba(0,0,0,0.3); }
        .modal-close { position:absolute; top:16px; right:16px; background:rgba(0,0,0,0.06); border:none; font-size:1.4rem; width:44px; height:44px; border-radius:50%; cursor:pointer; transition: all 0.3s ease; }
        .modal-close:hover { background:rgba(0,0,0,0.12); transform: rotate(90deg); }
        .modal-icon { font-size:4rem; margin-bottom:20px; }
        .modal-title { font-size:2rem; font-weight:800; color:#1a365d; margin-bottom:15px; }
        .modal-text { color:#4a5568; margin-bottom:20px; font-size:1.1rem; line-height:1.6; }
        .modal-action { padding:15px 40px; background:linear-gradient(45deg,#4facfe,#00f2fe); color:white; border:none; border-radius:14px; font-size:1.1rem; font-weight:600; cursor:pointer; transition: all 0.3s ease; margin-top:10px; }
        .modal-action:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(79, 172, 254, 0.4); }
        
        /* Results */
        .level-results { display:none; text-align:center; padding:30px; background:linear-gradient(145deg,#ffffff,#f7fafc); border-radius:20px; box-shadow:0 20px 40px rgba(0,0,0,0.08); max-width:700px; margin:30px auto; }
        .results-title { font-size:2rem; color:#1a365d; margin-bottom:20px; }
        .results-details { display:grid; grid-template-columns: repeat(3, 1fr); gap:20px; margin:30px 0; }
        .result-card { background:white; padding:20px; border-radius:12px; box-shadow:0 5px 15px rgba(0,0,0,0.05); }
        .result-value { font-size:2rem; font-weight:700; color:#4299e1; margin-bottom:5px; }
        .result-label { color:#718096; font-size:0.9rem; }
        .next-level-btn { padding:15px 40px; background:linear-gradient(45deg,#38b2ac,#2c9a94); color:white; border:none; border-radius:12px; font-size:1.1rem; font-weight:600; cursor:pointer; transition: all 0.3s ease; margin-top:20px; }
        .next-level-btn:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(56, 178, 172, 0.4); }
        
        /* Navigation */
        .game-navigation { display:flex; justify-content:space-between; margin-top:30px; }
        .nav-btn { padding:12px 25px; background:#e2e8f0; border:none; border-radius:10px; font-size:1rem; font-weight:600; cursor:pointer; transition:all 0.3s ease; display:flex; align-items:center; gap:8px; }
        .nav-btn:hover { background:#cbd5e0; }
        .nav-btn.primary { background:#4299e1; color:white; }
        .nav-btn.primary:hover { background:#3182ce; }
        
        .particles { position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:-1; }
        .particle { position:absolute; width:4px; height:4px; background:rgba(255,255,255,0.5); border-radius:50%; animation: float-particle 18s infinite linear; }

        /* Animation for correct answers */
        @keyframes float-particle { 0% { transform: translateY(100vh) translateX(0px); opacity:0; } 10%{opacity:1;} 90%{opacity:1;} 100%{transform:translateY(-100px) translateX(100px); opacity:0;} }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        
        /* Streak Counter */
        .streak-counter { position: fixed; top: 50%; right: 20px; transform: translateY(-50%); background: linear-gradient(45deg, #ff6b6b, #ee5a24); color: white; padding: 18px 24px; border-radius: 50px; font-weight: 800; font-size: 1.2rem; box-shadow: 0 6px 20px rgba(255, 107, 107, 0.5); z-index: 500; animation: bounce 2s infinite; display: none; }
        
        /* Formula popup animation */
        @keyframes formula-popup {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .formula-popup { animation: formula-popup 0.5s ease-out; }

        @media (max-width:968px) {
            .level-selection { grid-template-columns: repeat(2, 1fr); }
            .answer-options { grid-template-columns: 1fr; }
            .results-details { grid-template-columns: repeat(2, 1fr); }
            .game-stats { flex-direction:column; gap:10px; align-items:flex-start; }
            .language-switcher { right:12px; top:12px; }
            .streak-counter { display: none !important; }
            .vehicle-comparison { gap:15px; }
            .vehicle-card { width:140px; }
            .formula-container { flex-direction: column; }
            .formula-box { min-width: auto; }
        }
        
        @media (max-width:600px) {
            .level-selection { grid-template-columns: 1fr; }
            .results-details { grid-template-columns: 1fr; }
            .triangle { font-size: 1.8rem; }
        }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>
    <div class="streak-counter" id="streak-counter">‚ö° <span id="streak-count">0</span> Streak!</div>

    <div class="language-switcher">
        <button class="lang-btn active" data-lang="en">English</button>
        <button class="lang-btn" data-lang="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü</button>
        <button class="lang-btn" data-lang="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</button>
    </div>

    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon"><i class="fas fa-tachometer-alt"></i></div>
                    <div class="logo-text">STEM <span>Learn</span> Odisha</div>
                </div>

                <nav>
                    <ul>
                        <li><a href="#" data-translate="nav-dashboard">Dashboard</a></li>
                        <li><a href="#" data-translate="nav-about">About</a></li>
                        <li><a href="#" data-translate="nav-contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- Instructions modal -->
    <div class="instructions-modal" id="instructions-modal">
        <div class="instructions-content">
            <div class="language-switcher" style="position: relative; top: 0; right: 0; margin: 0 auto 20px auto; width: fit-content; background: rgba(26, 54, 93, 0.1);">
                <button class="lang-btn active" data-lang="en">English</button>
                <button class="lang-btn" data-lang="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü</button>
                <button class="lang-btn" data-lang="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</button>
            </div>
            
            <h2 class="instructions-title" id="instructions-title">Speed Masters Challenge</h2>
            <div class="instructions-text" id="instructions-text">
                <p id="instructions-intro">Welcome to Speed Masters! Learn all about speed, distance, and time relationships!</p>
                <ul class="instructions-list" id="instructions-list">
                    <li id="instruction-1"><strong>Level 1:</strong> Learn the magic triangle - all three formulas: Speed, Distance, Time</li>
                    <li id="instruction-2"><strong>Level 2:</strong> Calculate speed, distance OR time when two values are given</li>
                    <li id="instruction-3"><strong>Level 3:</strong> Compare speeds of different vehicles</li>
                    <li id="instruction-5">Use the magic triangle to find any value!</li>
                    <li id="instruction-6">Each correct answer earns you points and builds your streak!</li>
                </ul>
                <p id="instructions-outro">Get ready to become a Speed Master! Remember: Cover the value you want to find in the triangle!</p>
            </div>
            <button class="start-game-btn" id="start-game-btn">Start Learning Speed!</button>
        </div>
    </div>

    <!-- Game header -->
    <section class="game-header" style="display:none;" id="game-header">
        <div class="container">
            <h1 data-translate="game-title">Speed Masters</h1>
            <p data-translate="game-desc">Learn the relationships between speed, distance, and time! Use the magic triangle to solve any problem!</p>
        </div>
    </section>

    <!-- Game stats (second UI) -->
    <div class="container" style="display:none;" id="game-stats-container">
        <div class="game-stats">
            <div class="timer">
                <i class="fas fa-clock"></i>
                <span id="time">05:00</span>
            </div>

            <div class="score">
                <i class="fas fa-star"></i>
                <span id="score">Score: 0</span>
            </div>

            <div class="lives">
                <i class="fas fa-heart"></i>
                <span id="lives">Lives: 3</span>
            </div>

            <div class="progress-container">
                <div class="progress-bar" id="progress" style="width:0%"></div>
            </div>
        </div>
    </div>

    <!-- Game area -->
    <section class="game-area" style="display:none;" id="game-area">
        <div class="container">
            <!-- Level Selection -->
            <div class="level-selection" id="level-selection">
                <div class="level-card" data-level="1">
                    <div class="level-icon">üî∫</div>
                    <h3 class="level-title">Level 1: Magic Triangle</h3>
                    <p class="level-desc">Learn all three formulas</p>
                </div>
                
                <div class="level-card locked" data-level="2">
                    <div class="level-icon">üìù</div>
                    <h3 class="level-title">Level 2: Calculations</h3>
                    <p class="level-desc">Solve speed, distance & time</p>
                </div>
                
                <div class="level-card locked" data-level="3">
                    <div class="level-icon">üöó</div>
                    <h3 class="level-title">Level 3: Compare Speeds</h3>
                    <p class="level-desc">Which is faster?</p>
                </div>
            </div>

            <!-- Challenge Area -->
            <div class="challenge-area" id="challenge-area">
                <div class="challenge-header">
                    <div class="challenge-icon"><i class="fas fa-tachometer-alt"></i></div>
                    <h2 class="challenge-title" id="challenge-title">Level 1: The Magic Triangle</h2>
                </div>
                
                <p class="challenge-desc" id="challenge-desc">The magic triangle helps you remember all three formulas! Cover the value you want to find, and see what's left.</p>
                
                <!-- Magic Triangle Visual -->
                <div class="formula-triangle">
                    <div class="triangle" id="triangle">
                        <div style="color: #4299e1; font-weight: 700;">Distance</div>
                        <div style="display: flex; justify-content: center; align-items: center; margin-top: 10px;">
                            <span class="triangle-label" style="color: #e53e3e;">Speed</span>
                            <div style="margin: 0 10px; font-size: 2rem;">√ó</div>
                            <span class="triangle-label" style="color: #38b2ac;">Time</span>
                        </div>
                    </div>
                    <div class="triangle-hint" id="triangle-hint">Cover what you want to find!</div>
                </div>
                
                <div class="formula-display formula-popup" id="formula-display">
                    <div class="formula-title">All Three Formulas</div>
                    <div class="formula-container">
                        <div class="formula-box">
                            <div>To Find Speed</div>
                            <div class="formula">Speed = Distance √∑ Time</div>
                            <div class="formula-hint">Divide distance by time</div>
                        </div>
                        <div class="formula-box">
                            <div>To Find Distance</div>
                            <div class="formula">Distance = Speed √ó Time</div>
                            <div class="formula-hint">Multiply speed and time</div>
                        </div>
                        <div class="formula-box">
                            <div>To Find Time</div>
                            <div class="formula">Time = Distance √∑ Speed</div>
                            <div class="formula-hint">Divide distance by speed</div>
                        </div>
                    </div>
                </div>
                
                <div class="question-area" id="question-area">
                    <!-- Questions will be loaded here -->
                </div>
                
                <div class="game-navigation">
                    <button class="nav-btn" id="back-btn"><i class="fas fa-arrow-left"></i> Back to Levels</button>
                    <button class="nav-btn primary" id="next-btn">Next Challenge <i class="fas fa-arrow-right"></i></button>
                </div>
            </div>

            <!-- Level Complete -->
            <div class="level-results" id="level-results">
                <div class="modal-icon"><i class="fas fa-trophy"></i></div>
                <h2 class="results-title" id="results-title">Level Complete!</h2>
                <p class="modal-text" id="results-text">Congratulations! You've mastered this level of speed calculation!</p>
                
                <div class="results-details">
                    <div class="result-card">
                        <div class="result-value" id="final-score">0</div>
                        <div class="result-label">Total Score</div>
                    </div>
                    <div class="result-card">
                        <div class="result-value" id="correct-answers">0</div>
                        <div class="result-label">Correct Answers</div>
                    </div>
                    <div class="result-card">
                        <div class="result-value" id="time-bonus">0</div>
                        <div class="result-label">Time Bonus</div>
                    </div>
                </div>
                
                <button class="next-level-btn" id="continue-btn">Continue to Next Level</button>
                <button class="nav-btn" style="margin-top:15px;" id="play-again-btn">Back to Level Selection</button>
            </div>
        </div>
    </section>

    <!-- Feedback modal -->
    <div class="modal" id="feedback-modal">
        <div class="modal-content" id="modal-content">
            <button class="modal-close" id="modal-close"><i class="fas fa-times"></i></button>

            <div class="modal-icon" id="modal-icon"><i class="fas fa-check-circle"></i></div>
            <h2 class="modal-title" id="modal-title" data-translate="correct-title">Correct!</h2>
            <p class="modal-text" id="modal-text">Great job! You remembered the speed formula correctly!</p>

            <button class="modal-action" id="modal-action" data-translate="continue-btn">Continue</button>
        </div>
    </div>

    <script>
        /* ---- DATA ---- */
        const gameData = {
            levels: [
                {
                    id: 1,
                    title: { en: "Magic Triangle", or: "‡¨ú‡¨æ‡¨¶‡≠Å ‡¨§‡≠ç‡¨∞‡¨ø‡¨≠‡≠Å‡¨ú", hi: "‡§ú‡§æ‡§¶‡•Ç ‡§§‡•ç‡§∞‡§ø‡§≠‡•Å‡§ú" },
                    description: { en: "Learn all three formulas using the magic triangle", or: "‡¨ú‡¨æ‡¨¶‡≠Å ‡¨§‡≠ç‡¨∞‡¨ø‡¨≠‡≠Å‡¨ú ‡¨¨‡≠ç‡≠ü‡¨¨‡¨π‡¨æ‡¨∞ ‡¨ï‡¨∞‡¨ø ‡¨∏‡¨Æ‡¨∏‡≠ç‡¨§ ‡¨§‡¨ø‡¨®‡≠ã‡¨ü‡¨ø ‡¨∏‡≠Ç‡¨§‡≠ç‡¨∞ ‡¨∂‡¨ø‡¨ñ‡¨®‡≠ç‡¨§‡≠Å", hi: "‡§ú‡§æ‡§¶‡•Ç ‡§§‡•ç‡§∞‡§ø‡§≠‡•Å‡§ú ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§ï‡•á ‡§∏‡§≠‡•Ä ‡§§‡•Ä‡§® ‡§∏‡•Ç‡§§‡•ç‡§∞ ‡§∏‡•Ä‡§ñ‡•á‡§Ç" },
                    type: "triangle",
                    questions: [
                        {
                            question: { en: "What formula do you use to find SPEED?", or: "‡¨ó‡¨§‡¨ø ‡¨ñ‡≠ã‡¨ú‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨ï‡≠á‡¨â‡¨Å ‡¨∏‡≠Ç‡¨§‡≠ç‡¨∞ ‡¨¨‡≠ç‡≠ü‡¨¨‡¨π‡¨æ‡¨∞ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡¨ø?", hi: "‡§ó‡§§‡§ø ‡§ú‡•ç‡§û‡§æ‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§™ ‡§ï‡§ø‡§∏ ‡§∏‡•Ç‡§§‡•ç‡§∞ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç?" },
                            options: [
                                { en: "Speed = Distance √ó Time", or: "‡¨ó‡¨§‡¨ø = ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ √ó ‡¨∏‡¨Æ‡≠ü", hi: "‡§ó‡§§‡§ø = ‡§¶‡•Ç‡§∞‡•Ä √ó ‡§∏‡§Æ‡§Ø" },
                                { en: "Speed = Distance √∑ Time", or: "‡¨ó‡¨§‡¨ø = ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ √∑ ‡¨∏‡¨Æ‡≠ü", hi: "‡§ó‡§§‡§ø = ‡§¶‡•Ç‡§∞‡•Ä √∑ ‡§∏‡§Æ‡§Ø" },
                                { en: "Speed = Time √∑ Distance", or: "‡¨ó‡¨§‡¨ø = ‡¨∏‡¨Æ‡≠ü √∑ ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ", hi: "‡§ó‡§§‡§ø = ‡§∏‡§Æ‡§Ø √∑ ‡§¶‡•Ç‡§∞‡•Ä" },
                                { en: "Speed = Distance + Time", or: "‡¨ó‡¨§‡¨ø = ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ + ‡¨∏‡¨Æ‡≠ü", hi: "‡§ó‡§§‡§ø = ‡§¶‡•Ç‡§∞‡•Ä + ‡§∏‡§Æ‡§Ø" }
                            ],
                            correct: 1,
                            explanation: { 
                                en: "Correct! To find SPEED, cover 'S' in the triangle. You see D over T, which means Speed = Distance √∑ Time", 
                                or: "‡¨†‡¨ø‡¨ï‡≠ç! ‡¨ó‡¨§‡¨ø ‡¨ñ‡≠ã‡¨ú‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å, ‡¨§‡≠ç‡¨∞‡¨ø‡¨≠‡≠Å‡¨ú‡¨∞‡≠á 'S' ‡¨Ü‡¨¨‡¨∞‡¨£ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å‡•§ ‡¨Ü‡¨™‡¨£ D ‡¨â‡¨™‡¨∞‡≠á T ‡¨¶‡≠á‡¨ñ‡¨®‡≠ç‡¨§‡¨ø, ‡¨Ø‡¨æ‡¨π‡¨æ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨ó‡¨§‡¨ø = ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ √∑ ‡¨∏‡¨Æ‡≠ü", 
                                hi: "‡§∏‡§π‡•Ä! ‡§ó‡§§‡§ø ‡§ú‡•ç‡§û‡§æ‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§§‡•ç‡§∞‡§ø‡§≠‡•Å‡§ú ‡§Æ‡•á‡§Ç 'S' ‡§ï‡•ã ‡§¢‡§ï‡•á‡§Ç‡•§ ‡§Ü‡§™ D ‡§ï‡•ã T ‡§∏‡•á ‡§µ‡§ø‡§≠‡§æ‡§ú‡§ø‡§§ ‡§¶‡•á‡§ñ‡§§‡•á ‡§π‡•à‡§Ç, ‡§ú‡§ø‡§∏‡§ï‡§æ ‡§Ö‡§∞‡•ç‡§• ‡§π‡•à ‡§ó‡§§‡§ø = ‡§¶‡•Ç‡§∞‡•Ä √∑ ‡§∏‡§Æ‡§Ø" 
                            }
                        },
                        {
                            question: { en: "What formula do you use to find DISTANCE?", or: "‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ ‡¨ñ‡≠ã‡¨ú‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨ï‡≠á‡¨â‡¨Å ‡¨∏‡≠Ç‡¨§‡≠ç‡¨∞ ‡¨¨‡≠ç‡≠ü‡¨¨‡¨π‡¨æ‡¨∞ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡¨ø?", hi: "‡§¶‡•Ç‡§∞‡•Ä ‡§ú‡•ç‡§û‡§æ‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§™ ‡§ï‡§ø‡§∏ ‡§∏‡•Ç‡§§‡•ç‡§∞ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç?" },
                            options: [
                                { en: "Distance = Speed √∑ Time", or: "‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ = ‡¨ó‡¨§‡¨ø √∑ ‡¨∏‡¨Æ‡≠ü", hi: "‡§¶‡•Ç‡§∞‡•Ä = ‡§ó‡§§‡§ø √∑ ‡§∏‡§Æ‡§Ø" },
                                { en: "Distance = Speed √ó Time", or: "‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ = ‡¨ó‡¨§‡¨ø √ó ‡¨∏‡¨Æ‡≠ü", hi: "‡§¶‡•Ç‡§∞‡•Ä = ‡§ó‡§§‡§ø √ó ‡§∏‡§Æ‡§Ø" },
                                { en: "Distance = Time √∑ Speed", or: "‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ = ‡¨∏‡¨Æ‡≠ü √∑ ‡¨ó‡¨§‡¨ø", hi: "‡§¶‡•Ç‡§∞‡•Ä = ‡§∏‡§Æ‡§Ø √∑ ‡§ó‡§§‡§ø" },
                                { en: "Distance = Speed + Time", or: "‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ = ‡¨ó‡¨§‡¨ø + ‡¨∏‡¨Æ‡≠ü", hi: "‡§¶‡•Ç‡§∞‡•Ä = ‡§ó‡§§‡§ø + ‡§∏‡§Æ‡§Ø" }
                            ],
                            correct: 1,
                            explanation: { 
                                en: "Correct! To find DISTANCE, cover 'D' in the triangle. You see S next to T, which means Distance = Speed √ó Time", 
                                or: "‡¨†‡¨ø‡¨ï‡≠ç! ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ ‡¨ñ‡≠ã‡¨ú‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å, ‡¨§‡≠ç‡¨∞‡¨ø‡¨≠‡≠Å‡¨ú‡¨∞‡≠á 'D' ‡¨Ü‡¨¨‡¨∞‡¨£ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å‡•§ ‡¨Ü‡¨™‡¨£ S ‡¨è‡¨¨‡¨Ç T ‡¨™‡¨æ‡¨ñ‡¨æ‡¨™‡¨æ‡¨ñ‡¨ø ‡¨¶‡≠á‡¨ñ‡¨®‡≠ç‡¨§‡¨ø, ‡¨Ø‡¨æ‡¨π‡¨æ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ = ‡¨ó‡¨§‡¨ø √ó ‡¨∏‡¨Æ‡≠ü", 
                                hi: "‡§∏‡§π‡•Ä! ‡§¶‡•Ç‡§∞‡•Ä ‡§ú‡•ç‡§û‡§æ‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§§‡•ç‡§∞‡§ø‡§≠‡•Å‡§ú ‡§Æ‡•á‡§Ç 'D' ‡§ï‡•ã ‡§¢‡§ï‡•á‡§Ç‡•§ ‡§Ü‡§™ S ‡§î‡§∞ T ‡§ï‡•ã ‡§∏‡§æ‡§• ‡§¶‡•á‡§ñ‡§§‡•á ‡§π‡•à‡§Ç, ‡§ú‡§ø‡§∏‡§ï‡§æ ‡§Ö‡§∞‡•ç‡§• ‡§π‡•à ‡§¶‡•Ç‡§∞‡•Ä = ‡§ó‡§§‡§ø √ó ‡§∏‡§Æ‡§Ø" 
                            }
                        },
                        {
                            question: { en: "What formula do you use to find TIME?", or: "‡¨∏‡¨Æ‡≠ü ‡¨ñ‡≠ã‡¨ú‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨ï‡≠á‡¨â‡¨Å ‡¨∏‡≠Ç‡¨§‡≠ç‡¨∞ ‡¨¨‡≠ç‡≠ü‡¨¨‡¨π‡¨æ‡¨∞ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡¨ø?", hi: "‡§∏‡§Æ‡§Ø ‡§ú‡•ç‡§û‡§æ‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§™ ‡§ï‡§ø‡§∏ ‡§∏‡•Ç‡§§‡•ç‡§∞ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç?" },
                            options: [
                                { en: "Time = Distance √ó Speed", or: "‡¨∏‡¨Æ‡≠ü = ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ √ó ‡¨ó‡¨§‡¨ø", hi: "‡§∏‡§Æ‡§Ø = ‡§¶‡•Ç‡§∞‡•Ä √ó ‡§ó‡§§‡§ø" },
                                { en: "Time = Speed √∑ Distance", or: "‡¨∏‡¨Æ‡≠ü = ‡¨ó‡¨§‡¨ø √∑ ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ", hi: "‡§∏‡§Æ‡§Ø = ‡§ó‡§§‡§ø √∑ ‡§¶‡•Ç‡§∞‡•Ä" },
                                { en: "Time = Distance √∑ Speed", or: "‡¨∏‡¨Æ‡≠ü = ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ √∑ ‡¨ó‡¨§‡¨ø", hi: "‡§∏‡§Æ‡§Ø = ‡§¶‡•Ç‡§∞‡•Ä √∑ ‡§ó‡§§‡§ø" },
                                { en: "Time = Distance + Speed", or: "‡¨∏‡¨Æ‡≠ü = ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ + ‡¨ó‡¨§‡¨ø", hi: "‡§∏‡§Æ‡§Ø = ‡§¶‡•Ç‡§∞‡•Ä + ‡§ó‡§§‡§ø" }
                            ],
                            correct: 2,
                            explanation: { 
                                en: "Correct! To find TIME, cover 'T' in the triangle. You see D over S, which means Time = Distance √∑ Speed", 
                                or: "‡¨†‡¨ø‡¨ï‡≠ç! ‡¨∏‡¨Æ‡≠ü ‡¨ñ‡≠ã‡¨ú‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å, ‡¨§‡≠ç‡¨∞‡¨ø‡¨≠‡≠Å‡¨ú‡¨∞‡≠á 'T' ‡¨Ü‡¨¨‡¨∞‡¨£ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å‡•§ ‡¨Ü‡¨™‡¨£ D ‡¨â‡¨™‡¨∞‡≠á S ‡¨¶‡≠á‡¨ñ‡¨®‡≠ç‡¨§‡¨ø, ‡¨Ø‡¨æ‡¨π‡¨æ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨∏‡¨Æ‡≠ü = ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ √∑ ‡¨ó‡¨§‡¨ø", 
                                hi: "‡§∏‡§π‡•Ä! ‡§∏‡§Æ‡§Ø ‡§ú‡•ç‡§û‡§æ‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§§‡•ç‡§∞‡§ø‡§≠‡•Å‡§ú ‡§Æ‡•á‡§Ç 'T' ‡§ï‡•ã ‡§¢‡§ï‡•á‡§Ç‡•§ ‡§Ü‡§™ D ‡§ï‡•ã S ‡§∏‡•á ‡§µ‡§ø‡§≠‡§æ‡§ú‡§ø‡§§ ‡§¶‡•á‡§ñ‡§§‡•á ‡§π‡•à‡§Ç, ‡§ú‡§ø‡§∏‡§ï‡§æ ‡§Ö‡§∞‡•ç‡§• ‡§π‡•à ‡§∏‡§Æ‡§Ø = ‡§¶‡•Ç‡§∞‡•Ä √∑ ‡§ó‡§§‡§ø" 
                            }
                        },
                        {
                            question: { en: "If a car travels 120 km at 60 km/h, how long does it take?", or: "‡¨Ø‡¨¶‡¨ø ‡¨è‡¨ï ‡¨ï‡¨æ‡¨∞ 60 ‡¨ï‡¨ø‡¨Æ‡¨ø/‡¨ò‡¨£‡≠ç‡¨ü‡¨æ ‡¨¨‡≠á‡¨ó‡¨∞‡≠á 120 ‡¨ï‡¨ø‡¨Æ‡¨ø ‡¨Ø‡¨æ‡¨è, ‡¨§‡≠á‡¨¨‡≠á ‡¨è‡¨π‡¨æ‡¨ï‡≠Å ‡¨ï‡≠á‡¨§‡≠á ‡¨∏‡¨Æ‡≠ü ‡¨≤‡¨æ‡¨ó‡¨ø‡¨¨?", hi: "‡§Ø‡§¶‡§ø ‡§è‡§ï ‡§ï‡§æ‡§∞ 60 ‡§ï‡§ø‡§Æ‡•Ä/‡§ò‡§Ç‡§ü‡§æ ‡§ï‡•Ä ‡§ó‡§§‡§ø ‡§∏‡•á 120 ‡§ï‡§ø‡§Æ‡•Ä ‡§ö‡§≤‡§§‡•Ä ‡§π‡•à, ‡§§‡•ã ‡§á‡§∏‡§Æ‡•á‡§Ç ‡§ï‡§ø‡§§‡§®‡§æ ‡§∏‡§Æ‡§Ø ‡§≤‡§ó‡•á‡§ó‡§æ?" },
                            options: [
                                { en: "2 hours", or: "2 ‡¨ò‡¨£‡≠ç‡¨ü‡¨æ", hi: "2 ‡§ò‡§Ç‡§ü‡•á" },
                                { en: "3 hours", or: "3 ‡¨ò‡¨£‡≠ç‡¨ü‡¨æ", hi: "3 ‡§ò‡§Ç‡§ü‡•á" },
                                { en: "1.5 hours", or: "1.5 ‡¨ò‡¨£‡≠ç‡¨ü‡¨æ", hi: "1.5 ‡§ò‡§Ç‡§ü‡•á" },
                                { en: "4 hours", or: "4 ‡¨ò‡¨£‡≠ç‡¨ü‡¨æ", hi: "4 ‡§ò‡§Ç‡§ü‡•á" }
                            ],
                            correct: 0,
                            explanation: { 
                                en: "Correct! Time = Distance √∑ Speed = 120 km √∑ 60 km/h = 2 hours", 
                                or: "‡¨†‡¨ø‡¨ï‡≠ç! ‡¨∏‡¨Æ‡≠ü = ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ √∑ ‡¨ó‡¨§‡¨ø = 120 ‡¨ï‡¨ø‡¨Æ‡¨ø √∑ 60 ‡¨ï‡¨ø‡¨Æ‡¨ø/‡¨ò‡¨£‡≠ç‡¨ü‡¨æ = 2 ‡¨ò‡¨£‡≠ç‡¨ü‡¨æ", 
                                hi: "‡§∏‡§π‡•Ä! ‡§∏‡§Æ‡§Ø = ‡§¶‡•Ç‡§∞‡•Ä √∑ ‡§ó‡§§‡§ø = 120 ‡§ï‡§ø‡§Æ‡•Ä √∑ 60 ‡§ï‡§ø‡§Æ‡•Ä/‡§ò‡§Ç‡§ü‡§æ = 2 ‡§ò‡§Ç‡§ü‡•á" 
                            }
                        },
                        {
                            question: { en: "A cyclist rides at 15 km/h for 3 hours. How far do they travel?", or: "‡¨ú‡¨£‡≠á ‡¨∏‡¨æ‡¨á‡¨ï‡≠á‡¨≤ ‡¨ö‡¨æ‡¨≥‡¨ï 3 ‡¨ò‡¨£‡≠ç‡¨ü‡¨æ ‡¨™‡¨æ‡¨á‡¨Å 15 ‡¨ï‡¨ø‡¨Æ‡¨ø/‡¨ò‡¨£‡≠ç‡¨ü‡¨æ ‡¨¨‡≠á‡¨ó‡¨∞‡≠á ‡¨Ø‡¨æ‡¨Ü‡¨®‡≠ç‡¨§‡¨ø‡•§ ‡¨∏‡≠á‡¨Æ‡¨æ‡¨®‡≠á ‡¨ï‡≠á‡¨§‡≠á ‡¨¶‡≠Ç‡¨∞ ‡¨Ø‡¨æ‡¨Ü‡¨®‡≠ç‡¨§‡¨ø?", hi: "‡§è‡§ï ‡§∏‡§æ‡§á‡§ï‡§ø‡§≤ ‡§ö‡§æ‡§≤‡§ï 3 ‡§ò‡§Ç‡§ü‡•á ‡§ï‡•á ‡§≤‡§ø‡§è 15 ‡§ï‡§ø‡§Æ‡•Ä/‡§ò‡§Ç‡§ü‡§æ ‡§ï‡•Ä ‡§ó‡§§‡§ø ‡§∏‡•á ‡§ö‡§≤‡§§‡§æ ‡§π‡•à‡•§ ‡§µ‡§π ‡§ï‡§ø‡§§‡§®‡•Ä ‡§¶‡•Ç‡§∞ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à?" },
                            options: [
                                { en: "45 km", or: "45 ‡¨ï‡¨ø‡¨Æ‡¨ø", hi: "45 ‡§ï‡§ø‡§Æ‡•Ä" },
                                { en: "30 km", or: "30 ‡¨ï‡¨ø‡¨Æ‡¨ø", hi: "30 ‡§ï‡§ø‡§Æ‡•Ä" },
                                { en: "5 km", or: "5 ‡¨ï‡¨ø‡¨Æ‡¨ø", hi: "5 ‡§ï‡§ø‡§Æ‡•Ä" },
                                { en: "60 km", or: "60 ‡¨ï‡¨ø‡¨Æ‡¨ø", hi: "60 ‡§ï‡§ø‡§Æ‡•Ä" }
                            ],
                            correct: 0,
                            explanation: { 
                                en: "Correct! Distance = Speed √ó Time = 15 km/h √ó 3 hours = 45 km", 
                                or: "‡¨†‡¨ø‡¨ï‡≠ç! ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ = ‡¨ó‡¨§‡¨ø √ó ‡¨∏‡¨Æ‡≠ü = 15 ‡¨ï‡¨ø‡¨Æ‡¨ø/‡¨ò‡¨£‡≠ç‡¨ü‡¨æ √ó 3 ‡¨ò‡¨£‡≠ç‡¨ü‡¨æ = 45 ‡¨ï‡¨ø‡¨Æ‡¨ø", 
                                hi: "‡§∏‡§π‡•Ä! ‡§¶‡•Ç‡§∞‡•Ä = ‡§ó‡§§‡§ø √ó ‡§∏‡§Æ‡§Ø = 15 ‡§ï‡§ø‡§Æ‡•Ä/‡§ò‡§Ç‡§ü‡§æ √ó 3 ‡§ò‡§Ç‡§ü‡•á = 45 ‡§ï‡§ø‡§Æ‡•Ä" 
                            }
                        }
                    ]
                },
                {
                    id: 2,
                    title: { en: "Calculations", or: "‡¨ó‡¨£‡¨®‡¨æ", hi: "‡§ó‡§£‡§®‡§æ" },
                    description: { en: "Calculate speed, distance, or time when two values are given", or: "‡¨¶‡≠Å‡¨á‡¨ü‡¨ø ‡¨Æ‡≠Ç‡¨≤‡≠ç‡≠ü ‡¨¶‡¨ø‡¨Ü‡¨Ø‡¨æ‡¨á‡¨•‡¨ø‡¨≤‡≠á ‡¨ó‡¨§‡¨ø, ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ ‡¨ï‡¨ø‡¨Æ‡≠ç‡¨¨‡¨æ ‡¨∏‡¨Æ‡≠ü ‡¨ó‡¨£‡¨®‡¨æ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å", hi: "‡§ú‡§¨ ‡§¶‡•ã ‡§Æ‡§æ‡§® ‡§¶‡§ø‡§è ‡§ó‡§è ‡§π‡•ã‡§Ç ‡§§‡•ã ‡§ó‡§§‡§ø, ‡§¶‡•Ç‡§∞‡•Ä ‡§Ø‡§æ ‡§∏‡§Æ‡§Ø ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç" },
                    type: "calculation",
                    questions: [
                        {
                            type: "speed",
                            question: { en: "A train travels 240 km in 4 hours. What is its speed in km/h?", or: "‡¨è‡¨ï ‡¨ü‡≠ç‡¨∞‡≠á‡¨® 4 ‡¨ò‡¨£‡≠ç‡¨ü‡¨æ‡¨∞‡≠á 240 ‡¨ï‡¨ø‡¨Æ‡¨ø ‡¨Ø‡¨æ‡¨è‡•§ ‡¨è‡¨π‡¨æ‡¨∞ ‡¨ó‡¨§‡¨ø ‡¨ï‡¨ø‡¨Æ‡¨ø/‡¨ò‡¨£‡≠ç‡¨ü‡¨æ‡¨∞‡≠á ‡¨ï‡≠á‡¨§‡≠á?", hi: "‡§è‡§ï ‡§ü‡•ç‡§∞‡•á‡§® 4 ‡§ò‡§Ç‡§ü‡•á ‡§Æ‡•á‡§Ç 240 ‡§ï‡§ø‡§Æ‡•Ä ‡§ö‡§≤‡§§‡•Ä ‡§π‡•à‡•§ ‡§á‡§∏‡§ï‡•Ä ‡§ó‡§§‡§ø ‡§ï‡§ø‡§Æ‡•Ä/‡§ò‡§Ç‡§ü‡§æ ‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?" },
                            distance: 240,
                            time: 4,
                            unit: "km/h",
                            answer: 60,
                            explanation: { 
                                en: "Correct! Speed = Distance √∑ Time = 240 km √∑ 4 hours = 60 km/h", 
                                or: "‡¨†‡¨ø‡¨ï‡≠ç! ‡¨ó‡¨§‡¨ø = ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ √∑ ‡¨∏‡¨Æ‡≠ü = 240 ‡¨ï‡¨ø‡¨Æ‡¨ø √∑ 4 ‡¨ò‡¨£‡≠ç‡¨ü‡¨æ = 60 ‡¨ï‡¨ø‡¨Æ‡¨ø/‡¨ò‡¨£‡≠ç‡¨ü‡¨æ", 
                                hi: "‡§∏‡§π‡•Ä! ‡§ó‡§§‡§ø = ‡§¶‡•Ç‡§∞‡•Ä √∑ ‡§∏‡§Æ‡§Ø = 240 ‡§ï‡§ø‡§Æ‡•Ä √∑ 4 ‡§ò‡§Ç‡§ü‡•á = 60 ‡§ï‡§ø‡§Æ‡•Ä/‡§ò‡§Ç‡§ü‡§æ" 
                            }
                        },
                        {
                            type: "distance",
                            question: { en: "A bus moves at 40 km/h for 2.5 hours. How far does it travel?", or: "‡¨è‡¨ï ‡¨¨‡¨∏‡≠ç 2.5 ‡¨ò‡¨£‡≠ç‡¨ü‡¨æ ‡¨™‡¨æ‡¨á‡¨Å 40 ‡¨ï‡¨ø‡¨Æ‡¨ø/‡¨ò‡¨£‡≠ç‡¨ü‡¨æ ‡¨¨‡≠á‡¨ó‡¨∞‡≠á ‡¨ó‡¨§‡¨ø ‡¨ï‡¨∞‡≠á‡•§ ‡¨è‡¨π‡¨æ ‡¨ï‡≠á‡¨§‡≠á ‡¨¶‡≠Ç‡¨∞ ‡¨Ø‡¨æ‡¨è?", hi: "‡§è‡§ï ‡§¨‡§∏ 2.5 ‡§ò‡§Ç‡§ü‡•á ‡§ï‡•á ‡§≤‡§ø‡§è 40 ‡§ï‡§ø‡§Æ‡•Ä/‡§ò‡§Ç‡§ü‡§æ ‡§ï‡•Ä ‡§ó‡§§‡§ø ‡§∏‡•á ‡§ö‡§≤‡§§‡•Ä ‡§π‡•à‡•§ ‡§Ø‡§π ‡§ï‡§ø‡§§‡§®‡•Ä ‡§¶‡•Ç‡§∞ ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à?" },
                            speed: 40,
                            time: 2.5,
                            unit: "km",
                            answer: 100,
                            explanation: { 
                                en: "Correct! Distance = Speed √ó Time = 40 km/h √ó 2.5 hours = 100 km", 
                                or: "‡¨†‡¨ø‡¨ï‡≠ç! ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ = ‡¨ó‡¨§‡¨ø √ó ‡¨∏‡¨Æ‡≠ü = 40 ‡¨ï‡¨ø‡¨Æ‡¨ø/‡¨ò‡¨£‡≠ç‡¨ü‡¨æ √ó 2.5 ‡¨ò‡¨£‡≠ç‡¨ü‡¨æ = 100 ‡¨ï‡¨ø‡¨Æ‡¨ø", 
                                hi: "‡§∏‡§π‡•Ä! ‡§¶‡•Ç‡§∞‡•Ä = ‡§ó‡§§‡§ø √ó ‡§∏‡§Æ‡§Ø = 40 ‡§ï‡§ø‡§Æ‡•Ä/‡§ò‡§Ç‡§ü‡§æ √ó 2.5 ‡§ò‡§Ç‡§ü‡•á = 100 ‡§ï‡§ø‡§Æ‡•Ä" 
                            }
                        },
                        {
                            type: "time",
                            question: { en: "A runner completes a 10 km race at 5 km/h. How long does it take in hours?", or: "‡¨ú‡¨£‡≠á ‡¨¶‡≠å‡¨°‡¨º‡¨æ‡¨≥‡≠Ä 5 ‡¨ï‡¨ø‡¨Æ‡¨ø/‡¨ò‡¨£‡≠ç‡¨ü‡¨æ ‡¨¨‡≠á‡¨ó‡¨∞‡≠á 10 ‡¨ï‡¨ø‡¨Æ‡¨ø ‡¨¶‡≠å‡¨°‡¨º ‡¨∏‡¨Æ‡¨æ‡¨™‡≠ç‡¨§ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡¨ø‡•§ ‡¨ò‡¨£‡≠ç‡¨ü‡¨æ‡¨∞‡≠á ‡¨ï‡≠á‡¨§‡≠á ‡¨∏‡¨Æ‡≠ü ‡¨≤‡¨æ‡¨ó‡¨ø‡¨¨?", hi: "‡§è‡§ï ‡§ß‡§æ‡§µ‡§ï 5 ‡§ï‡§ø‡§Æ‡•Ä/‡§ò‡§Ç‡§ü‡§æ ‡§ï‡•Ä ‡§ó‡§§‡§ø ‡§∏‡•á 10 ‡§ï‡§ø‡§Æ‡•Ä ‡§ï‡•Ä ‡§¶‡•å‡§°‡§º ‡§™‡•Ç‡§∞‡•Ä ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§ ‡§ò‡§Ç‡§ü‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§ï‡§ø‡§§‡§®‡§æ ‡§∏‡§Æ‡§Ø ‡§≤‡§ó‡•á‡§ó‡§æ?" },
                            distance: 10,
                            speed: 5,
                            unit: "hours",
                            answer: 2,
                            explanation: { 
                                en: "Correct! Time = Distance √∑ Speed = 10 km √∑ 5 km/h = 2 hours", 
                                or: "‡¨†‡¨ø‡¨ï‡≠ç! ‡¨∏‡¨Æ‡≠ü = ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ √∑ ‡¨ó‡¨§‡¨ø = 10 ‡¨ï‡¨ø‡¨Æ‡¨ø √∑ 5 ‡¨ï‡¨ø‡¨Æ‡¨ø/‡¨ò‡¨£‡≠ç‡¨ü‡¨æ = 2 ‡¨ò‡¨£‡≠ç‡¨ü‡¨æ", 
                                hi: "‡§∏‡§π‡•Ä! ‡§∏‡§Æ‡§Ø = ‡§¶‡•Ç‡§∞‡•Ä √∑ ‡§ó‡§§‡§ø = 10 ‡§ï‡§ø‡§Æ‡•Ä √∑ 5 ‡§ï‡§ø‡§Æ‡•Ä/‡§ò‡§Ç‡§ü‡§æ = 2 ‡§ò‡§Ç‡§ü‡•á" 
                            }
                        },
                        {
                            type: "speed",
                            question: { en: "A bird flies 150 meters in 30 seconds. What is its speed in m/s?", or: "‡¨è‡¨ï ‡¨™‡¨ï‡≠ç‡¨∑‡≠Ä 30 ‡¨∏‡≠á‡¨ï‡≠á‡¨£‡≠ç‡¨°‡¨∞‡≠á 150 ‡¨Æ‡¨ø‡¨ü‡¨∞ ‡¨â‡¨°‡¨º‡≠á‡•§ ‡¨è‡¨π‡¨æ‡¨∞ ‡¨ó‡¨§‡¨ø ‡¨Æ‡¨ø/‡¨∏‡≠á ‡¨∞‡≠á ‡¨ï‡≠á‡¨§‡≠á?", hi: "‡§è‡§ï ‡§™‡§ï‡•ç‡§∑‡•Ä 30 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§Æ‡•á‡§Ç 150 ‡§Æ‡•Ä‡§ü‡§∞ ‡§â‡§°‡§º‡§§‡§æ ‡§π‡•à‡•§ ‡§á‡§∏‡§ï‡•Ä ‡§ó‡§§‡§ø ‡§Æ‡•Ä/‡§∏‡•á ‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?" },
                            distance: 150,
                            time: 30,
                            unit: "m/s",
                            answer: 5,
                            explanation: { 
                                en: "Correct! Speed = Distance √∑ Time = 150 m √∑ 30 s = 5 m/s", 
                                or: "‡¨†‡¨ø‡¨ï‡≠ç! ‡¨ó‡¨§‡¨ø = ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ √∑ ‡¨∏‡¨Æ‡≠ü = 150 ‡¨Æ‡¨ø √∑ 30 ‡¨∏‡≠á = 5 ‡¨Æ‡¨ø/‡¨∏‡≠á", 
                                hi: "‡§∏‡§π‡•Ä! ‡§ó‡§§‡§ø = ‡§¶‡•Ç‡§∞‡•Ä √∑ ‡§∏‡§Æ‡§Ø = 150 ‡§Æ‡•Ä √∑ 30 ‡§∏‡•á = 5 ‡§Æ‡•Ä/‡§∏‡•á" 
                            }
                        }
                    ]
                },
                {
                    id: 3,
                    title: { en: "Compare Speeds", or: "‡¨ó‡¨§‡¨ø ‡¨§‡≠Å‡¨≥‡¨®‡¨æ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å", hi: "‡§ó‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•Ä ‡§§‡•Å‡§≤‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç" },
                    description: { en: "Compare speeds of different vehicles", or: "‡¨¨‡¨ø‡¨≠‡¨ø‡¨®‡≠ç‡¨® ‡¨Ø‡¨æ‡¨®‡¨∞ ‡¨ó‡¨§‡¨ø ‡¨§‡≠Å‡¨≥‡¨®‡¨æ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å", hi: "‡§µ‡§ø‡§≠‡§ø‡§®‡•ç‡§® ‡§µ‡§æ‡§π‡§®‡•ã‡§Ç ‡§ï‡•Ä ‡§ó‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•Ä ‡§§‡•Å‡§≤‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç" },
                    type: "comparison",
                    vehicles: [
                        { name: { en: "Walking", or: "‡¨ö‡¨æ‡¨≤‡¨ø‡¨¨‡¨æ", hi: "‡§ö‡§≤‡§®‡§æ" }, icon: "üö∂", speed: 5, unit: "km/h" },
                        { name: { en: "Bicycle", or: "‡¨∏‡¨æ‡¨á‡¨ï‡≠á‡¨≤", hi: "‡§∏‡§æ‡§á‡§ï‡§ø‡§≤" }, icon: "üö≤", speed: 15, unit: "km/h" },
                        { name: { en: "Car", or: "‡¨ï‡¨æ‡¨∞", hi: "‡§ï‡§æ‡§∞" }, icon: "üöó", speed: 60, unit: "km/h" },
                        { name: { en: "Bullet Train", or: "‡¨¨‡≠Å‡¨≤‡≠á‡¨ü ‡¨ü‡≠ç‡¨∞‡≠á‡¨®", hi: "‡§¨‡•Å‡§≤‡•á‡§ü ‡§ü‡•ç‡§∞‡•á‡§®" }, icon: "üöÑ", speed: 300, unit: "km/h" }
                    ],
                    questions: [
                        {
                            question: { en: "Which vehicle is fastest?", or: "‡¨ï‡≠á‡¨â‡¨Å ‡¨Ø‡¨æ‡¨® ‡¨Ö‡¨ß‡¨ø‡¨ï ‡¨§‡≠Ä‡¨¨‡≠ç‡¨∞?", hi: "‡§ï‡•å‡§® ‡§∏‡§æ ‡§µ‡§æ‡§π‡§® ‡§∏‡§¨‡§∏‡•á ‡§§‡•á‡§ú ‡§π‡•à?" },
                            options: [
                                { en: "Walking (5 km/h)", or: "‡¨ö‡¨æ‡¨≤‡¨ø‡¨¨‡¨æ (5 ‡¨ï‡¨ø‡¨Æ‡¨ø/‡¨ò‡¨£‡≠ç‡¨ü‡¨æ)", hi: "‡§ö‡§≤‡§®‡§æ (5 ‡§ï‡§ø‡§Æ‡•Ä/‡§ò‡§Ç‡§ü‡§æ)" },
                                { en: "Bicycle (15 km/h)", or: "‡¨∏‡¨æ‡¨á‡¨ï‡≠á‡¨≤ (15 ‡¨ï‡¨ø‡¨Æ‡¨ø/‡¨ò‡¨£‡≠ç‡¨ü‡¨æ)", hi: "‡§∏‡§æ‡§á‡§ï‡§ø‡§≤ (15 ‡§ï‡§ø‡§Æ‡•Ä/‡§ò‡§Ç‡§ü‡§æ)" },
                                { en: "Car (60 km/h)", or: "‡¨ï‡¨æ‡¨∞ (60 ‡¨ï‡¨ø‡¨Æ‡¨ø/‡¨ò‡¨£‡≠ç‡¨ü‡¨æ)", hi: "‡§ï‡§æ‡§∞ (60 ‡§ï‡§ø‡§Æ‡•Ä/‡§ò‡§Ç‡§ü‡§æ)" },
                                { en: "Bullet Train (300 km/h)", or: "‡¨¨‡≠Å‡¨≤‡≠á‡¨ü ‡¨ü‡≠ç‡¨∞‡≠á‡¨® (300 ‡¨ï‡¨ø‡¨Æ‡¨ø/‡¨ò‡¨£‡≠ç‡¨ü‡¨æ)", hi: "‡§¨‡•Å‡§≤‡•á‡§ü ‡§ü‡•ç‡§∞‡•á‡§® (300 ‡§ï‡§ø‡§Æ‡•Ä/‡§ò‡§Ç‡§ü‡§æ)" }
                            ],
                            correct: 3,
                            explanation: { 
                                en: "Correct! The bullet train at 300 km/h is much faster than a car at 60 km/h!", 
                                or: "‡¨†‡¨ø‡¨ï‡≠ç! ‡¨¨‡≠Å‡¨≤‡≠á‡¨ü ‡¨ü‡≠ç‡¨∞‡≠á‡¨® 300 ‡¨ï‡¨ø‡¨Æ‡¨ø/‡¨ò‡¨£‡≠ç‡¨ü‡¨æ ‡¨¨‡≠á‡¨ó‡¨∞‡≠á ‡¨ï‡¨æ‡¨∞ 60 ‡¨ï‡¨ø‡¨Æ‡¨ø/‡¨ò‡¨£‡≠ç‡¨ü‡¨æ ‡¨Ö‡¨™‡≠á‡¨ï‡≠ç‡¨∑‡¨æ ‡¨Ö‡¨ß‡¨ø‡¨ï ‡¨§‡≠Ä‡¨¨‡≠ç‡¨∞!", 
                                hi: "‡§∏‡§π‡•Ä! ‡§¨‡•Å‡§≤‡•á‡§ü ‡§ü‡•ç‡§∞‡•á‡§® 300 ‡§ï‡§ø‡§Æ‡•Ä/‡§ò‡§Ç‡§ü‡§æ ‡§ï‡•Ä ‡§ó‡§§‡§ø ‡§∏‡•á ‡§ï‡§æ‡§∞ 60 ‡§ï‡§ø‡§Æ‡•Ä/‡§ò‡§Ç‡§ü‡§æ ‡§∏‡•á ‡§ï‡§π‡•Ä‡§Ç ‡§Ö‡§ß‡§ø‡§ï ‡§§‡•á‡§ú ‡§π‡•à!" 
                            }
                        },
                        {
                            question: { en: "How many times faster is a car than walking?", or: "‡¨è‡¨ï ‡¨ï‡¨æ‡¨∞ ‡¨ö‡¨æ‡¨≤‡¨ø‡¨¨‡¨æ ‡¨Ö‡¨™‡≠á‡¨ï‡≠ç‡¨∑‡¨æ ‡¨ï‡≠á‡¨§‡≠á ‡¨ó‡≠Å‡¨£ ‡¨§‡≠Ä‡¨¨‡≠ç‡¨∞?", hi: "‡§ï‡§æ‡§∞ ‡§ö‡§≤‡§®‡•á ‡§∏‡•á ‡§ï‡§ø‡§§‡§®‡•á ‡§ó‡•Å‡§®‡§æ ‡§§‡•á‡§ú ‡§π‡•à?" },
                            options: [
                                { en: "5 times faster", or: "5 ‡¨ó‡≠Å‡¨£ ‡¨§‡≠Ä‡¨¨‡≠ç‡¨∞", hi: "5 ‡§ó‡•Å‡§®‡§æ ‡§§‡•á‡§ú" },
                                { en: "10 times faster", or: "10 ‡¨ó‡≠Å‡¨£ ‡¨§‡≠Ä‡¨¨‡≠ç‡¨∞", hi: "10 ‡§ó‡•Å‡§®‡§æ ‡§§‡•á‡§ú" },
                                { en: "12 times faster", or: "12 ‡¨ó‡≠Å‡¨£ ‡¨§‡≠Ä‡¨¨‡≠ç‡¨∞", hi: "12 ‡§ó‡•Å‡§®‡§æ ‡§§‡•á‡§ú" },
                                { en: "15 times faster", or: "15 ‡¨ó‡≠Å‡¨£ ‡¨§‡≠Ä‡¨¨‡≠ç‡¨∞", hi: "15 ‡§ó‡•Å‡§®‡§æ ‡§§‡•á‡§ú" }
                            ],
                            correct: 2,
                            explanation: { 
                                en: "Correct! Car (60 km/h) √∑ Walking (5 km/h) = 12 times faster!", 
                                or: "‡¨†‡¨ø‡¨ï‡≠ç! ‡¨ï‡¨æ‡¨∞ (60 ‡¨ï‡¨ø‡¨Æ‡¨ø/‡¨ò‡¨£‡≠ç‡¨ü‡¨æ) √∑ ‡¨ö‡¨æ‡¨≤‡¨ø‡¨¨‡¨æ (5 ‡¨ï‡¨ø‡¨Æ‡¨ø/‡¨ò‡¨£‡≠ç‡¨ü‡¨æ) = 12 ‡¨ó‡≠Å‡¨£ ‡¨§‡≠Ä‡¨¨‡≠ç‡¨∞!", 
                                hi: "‡§∏‡§π‡•Ä! ‡§ï‡§æ‡§∞ (60 ‡§ï‡§ø‡§Æ‡•Ä/‡§ò‡§Ç‡§ü‡§æ) √∑ ‡§ö‡§≤‡§®‡§æ (5 ‡§ï‡§ø‡§Æ‡•Ä/‡§ò‡§Ç‡§ü‡§æ) = 12 ‡§ó‡•Å‡§®‡§æ ‡§§‡•á‡§ú!" 
                            }
                        }
                    ]
                }
            ]
        };

        /* ---- STATE ---- */
        let currentLanguage = 'en';
        let score = 0;
        let lives = 3;
        let streak = 0;
        let timeLeft = 300;
        let timerInterval = null;
        let currentLevel = 1;
        let currentQuestion = 0;
        let levelProgress = [true, false, false];
        let correctAnswers = 0;
        let totalQuestions = 0;
        let isGameStarted = false;

        /* ---- ELEMENTS ---- */
        const langButtons = document.querySelectorAll('.lang-btn');
        const levelCards = document.querySelectorAll('.level-card');
        const challengeArea = document.getElementById('challenge-area');
        const levelSelection = document.getElementById('level-selection');
        const levelResults = document.getElementById('level-results');
        const scoreElement = document.getElementById('score');
        const timeElement = document.getElementById('time');
        const livesElement = document.getElementById('lives');
        const progressElement = document.getElementById('progress');
        const feedbackModal = document.getElementById('feedback-modal');
        const modalIcon = document.getElementById('modal-icon');
        const modalTitle = document.getElementById('modal-title');
        const modalText = document.getElementById('modal-text');
        const modalAction = document.getElementById('modal-action');
        const modalClose = document.getElementById('modal-close');
        const backBtn = document.getElementById('back-btn');
        const nextBtn = document.getElementById('next-btn');
        const continueBtn = document.getElementById('continue-btn');
        const playAgainBtn = document.getElementById('play-again-btn');
        const instructionsModal = document.getElementById('instructions-modal');
        const startGameBtn = document.getElementById('start-game-btn');
        const gameHeader = document.getElementById('game-header');
        const gameStatsContainer = document.getElementById('game-stats-container');
        const gameArea = document.getElementById('game-area');
        const streakCounter = document.getElementById('streak-counter');
        const streakCountDisplay = document.getElementById('streak-count');
        const triangleElement = document.getElementById('triangle');
        const triangleHint = document.getElementById('triangle-hint');

        const translations = {
            en: {
                'nav-dashboard': 'Dashboard','nav-about':'About','nav-contact':'Contact',
                'game-title':'Speed Masters','game-desc':'Learn the relationships between speed, distance, and time! Use the magic triangle to solve any problem!',
                'correct-title':'Awesome!','incorrect-title':'Try Again!',
                'continue-btn':'Continue','level-title':'Level Complete!','level-text':"Congratulations! You've mastered speed calculations!",
                'play-again':'Back to Level Selection','instructions-title':'Speed Masters Challenge','instructions-intro':"Welcome to Speed Masters! Learn all about speed, distance, and time relationships!",
                'instruction-1':'Level 1: Learn the magic triangle - all three formulas: Speed, Distance, Time',
                'instruction-2':'Level 2: Calculate speed, distance OR time when two values are given',
                'instruction-3':'Level 3: Compare speeds of different vehicles',
                'instruction-5':'Use the magic triangle to find any value!',
                'instruction-6':'Each correct answer earns you points and builds your streak!','instructions-outro':'Get ready to become a Speed Master!','start-game-btn':'Start Learning Speed!',
                'formula-title':'The Speed Formula'
            },
            or: {
                'nav-dashboard':'‡¨°‡≠ç‡≠ü‡¨æ‡¨∏‡¨¨‡≠ã‡¨∞‡≠ç‡¨°','nav-about':'‡¨¨‡¨ø‡¨∑‡≠ü‡¨∞‡≠á','nav-contact':'‡¨Ø‡≠ã‡¨ó‡¨æ‡¨Ø‡≠ã‡¨ó',
                'game-title':'‡¨∏‡≠ç‡¨™‡¨ø‡¨°‡≠ç ‡¨Æ‡¨æ‡¨∑‡≠ç‡¨ü‡¨∞‡≠ç‡¨∏','game-desc':'‡¨ó‡¨§‡¨ø, ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ ‡¨è‡¨¨‡¨Ç ‡¨∏‡¨Æ‡≠ü ‡¨Æ‡¨ß‡≠ç‡≠ü‡¨∞‡≠á ‡¨∏‡¨Æ‡≠ç‡¨™‡¨∞‡≠ç‡¨ï ‡¨∂‡¨ø‡¨ñ‡¨®‡≠ç‡¨§‡≠Å! ‡¨Ø‡≠á‡¨ï‡≠å‡¨£‡¨∏‡¨ø ‡¨∏‡¨Æ‡¨∏‡≠ç‡≠ü‡¨æ ‡¨∏‡¨Æ‡¨æ‡¨ß‡¨æ‡¨® ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨ú‡¨æ‡¨¶‡≠Å ‡¨§‡≠ç‡¨∞‡¨ø‡¨≠‡≠Å‡¨ú ‡¨¨‡≠ç‡≠ü‡¨¨‡¨π‡¨æ‡¨∞ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å!',
                'correct-title':'‡¨ö‡¨Æ‡¨§‡≠ç‡¨ï‡¨æ‡¨∞!','incorrect-title':'‡¨™‡≠Å‡¨£‡¨ø ‡¨ö‡≠á‡¨∑‡≠ç‡¨ü‡¨æ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å!',
                'continue-btn':'‡¨ú‡¨æ‡¨∞‡¨ø ‡¨∞‡¨ñ‡¨®‡≠ç‡¨§‡≠Å','level-title':'‡¨∏‡≠ç‡¨§‡¨∞ ‡¨∏‡¨Æ‡≠ç‡¨™‡≠Ç‡¨∞‡≠ç‡¨£‡≠ç‡¨£!','level-text':'‡¨Ö‡¨≠‡¨ø‡¨®‡¨®‡≠ç‡¨¶‡¨®! ‡¨Ü‡¨™‡¨£ ‡¨ó‡¨§‡¨ø ‡¨ó‡¨£‡¨®‡¨æ ‡¨Ü‡≠ü‡¨§‡≠ç‡¨§ ‡¨ï‡¨∞‡¨ø‡¨õ‡¨®‡≠ç‡¨§‡¨ø!',
                'play-again':'‡¨∏‡≠ç‡¨§‡¨∞ ‡¨ö‡≠ü‡¨®‡¨ï‡≠Å ‡¨´‡≠á‡¨∞‡¨®‡≠ç‡¨§‡≠Å','instructions-title':'‡¨∏‡≠ç‡¨™‡¨ø‡¨°‡≠ç ‡¨Æ‡¨æ‡¨∑‡≠ç‡¨ü‡¨∞‡≠ç‡¨∏ ‡¨ö‡≠ç‡≠ü‡¨æ‡¨≤‡≠á‡¨û‡≠ç‡¨ú','instructions-intro':'‡¨∏‡≠ç‡¨™‡¨ø‡¨°‡≠ç ‡¨Æ‡¨æ‡¨∑‡≠ç‡¨ü‡¨∞‡≠ç‡¨∏‡¨ï‡≠Å ‡¨∏‡≠ç‡≠±‡¨æ‡¨ó‡¨§!',
                'instruction-1':'‡¨∏‡≠ç‡¨§‡¨∞ 1: ‡¨ú‡¨æ‡¨¶‡≠Å ‡¨§‡≠ç‡¨∞‡¨ø‡¨≠‡≠Å‡¨ú ‡¨∂‡¨ø‡¨ñ‡¨®‡≠ç‡¨§‡≠Å - ‡¨∏‡¨Æ‡¨∏‡≠ç‡¨§ ‡¨§‡¨ø‡¨®‡≠ã‡¨ü‡¨ø ‡¨∏‡≠Ç‡¨§‡≠ç‡¨∞: ‡¨ó‡¨§‡¨ø, ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ, ‡¨∏‡¨Æ‡≠ü',
                'instruction-2':'‡¨∏‡≠ç‡¨§‡¨∞ 2: ‡¨¶‡≠Å‡¨á‡¨ü‡¨ø ‡¨Æ‡≠Ç‡¨≤‡≠ç‡≠ü ‡¨¶‡¨ø‡¨Ü‡¨Ø‡¨æ‡¨á‡¨•‡¨ø‡¨≤‡≠á ‡¨ó‡¨§‡¨ø, ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ ‡¨ï‡¨ø‡¨Æ‡≠ç‡¨¨‡¨æ ‡¨∏‡¨Æ‡≠ü ‡¨ó‡¨£‡¨®‡¨æ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å',
                'instruction-3':'‡¨∏‡≠ç‡¨§‡¨∞ 3: ‡¨¨‡¨ø‡¨≠‡¨ø‡¨®‡≠ç‡¨® ‡¨Ø‡¨æ‡¨®‡¨∞ ‡¨ó‡¨§‡¨ø ‡¨§‡≠Å‡¨≥‡¨®‡¨æ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å',
                'instruction-5':'‡¨Ø‡≠á‡¨ï‡≠å‡¨£‡¨∏‡¨ø ‡¨Æ‡≠Ç‡¨≤‡≠ç‡≠ü ‡¨ñ‡≠ã‡¨ú‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨ú‡¨æ‡¨¶‡≠Å ‡¨§‡≠ç‡¨∞‡¨ø‡¨≠‡≠Å‡¨ú ‡¨¨‡≠ç‡≠ü‡¨¨‡¨π‡¨æ‡¨∞ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å!',
                'instruction-6':'‡¨¨‡¨®‡¨æ‡¨∏‡≠ç ‡¨™‡¨è‡¨£‡≠ç‡¨ü ‡¨™‡¨æ‡¨á‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï‡¨∞ ‡¨ß‡¨æ‡¨∞‡¨æ ‡¨¨‡¨ú‡¨æ‡≠ü ‡¨∞‡¨ñ‡¨®‡≠ç‡¨§‡≠Å!','instructions-outro':'‡¨è‡¨ï ‡¨∏‡≠ç‡¨™‡¨ø‡¨°‡≠ç ‡¨Æ‡¨æ‡¨∑‡≠ç‡¨ü‡¨∞‡≠ç ‡¨π‡≠á‡¨¨‡¨æ‡¨ï‡≠Å ‡¨™‡≠ç‡¨∞‡¨∏‡≠ç‡¨§‡≠Å‡¨§ ‡¨π‡≠Å‡¨Ö‡¨®‡≠ç‡¨§‡≠Å!','start-game-btn':'‡¨ó‡¨§‡¨ø ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨¨‡¨æ ‡¨Ü‡¨∞‡¨Æ‡≠ç‡¨≠ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å!',
                'formula-title':'‡¨ó‡¨§‡¨ø ‡¨∏‡≠Ç‡¨§‡≠ç‡¨∞'
            },
            hi: {
                'nav-dashboard':'‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°','nav-about':'‡§π‡§Æ‡§æ‡§∞‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç','nav-contact':'‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç',
                'game-title':'‡§∏‡•ç‡§™‡•Ä‡§° ‡§Æ‡§æ‡§∏‡•ç‡§ü‡§∞‡•ç‡§∏','game-desc':'‡§ó‡§§‡§ø, ‡§¶‡•Ç‡§∞‡•Ä ‡§î‡§∞ ‡§∏‡§Æ‡§Ø ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§∏‡§Ç‡§¨‡§Ç‡§ß ‡§∏‡•Ä‡§ñ‡•á‡§Ç! ‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§ï‡•ã ‡§π‡§≤ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ú‡§æ‡§¶‡•Ç ‡§§‡•ç‡§∞‡§ø‡§≠‡•Å‡§ú ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç!',
                'correct-title':'‡§¨‡§π‡•Å‡§§ ‡§¨‡§¢‡§º‡§ø‡§Ø‡§æ!','incorrect-title':'‡§´‡§ø‡§∞ ‡§∏‡•á ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞‡•á‡§Ç!',
                'continue-btn':'‡§ú‡§æ‡§∞‡•Ä ‡§∞‡§ñ‡•á‡§Ç','level-title':'‡§∏‡•ç‡§§‡§∞ ‡§™‡•Ç‡§∞‡§æ!','level-text':'‡§¨‡§ß‡§æ‡§à ‡§π‡•ã! ‡§Ü‡§™‡§®‡•á ‡§ó‡§§‡§ø ‡§ó‡§£‡§®‡§æ ‡§Æ‡•á‡§Ç ‡§Æ‡§π‡§æ‡§∞‡§§ ‡§π‡§æ‡§∏‡§ø‡§≤ ‡§ï‡§∞ ‡§≤‡•Ä ‡§π‡•à!',
                'play-again':'‡§∏‡•ç‡§§‡§∞ ‡§ö‡§Ø‡§® ‡§™‡§∞ ‡§µ‡§æ‡§™‡§∏ ‡§ú‡§æ‡§è‡§Ç','instructions-title':'‡§∏‡•ç‡§™‡•Ä‡§° ‡§Æ‡§æ‡§∏‡•ç‡§ü‡§∞‡•ç‡§∏ ‡§ö‡•à‡§≤‡•á‡§Ç‡§ú','instructions-intro':'‡§∏‡•ç‡§™‡•Ä‡§° ‡§Æ‡§æ‡§∏‡•ç‡§ü‡§∞‡•ç‡§∏ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à! ‡§ó‡§§‡§ø, ‡§¶‡•Ç‡§∞‡•Ä ‡§î‡§∞ ‡§∏‡§Æ‡§Ø ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡•ã‡§Ç ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§ú‡§æ‡§®‡•á‡§Ç!',
                'instruction-1':'‡§∏‡•ç‡§§‡§∞ 1: ‡§ú‡§æ‡§¶‡•Ç ‡§§‡•ç‡§∞‡§ø‡§≠‡•Å‡§ú ‡§∏‡•Ä‡§ñ‡•á‡§Ç - ‡§∏‡§≠‡•Ä ‡§§‡•Ä‡§® ‡§∏‡•Ç‡§§‡•ç‡§∞: ‡§ó‡§§‡§ø, ‡§¶‡•Ç‡§∞‡•Ä, ‡§∏‡§Æ‡§Ø',
                'instruction-2':'‡§∏‡•ç‡§§‡§∞ 2: ‡§ú‡§¨ ‡§¶‡•ã ‡§Æ‡§æ‡§® ‡§¶‡§ø‡§è ‡§ó‡§è ‡§π‡•ã‡§Ç ‡§§‡•ã ‡§ó‡§§‡§ø, ‡§¶‡•Ç‡§∞‡•Ä ‡§Ø‡§æ ‡§∏‡§Æ‡§Ø ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç',
                'instruction-3':'‡§∏‡•ç‡§§‡§∞ 3: ‡§µ‡§ø‡§≠‡§ø‡§®‡•ç‡§® ‡§µ‡§æ‡§π‡§®‡•ã‡§Ç ‡§ï‡•Ä ‡§ó‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•Ä ‡§§‡•Å‡§≤‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç',
                'instruction-5':'‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§Æ‡§æ‡§® ‡§ï‡•ã ‡§ú‡•ç‡§û‡§æ‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ú‡§æ‡§¶‡•Ç ‡§§‡•ç‡§∞‡§ø‡§≠‡•Å‡§ú ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç!',
                'instruction-6':'‡§¨‡•ã‡§®‡§∏ ‡§Ö‡§Ç‡§ï ‡§Ö‡§∞‡•ç‡§ú‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§™‡§®‡•Ä ‡§≤‡§ó‡§æ‡§§‡§æ‡§∞ ‡§∏‡§´‡§≤‡§§‡§æ ‡§¨‡§®‡§æ‡§è ‡§∞‡§ñ‡•á‡§Ç!','instructions-outro':'‡§∏‡•ç‡§™‡•Ä‡§° ‡§Æ‡§æ‡§∏‡•ç‡§ü‡§∞ ‡§¨‡§®‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•ã ‡§ú‡§æ‡§è‡§Ç!','start-game-btn':'‡§ó‡§§‡§ø ‡§∏‡•Ä‡§ñ‡§®‡§æ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç!',
                'formula-title':'‡§ó‡§§‡§ø ‡§∏‡•Ç‡§§‡•ç‡§∞'
            }
        };

        /* ---- INIT ---- */
        function init() {
            createParticles();

            // Language buttons
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.addEventListener('click', function() { 
                    const lang = this.getAttribute('data-lang'); 
                    switchLanguage(lang); 
                });
            });

            // Game flow buttons
            startGameBtn.addEventListener('click', startGame);
            modalAction.addEventListener('click', closeModal);
            modalClose.addEventListener('click', closeModal);
            backBtn.addEventListener('click', showLevelSelection);
            nextBtn.addEventListener('click', nextQuestion);
            continueBtn.addEventListener('click', continueToNextLevel);
            playAgainBtn.addEventListener('click', showLevelSelection);

            // Level selection buttons
            levelCards.forEach(card => {
                card.addEventListener('click', function() {
                    if (this.classList.contains('locked')) return;
                    const level = parseInt(this.dataset.level);
                    startLevel(level);
                });
            });

            switchLanguage('en');
        }

        function createParticles() {
            const container = document.getElementById('particles');
            container.innerHTML = '';
            for (let i=0;i<18;i++){
                const p = document.createElement('div'); p.className='particle';
                p.style.left = Math.random() * 100 + '%';
                p.style.top = Math.random() * 100 + '%';
                p.style.animationDelay = `${Math.random()*10}s`;
                container.appendChild(p);
            }
        }

        /* ---- GAME FLOW ---- */
        function startGame() {
            instructionsModal.style.display = 'none';
            gameHeader.style.display = 'block';
            gameStatsContainer.style.display = 'block';
            gameArea.style.display = 'block';
            levelResults.style.display = 'none';
            
            // Reset game state
            score = 0; 
            lives = 3; 
            streak = 0; 
            timeLeft = 300;
            levelProgress = [true, false, false];
            
            updateScore();
            updateLives();
            updateStreak();
            updateLevelCards();
            startTimer();
            
            showLevelSelection();
            isGameStarted = true;
        }

        function showLevelSelection() {
            challengeArea.style.display = 'none';
            levelResults.style.display = 'none';
            levelSelection.style.display = 'grid';
        }

        function startLevel(level) {
            currentLevel = level;
            currentQuestion = 0;
            correctAnswers = 0;
            totalQuestions = gameData.levels[level-1].questions.length;
            
            levelSelection.style.display = 'none';
            challengeArea.style.display = 'block';
            
            loadQuestion();
        }

        function loadQuestion() {
            const levelData = gameData.levels[currentLevel-1];
            const questionData = levelData.questions[currentQuestion];
            
            document.getElementById('challenge-title').textContent = 
                `${translations[currentLanguage]['game-title'] || 'Speed Masters'} - ${levelData.title[currentLanguage]}`;
            document.getElementById('challenge-desc').textContent = levelData.description[currentLanguage];
            
            // Update triangle display for Level 1
            if (currentLevel === 1) {
                updateTriangleDisplay(questionData);
                document.getElementById('formula-display').style.display = 'block';
            } else {
                document.getElementById('formula-display').style.display = 'none';
            }
            
            const questionArea = document.getElementById('question-area');
            questionArea.innerHTML = '';
            
            const questionText = document.createElement('div');
            questionText.className = 'question-text';
            questionText.textContent = questionData.question[currentLanguage];
            questionArea.appendChild(questionText);
            
            if (levelData.type === 'triangle' || levelData.type === 'comparison') {
                createMultipleChoice(questionData);
            } else if (levelData.type === 'calculation') {
                createCalculationQuestion(questionData);
            }
            
            updateProgress();
        }

        function updateTriangleDisplay(questionData) {
            // Update the triangle based on what we're finding
            const triangle = triangleElement;
            const hint = triangleHint;
            
            if (questionData.question[currentLanguage].includes("SPEED") || 
                questionData.question[currentLanguage].includes("Speed") ||
                questionData.question[currentLanguage].includes("‡¨ó‡¨§‡¨ø") ||
                questionData.question[currentLanguage].includes("‡§ó‡§§‡§ø")) {
                
                triangle.innerHTML = `
                    <div style="color: #e53e3e; font-weight: 700; margin-bottom: 5px;">‚ùì Speed ‚ùì</div>
                    <div style="display: flex; justify-content: center; align-items: center;">
                        <span class="triangle-label" style="color: #4299e1;">Distance</span>
                        <div style="margin: 0 10px; font-size: 2rem;">/</div>
                        <span class="triangle-label" style="color: #38b2ac;">Time</span>
                    </div>
                `;
                hint.textContent = currentLanguage === 'en' ? "Cover SPEED: You see Distance √∑ Time" :
                                 currentLanguage === 'or' ? "‡¨ó‡¨§‡¨ø ‡¨Ü‡¨¨‡¨∞‡¨£ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å: ‡¨Ü‡¨™‡¨£ ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ √∑ ‡¨∏‡¨Æ‡≠ü ‡¨¶‡≠á‡¨ñ‡¨®‡≠ç‡¨§‡¨ø" :
                                 "‡§ó‡§§‡§ø ‡§ï‡•ã ‡§¢‡§ï‡•á‡§Ç: ‡§Ü‡§™ ‡§¶‡•Ç‡§∞‡•Ä √∑ ‡§∏‡§Æ‡§Ø ‡§¶‡•á‡§ñ‡§§‡•á ‡§π‡•à‡§Ç";
                
            } else if (questionData.question[currentLanguage].includes("DISTANCE") || 
                      questionData.question[currentLanguage].includes("Distance") ||
                      questionData.question[currentLanguage].includes("‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ") ||
                      questionData.question[currentLanguage].includes("‡§¶‡•Ç‡§∞‡•Ä")) {
                
                triangle.innerHTML = `
                    <div style="color: #4299e1; font-weight: 700; margin-bottom: 5px;">‚ùì Distance ‚ùì</div>
                    <div style="display: flex; justify-content: center; align-items: center;">
                        <span class="triangle-label" style="color: #e53e3e;">Speed</span>
                        <div style="margin: 0 10px; font-size: 2rem;">√ó</div>
                        <span class="triangle-label" style="color: #38b2ac;">Time</span>
                    </div>
                `;
                hint.textContent = currentLanguage === 'en' ? "Cover DISTANCE: You see Speed √ó Time" :
                                 currentLanguage === 'or' ? "‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ ‡¨Ü‡¨¨‡¨∞‡¨£ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å: ‡¨Ü‡¨™‡¨£ ‡¨ó‡¨§‡¨ø √ó ‡¨∏‡¨Æ‡≠ü ‡¨¶‡≠á‡¨ñ‡¨®‡≠ç‡¨§‡¨ø" :
                                 "‡§¶‡•Ç‡§∞‡•Ä ‡§ï‡•ã ‡§¢‡§ï‡•á‡§Ç: ‡§Ü‡§™ ‡§ó‡§§‡§ø √ó ‡§∏‡§Æ‡§Ø ‡§¶‡•á‡§ñ‡§§‡•á ‡§π‡•à‡§Ç";
                
            } else if (questionData.question[currentLanguage].includes("TIME") || 
                      questionData.question[currentLanguage].includes("Time") ||
                      questionData.question[currentLanguage].includes("‡¨∏‡¨Æ‡≠ü") ||
                      questionData.question[currentLanguage].includes("‡§∏‡§Æ‡§Ø")) {
                
                triangle.innerHTML = `
                    <div style="color: #38b2ac; font-weight: 700; margin-bottom: 5px;">‚ùì Time ‚ùì</div>
                    <div style="display: flex; justify-content: center; align-items: center;">
                        <span class="triangle-label" style="color: #4299e1;">Distance</span>
                        <div style="margin: 0 10px; font-size: 2rem;">/</div>
                        <span class="triangle-label" style="color: #e53e3e;">Speed</span>
                    </div>
                `;
                hint.textContent = currentLanguage === 'en' ? "Cover TIME: You see Distance √∑ Speed" :
                                 currentLanguage === 'or' ? "‡¨∏‡¨Æ‡≠ü ‡¨Ü‡¨¨‡¨∞‡¨£ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å: ‡¨Ü‡¨™‡¨£ ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ √∑ ‡¨ó‡¨§‡¨ø ‡¨¶‡≠á‡¨ñ‡¨®‡≠ç‡¨§‡¨ø" :
                                 "‡§∏‡§Æ‡§Ø ‡§ï‡•ã ‡§¢‡§ï‡•á‡§Ç: ‡§Ü‡§™ ‡§¶‡•Ç‡§∞‡•Ä √∑ ‡§ó‡§§‡§ø ‡§¶‡•á‡§ñ‡§§‡•á ‡§π‡•à‡§Ç";
            } else {
                // Default triangle
                triangle.innerHTML = `
                    <div style="color: #4299e1; font-weight: 700;">Distance</div>
                    <div style="display: flex; justify-content: center; align-items: center; margin-top: 10px;">
                        <span class="triangle-label" style="color: #e53e3e;">Speed</span>
                        <div style="margin: 0 10px; font-size: 2rem;">√ó</div>
                        <span class="triangle-label" style="color: #38b2ac;">Time</span>
                    </div>
                `;
                hint.textContent = currentLanguage === 'en' ? "Cover what you want to find!" :
                                 currentLanguage === 'or' ? "‡¨Ü‡¨™‡¨£ ‡¨Ø‡¨æ‡¨π‡¨æ ‡¨ñ‡≠ã‡¨ú‡¨ø‡¨¨‡¨æ‡¨ï‡≠Å ‡¨ö‡¨æ‡¨π‡≠Å‡¨Å‡¨õ‡¨®‡≠ç‡¨§‡¨ø ‡¨§‡¨æ‡¨π‡¨æ ‡¨Ü‡¨¨‡¨∞‡¨£ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å!" :
                                 "‡§ú‡•ã ‡§Ü‡§™ ‡§ñ‡•ã‡§ú‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç ‡§â‡§∏‡•á ‡§¢‡§ï‡•á‡§Ç!";
            }
        }

        function createMultipleChoice(questionData) {
            const answerOptions = document.createElement('div');
            answerOptions.className = 'answer-options';
            answerOptions.id = 'answer-options';
            
            questionData.options.forEach((option, index) => {
                const optionBtn = document.createElement('button');
                optionBtn.className = 'option-btn';
                optionBtn.textContent = option[currentLanguage];
                optionBtn.dataset.index = index;
                
                optionBtn.addEventListener('click', function() {
                    const isCorrect = parseInt(this.dataset.index) === questionData.correct;
                    handleAnswer(isCorrect, questionData.explanation);
                });
                
                answerOptions.appendChild(optionBtn);
            });
            
            document.getElementById('question-area').appendChild(answerOptions);
        }

        function createCalculationQuestion(questionData) {
            const inputArea = document.createElement('div');
            inputArea.className = 'input-area';
            
            // Show the given values
            if (questionData.type === 'speed') {
                inputArea.innerHTML = `
                    <div class="input-row">
                        <div class="input-label">${currentLanguage === 'en' ? 'Distance:' : currentLanguage === 'or' ? '‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ:' : '‡§¶‡•Ç‡§∞‡•Ä:'}</div>
                        <input type="number" class="speed-input" value="${questionData.distance}" readonly>
                        <div>${questionData.unit.includes('km') ? 'km' : 'm'}</div>
                    </div>
                    <div class="input-row">
                        <div class="input-label">${currentLanguage === 'en' ? 'Time:' : currentLanguage === 'or' ? '‡¨∏‡¨Æ‡≠ü:' : '‡§∏‡§Æ‡§Ø:'}</div>
                        <input type="number" class="speed-input" value="${questionData.time}" readonly>
                        <div>${questionData.unit.includes('h') ? 'hours' : currentLanguage === 'or' ? '‡¨∏‡≠á‡¨ï‡≠á‡¨£‡≠ç‡¨°' : 'seconds'}</div>
                    </div>
                    <div class="input-row">
                        <div class="input-label">${currentLanguage === 'en' ? 'Speed:' : currentLanguage === 'or' ? '‡¨ó‡¨§‡¨ø:' : '‡§ó‡§§‡§ø:'}</div>
                        <input type="number" class="speed-input" id="answer-input" placeholder="?">
                        <div>${questionData.unit}</div>
                    </div>
                `;
            } else if (questionData.type === 'distance') {
                inputArea.innerHTML = `
                    <div class="input-row">
                        <div class="input-label">${currentLanguage === 'en' ? 'Speed:' : currentLanguage === 'or' ? '‡¨ó‡¨§‡¨ø:' : '‡§ó‡§§‡§ø:'}</div>
                        <input type="number" class="speed-input" value="${questionData.speed}" readonly>
                        <div>km/h</div>
                    </div>
                    <div class="input-row">
                        <div class="input-label">${currentLanguage === 'en' ? 'Time:' : currentLanguage === 'or' ? '‡¨∏‡¨Æ‡≠ü:' : '‡§∏‡§Æ‡§Ø:'}</div>
                        <input type="number" class="speed-input" value="${questionData.time}" readonly>
                        <div>hours</div>
                    </div>
                    <div class="input-row">
                        <div class="input-label">${currentLanguage === 'en' ? 'Distance:' : currentLanguage === 'or' ? '‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ:' : '‡§¶‡•Ç‡§∞‡•Ä:'}</div>
                        <input type="number" class="speed-input" id="answer-input" placeholder="?">
                        <div>km</div>
                    </div>
                `;
            } else if (questionData.type === 'time') {
                inputArea.innerHTML = `
                    <div class="input-row">
                        <div class="input-label">${currentLanguage === 'en' ? 'Distance:' : currentLanguage === 'or' ? '‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ:' : '‡§¶‡•Ç‡§∞‡•Ä:'}</div>
                        <input type="number" class="speed-input" value="${questionData.distance}" readonly>
                        <div>km</div>
                    </div>
                    <div class="input-row">
                        <div class="input-label">${currentLanguage === 'en' ? 'Speed:' : currentLanguage === 'or' ? '‡¨ó‡¨§‡¨ø:' : '‡§ó‡§§‡§ø:'}</div>
                        <input type="number" class="speed-input" value="${questionData.speed}" readonly>
                        <div>km/h</div>
                    </div>
                    <div class="input-row">
                        <div class="input-label">${currentLanguage === 'en' ? 'Time:' : currentLanguage === 'or' ? '‡¨∏‡¨Æ‡≠ü:' : '‡§∏‡§Æ‡§Ø:'}</div>
                        <input type="number" class="speed-input" id="answer-input" placeholder="?">
                        <div>hours</div>
                    </div>
                `;
            }
            
            const submitBtn = document.createElement('button');
            submitBtn.className = 'submit-btn';
            submitBtn.textContent = currentLanguage === 'en' ? 'Check Answer' : currentLanguage === 'or' ? '‡¨â‡¨§‡≠ç‡¨§‡¨∞ ‡¨Ø‡¨æ‡¨û‡≠ç‡¨ö ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å' : '‡§â‡§§‡•ç‡§§‡§∞ ‡§ú‡§æ‡§Ç‡§ö‡•á‡§Ç';
            submitBtn.addEventListener('click', function() {
                const userAnswer = parseFloat(document.getElementById('answer-input').value);
                const isCorrect = Math.abs(userAnswer - questionData.answer) < 0.1;
                handleAnswer(isCorrect, questionData.explanation);
            });
            inputArea.appendChild(submitBtn);
            
            document.getElementById('question-area').appendChild(inputArea);
        }

        function handleAnswer(isCorrect, explanation) {
            if (isCorrect) {
                streak++;
                correctAnswers++;
                score += 10 + Math.min(streak * 2, 20);
                
                modalIcon.innerHTML = '<i class="fas fa-check-circle" style="color:#48bb78;"></i>';
                modalTitle.textContent = translations[currentLanguage]['correct-title'] || 'Correct!';
                modalText.textContent = explanation[currentLanguage];
                feedbackModal.style.display = 'flex';
                
                createConfetti();
            } else {
                streak = 0;
                lives--;
                
                modalIcon.innerHTML = '<i class="fas fa-times-circle" style="color:#f56565;"></i>';
                modalTitle.textContent = translations[currentLanguage]['incorrect-title'] || 'Try Again!';
                modalText.textContent = explanation[currentLanguage];
                feedbackModal.style.display = 'flex';
                
                if (lives <= 0) {
                    setTimeout(() => {
                        showLevelSelection();
                        alert(currentLanguage === 'en' ? 'Game Over! Try again!' : 
                              currentLanguage === 'or' ? '‡¨ñ‡≠á‡¨≥ ‡¨∏‡¨Æ‡¨æ‡¨™‡≠ç‡¨§! ‡¨™‡≠Å‡¨£‡¨ø ‡¨ö‡≠á‡¨∑‡≠ç‡¨ü‡¨æ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å!' : 
                              '‡§ñ‡•á‡§≤ ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§! ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞‡•á‡§Ç!');
                        lives = 3;
                        updateLives();
                    }, 1500);
                }
            }
            
            updateScore();
            updateLives();
            updateStreak();
            
            document.querySelectorAll('.option-btn, .submit-btn').forEach(btn => {
                btn.disabled = true;
            });
        }

        function nextQuestion() {
            currentQuestion++;
            const levelData = gameData.levels[currentLevel-1];
            
            if (currentQuestion < levelData.questions.length) {
                loadQuestion();
            } else {
                completeLevel();
            }
        }

        function completeLevel() {
            clearInterval(timerInterval);
            
            const timeBonus = Math.max(0, Math.floor(timeLeft / 30) * 5);
            score += timeBonus;
            updateScore();
            
            if (currentLevel < 3) {
                levelProgress[currentLevel] = true;
                updateLevelCards();
            }
            
            challengeArea.style.display = 'none';
            levelResults.style.display = 'block';
            
            document.getElementById('final-score').textContent = score;
            document.getElementById('correct-answers').textContent = `${correctAnswers}/${totalQuestions}`;
            document.getElementById('time-bonus').textContent = `+${timeBonus}`;
            
            createConfetti();
        }

        function continueToNextLevel() {
            if (currentLevel < 3) {
                currentLevel++;
                startLevel(currentLevel);
            } else {
                alert(currentLanguage === 'en' ? 'Congratulations! You completed all levels!' : 
                      currentLanguage === 'or' ? '‡¨Ö‡¨≠‡¨ø‡¨®‡¨®‡≠ç‡¨¶‡¨®! ‡¨Ü‡¨™‡¨£ ‡¨∏‡¨Æ‡¨∏‡≠ç‡¨§ ‡¨∏‡≠ç‡¨§‡¨∞ ‡¨∏‡¨Æ‡¨æ‡¨™‡≠ç‡¨§ ‡¨ï‡¨∞‡¨ø‡¨õ‡¨®‡≠ç‡¨§‡¨ø!' : 
                      '‡§¨‡§ß‡§æ‡§à ‡§π‡•ã! ‡§Ü‡§™‡§®‡•á ‡§∏‡§≠‡•Ä ‡§∏‡•ç‡§§‡§∞ ‡§™‡•Ç‡§∞‡•á ‡§ï‡§∞ ‡§≤‡§ø‡§è ‡§π‡•à‡§Ç!');
                showLevelSelection();
            }
        }

        /* ---- UI Updates ---- */
        function updateScore() {
            scoreElement.textContent = `Score: ${score}`;
            const maxPossible = 150;
            const pct = Math.min(100, Math.round((score / (maxPossible || 1)) * 100));
            progressElement.style.width = `${pct}%`;
        }

        function updateLives() {
            livesElement.textContent = `Lives: ${lives}`;
        }

        function updateStreak() {
            streakCountDisplay.textContent = streak;
            
            if (streak >= 2) {
                streakCounter.style.display = 'block';
            } else {
                streakCounter.style.display = 'none';
            }
        }

        function updateProgress() {
            const levelData = gameData.levels[currentLevel-1];
            const progress = ((currentQuestion + 1) / levelData.questions.length) * 100;
            document.getElementById('next-btn').textContent = 
                currentQuestion < levelData.questions.length - 1 ? 
                (currentLanguage === 'en' ? 'Next Challenge' : currentLanguage === 'or' ? '‡¨™‡¨∞‡¨¨‡¨∞‡≠ç‡¨§‡≠ç‡¨§‡≠Ä ‡¨ö‡≠ç‡≠ü‡¨æ‡¨≤‡≠á‡¨û‡≠ç‡¨ú' : '‡§Ö‡§ó‡§≤‡•Ä ‡§ö‡•Å‡§®‡•å‡§§‡•Ä') + ' ‚Üí' :
                (currentLanguage === 'en' ? 'Finish Level' : currentLanguage === 'or' ? '‡¨∏‡≠ç‡¨§‡¨∞ ‡¨∏‡¨Æ‡¨æ‡¨™‡≠ç‡¨§ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å' : '‡§∏‡•ç‡§§‡§∞ ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç') + ' ‚Üí';
        }

        function updateLevelCards() {
            levelCards.forEach((card, index) => {
                if (levelProgress[index]) {
                    card.classList.remove('locked');
                } else {
                    card.classList.add('locked');
                }
            });
        }

        /* ---- TIMER & LANGUAGE ---- */
        function startTimer() {
            clearInterval(timerInterval);
            updateTimerDisplay();
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    showTimeUpModal();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const m = Math.floor(timeLeft / 60);
            const s = timeLeft % 60;
            timeElement.textContent = `${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
        }

        function showTimeUpModal() {
            modalIcon.innerHTML = '<i class="fas fa-clock" style="color:#f56565;"></i>';
            modalTitle.textContent = currentLanguage === 'en' ? "Time's Up!" : 
                                   (currentLanguage === 'or' ? '‡¨∏‡¨Æ‡≠ü ‡¨∏‡¨∞‡¨ø‡¨ó‡¨≤‡¨æ!' : '‡§∏‡§Æ‡§Ø ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§!');
            modalText.textContent = currentLanguage === 'en' ? 
                `Time finished! You scored ${score} points.` :
                currentLanguage === 'or' ? `‡¨∏‡¨Æ‡≠ü ‡¨∏‡¨Æ‡¨æ‡¨™‡≠ç‡¨§! ‡¨Ü‡¨™‡¨£ ${score} ‡¨™‡¨è‡¨£‡≠ç‡¨ü ‡¨™‡¨æ‡¨á‡¨õ‡¨®‡≠ç‡¨§‡¨ø‡•§` :
                `‡§∏‡§Æ‡§Ø ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§! ‡§Ü‡§™‡§®‡•á ${score} ‡§Ö‡§Ç‡§ï ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§ø‡§è‡•§`;
            modalAction.textContent = currentLanguage === 'en' ? 'Try Again' : 
                                    (currentLanguage === 'or' ? '‡¨™‡≠Å‡¨£‡¨ø ‡¨ö‡≠á‡¨∑‡≠ç‡¨ü‡¨æ' : '‡§´‡§ø‡§∞ ‡§∏‡•á ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞‡•á‡§Ç');
            feedbackModal.style.display = 'flex';
        }

        function switchLanguage(lang) {
            currentLanguage = lang;
            
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.toggle('active', btn.getAttribute('data-lang')===lang);
            });
            
            const map = translations[lang] || translations.en;
            Object.keys(map).forEach(key => {
                document.querySelectorAll(`[data-translate="${key}"]`).forEach(el => {
                    el.textContent = map[key];
                });
            });
            
            if (isGameStarted && challengeArea.style.display !== 'none') {
                loadQuestion();
            }
        }

        function closeModal() {
            feedbackModal.style.display = 'none';
            
            document.querySelectorAll('.option-btn, .submit-btn').forEach(btn => {
                btn.disabled = false;
            });
            
            if (streak > 0 && challengeArea.style.display !== 'none') {
                setTimeout(() => {
                    nextQuestion();
                }, 500);
            }
        }

        /* ---- ANIMATIONS ---- */
        function createConfetti() {
            for (let i=0;i<15;i++){
                const c = document.createElement('div');
                c.style.position='fixed';
                c.style.left = Math.random()*100 + 'vw';
                c.style.top = '-10px';
                c.style.width='12px'; c.style.height='12px';
                const colors = ['#4299e1','#38b2ac','#ed8936','#9f7aea','#f56565'];
                c.style.backgroundColor = colors[Math.floor(Math.random()*colors.length)];
                c.style.zIndex = 1500;
                c.style.borderRadius = '50%';
                c.style.animation = `confetti-fall ${2 + Math.random()}s ease-out forwards`;
                document.body.appendChild(c);
                setTimeout(()=> { if (document.body.contains(c)) document.body.removeChild(c); }, 3000);
            }
        }

        /* ---- EVENTS & BOOT ---- */
        document.addEventListener('DOMContentLoaded', () => {
            init();
        });

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') closeModal();
            if (e.key === '1') switchLanguage('en'); 
            if (e.key === '2') switchLanguage('or'); 
            if (e.key === '3') switchLanguage('hi');
        });

        feedbackModal.addEventListener('click', (ev) => { 
            if (ev.target === feedbackModal) closeModal(); 
        });
    </script>
</body>
</html>